"use strict";(self.webpackChunkshaderlab=self.webpackChunkshaderlab||[]).push([[843],{843:(e,t,n)=>{n.r(t),n.d(t,{userFeature:()=>p});const l=e=>{let t=e.headers.get("content-type");return t.includes("application/json")?r(e):t.includes("text/html")?o(e):void Swal.fire({icon:"error",title:"Oops...",text:`Check ${t}`})},r=e=>e.json().then((t=>{if(e.ok)return t})),o=e=>e.text().then((t=>e.ok?t:(Swal.fire({icon:"error",title:"Oops...",text:t}),null))),s=document.querySelector(".sl-panel .panel-login .register"),c=document.querySelector(".sl-panel #panel-input .account input"),a=document.querySelector(".sl-panel .panel-login .login"),i=document.querySelector(".sl-panel #panel-input .password input"),u=(e="")=>{var t,n,r;t=`/api/user${e}`,n={method:"POST",body:new URLSearchParams(new FormData(document.getElementById("panel-input"))),redirect:"follow"},r=e=>{e&&(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("token",JSON.stringify({accessToken:e.accessToken,refreshToken:e.refreshToken})),Swal.fire({icon:"success",title:"Success",text:"Login Success!"}).then((()=>window.location.href="home.html")))},fetch(t,n).then(l).then(r).catch((e=>console.log(e)))},p=()=>{s.addEventListener("click",(()=>{u()})),i.addEventListener("keypress",(e=>{"Enter"===e.key&&c.value.length>3&&(e.preventDefault(),a.click())})),a.addEventListener("click",(()=>{u("/login")}))}}}]);