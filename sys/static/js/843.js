"use strict";(self.webpackChunkshaderlab=self.webpackChunkshaderlab||[]).push([[843],{2843:(e,t,n)=>{n.r(t),n.d(t,{userFeature:()=>d});var s=n(8492);const r=e=>{let t=e.headers.get("content-type");return t.includes("application/json")?l(e):t.includes("text/html")?o(e):void(0,s.swal)({icon:"error",title:"Oops...",text:`Check ${t}`}).then()},l=e=>e.json().then((t=>{if(e.ok)return t})),o=e=>e.text().then((t=>e.ok?t:((0,s.swal)({icon:"error",title:"Oops...",text:t}).then(),null))),c=document.querySelector(".sl-panel .panel-login .register"),a=document.querySelector(".sl-panel .panel-login .login"),i=document.querySelector(".sl-panel #panel-input .password input"),u=(e,t="")=>{var n,l,o;n=`/api/user${t}`,l={method:"POST",body:new URLSearchParams(new FormData(document.getElementById("panel-input"))),redirect:"follow"},o=t=>{t&&(localStorage.setItem("user",JSON.stringify(t.data)),localStorage.setItem("token",JSON.stringify({accessToken:t.accessToken,refreshToken:t.refreshToken})),(0,s.swal)({icon:"success",title:"Success",text:"Login Success!"}).then((()=>{e(!0)})))},fetch(n,l).then(r).then(o).catch((e=>console.log(e)))},d=e=>{c.addEventListener("click",(()=>{u(e)})),a.addEventListener("click",(()=>{u(e,"/login")})),i.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),a.click())}))}}}]);