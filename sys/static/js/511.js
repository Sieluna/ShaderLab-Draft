"use strict";(self.webpackChunkshaderlab=self.webpackChunkshaderlab||[]).push([[511],{9511:(e,t,o)=>{o.r(t),o.d(t,{uploadFeature:()=>n});var r=o(5854);const a=document.querySelector("sl-nav").shadowRoot,s=document.querySelector("sl-editor").shadowRoot.querySelector(".sl-editor__code .post-input"),n=()=>{a.querySelector(".upload-entry").addEventListener("click",(()=>{Object.assign(r.structure,r.editor.export());for(let e in r.structure.drawflow.Home.data)r.structure[`code_${e}`]=localStorage.getItem(`code_${e}`);console.log(s.value,JSON.stringify(r.structure));let e=new FormData;e.append("topic",""),e.append("name",s.value),e.append("content",JSON.stringify(r.structure)),fetch("/api/post",{method:"POST",headers:new Headers({Authorization:"Bearer "+localStorage.getItem("token")}),body:e}).then((e=>e.json())).then((e=>{e.status,alert(e.msg)}))}))}}}]);