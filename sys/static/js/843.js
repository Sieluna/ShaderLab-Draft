"use strict";(self.webpackChunkshaderlab=self.webpackChunkshaderlab||[]).push([[843],{2843:(e,t,n)=>{n.r(t),n.d(t,{userFeature:()=>d});var s=n(8492);const r=e=>{let t=e.headers.get("content-type");return t.includes("application/json")?l(e):t.includes("text/html")?o(e):void(0,s.swal)({icon:"error",title:"Oops...",text:`Check ${t}`})},l=e=>e.json().then((t=>{if(e.ok)return t})),o=e=>e.text().then((t=>e.ok?t:((0,s.swal)({icon:"error",title:"Oops...",text:t}),null))),c=document.querySelector(".sl-panel .panel-login .register"),a=document.querySelector(".sl-panel .panel-login .login"),i=document.querySelector(".sl-panel #panel-input .password input"),u=(e="")=>{var t,n,l;t=`/api/user${e}`,n={method:"POST",body:new URLSearchParams(new FormData(document.getElementById("panel-input"))),redirect:"follow"},l=e=>{e&&(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("token",JSON.stringify({accessToken:e.accessToken,refreshToken:e.refreshToken})),(0,s.swal)({icon:"success",title:"Success",text:"Login Success!"}).then((()=>window.location.href="home.html")))},fetch(t,n).then(r).then(l).catch((e=>console.log(e)))},d=()=>{c.addEventListener("click",(()=>{u()})),i.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),a.click())})),a.addEventListener("click",(()=>{u("/login")}))}}}]);