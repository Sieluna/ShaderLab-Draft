"use strict";(self.webpackChunkshaderlab=self.webpackChunkshaderlab||[]).push([[854],{5854:(e,t,i)=>{i.r(t),i.d(t,{editor:()=>_c,flowFeature:()=>Wc,prefabs:()=>Tc,structure:()=>rc});var n=i(5033),s=i(96),o=i(1022),r=i(1625),a=i(3456),l=i(6516);const c={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},h={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},d="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),O="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),u="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),f="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),p="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),m=d&&(f||+d[1]<57)||u&&f;for(let e=0;e<10;e++)c[48+e]=c[96+e]=String(e);for(let e=1;e<=24;e++)c[e+111]="F"+e;for(let e=65;e<=90;e++)c[e]=String.fromCharCode(e+32),h[e]=String.fromCharCode(e);for(let e in c)h.hasOwnProperty(e)||(h[e]=c[e]);var g=i(2535),Q=i(3362);const v=Q.Z.mac?"mac":Q.Z.windows?"win":Q.Z.linux?"linux":"key";function $(e,t,i){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==i&&t.shiftKey&&(e="Shift-"+e),e}const y=n.t.domEventHandlers({keydown:(e,t)=>T(b(t.state),e,t,"editor")}),x=g.r$.define({enables:y}),w=new WeakMap;function b(e){let t=e.facet(x),i=w.get(t);return i||w.set(t,i=function(e,t=v){let i=Object.create(null),n=Object.create(null),s=(e,t)=>{let i=n[e];if(null==i)n[e]=t;else if(i!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},o=(e,n,o,r)=>{let a=i[e]||(i[e]=Object.create(null)),l=n.split(/ (?!$)/).map((e=>function(e,t){const i=e.split(/-(?!$)/);let n,s,o,r,a=i[i.length-1];"Space"==a&&(a=" ");for(let e=0;e<i.length-1;++e){const a=i[e];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?r=!0:s=!0}}return n&&(a="Alt-"+a),s&&(a="Ctrl-"+a),r&&(a="Meta-"+a),o&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<l.length;t++){let i=l.slice(0,t).join(" ");s(i,!0),a[i]||(a[i]={preventDefault:!0,commands:[t=>{let n=S={view:t,prefix:i,scope:e};return setTimeout((()=>{S==n&&(S=null)}),4e3),!0}]})}let c=l.join(" ");s(c,!1);let h=a[c]||(a[c]={preventDefault:!1,commands:[]});h.commands.push(o),r&&(h.preventDefault=!0)};for(let i of e){let e=i[t]||i.key;if(e)for(let t of i.scope?i.scope.split(" "):["editor"])o(t,e,i.run,i.preventDefault),i.shift&&o(t,"Shift-"+e,i.shift,i.preventDefault)}return i}(t.reduce(((e,t)=>e.concat(t)),[]))),i}let S=null;function T(e,t,i,n){let s=function(e){let t=!(m&&(e.ctrlKey||e.altKey||e.metaKey)||(O||p)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?h:c)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=1==s.length&&" "!=s,r="",a=!1;S&&S.view==i&&S.scope==n&&(r=S.prefix+" ",(a=l.d.indexOf(t.keyCode)<0)&&(S=null));let d,u=e=>{if(e){for(let t of e.commands)if(t(i))return!0;e.preventDefault&&(a=!0)}return!1},f=e[n];if(f){if(u(f[r+$(s,t,!o)]))return!0;if(o&&(t.shiftKey||t.altKey||t.metaKey)&&(d=c[t.keyCode])&&d!=s){if(u(f[r+$(d,t,!0)]))return!0}else if(o&&t.shiftKey&&u(f[r+$(s,t,!0)]))return!0}return a}const k=!Q.Z.ios,_=g.r$.define({combine:e=>(0,g.BO)(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});class P{constructor(e,t,i,n,s){this.left=e,this.top=t,this.width=i,this.height=n,this.className=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const R=s.lg.fromClass(class{constructor(e){this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(_).cursorBlinkRate+"ms"}update(e){let t=e.startState.facet(_)!=e.state.facet(_);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some((e=>e.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}readPos(){let{state:e}=this.view,t=e.facet(_),i=e.selection.ranges.map((e=>e.empty?[]:function(e,t){if(t.to<=e.viewport.from||t.from>=e.viewport.to)return[];let i=Math.max(t.from,e.viewport.from),n=Math.min(t.to,e.viewport.to),s=e.textDirection==a.Nm.LTR,r=e.contentDOM,l=r.getBoundingClientRect(),c=X(e),h=window.getComputedStyle(r.firstChild),d=l.left+parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)),O=l.right-parseInt(h.paddingRight),u=I(e,i),f=I(e,n),p=u.type==o.kH.Text?u:null,m=f.type==o.kH.Text?f:null;e.lineWrapping&&(p&&(p=Z(e,i,p)),m&&(m=Z(e,n,m)));if(p&&m&&p.from==m.from)return Q(v(t.from,t.to,p));{let i=p?v(t.from,null,p):$(u,!1),n=m?v(null,t.to,m):$(f,!0),s=[];return(p||u).to<(m||f).from-1?s.push(g(d,i.bottom,O,n.top)):i.bottom<n.top&&e.elementAtHeight((i.bottom+n.top)/2).type==o.kH.Text&&(i.bottom=n.top=(i.bottom+n.top)/2),Q(i).concat(s).concat(Q(n))}function g(e,t,i,n){return new P(e-c.left,t-c.top-.01,i-e,n-t+.01,"cm-selectionBackground")}function Q({top:e,bottom:t,horizontal:i}){let n=[];for(let s=0;s<i.length;s+=2)n.push(g(i[s],e,i[s+1],t));return n}function v(t,i,n){let o=1e9,r=-1e9,l=[];function c(t,i,c,h,u){let f=e.coordsAtPos(t,t==n.to?-2:2),p=e.coordsAtPos(c,c==n.from?2:-2);o=Math.min(f.top,p.top,o),r=Math.max(f.bottom,p.bottom,r),u==a.Nm.LTR?l.push(s&&i?d:f.left,s&&h?O:p.right):l.push(!s&&h?d:p.left,!s&&i?O:f.right)}let h=null!=t?t:n.from,u=null!=i?i:n.to;for(let n of e.visibleRanges)if(n.to>h&&n.from<u)for(let s=Math.max(n.from,h),o=Math.min(n.to,u);;){let n=e.state.doc.lineAt(s);for(let r of e.bidiSpans(n)){let e=r.from+n.from,a=r.to+n.from;if(e>=o)break;a>s&&c(Math.max(e,s),null==t&&e<=h,Math.min(a,o),null==i&&a>=u,r.dir)}if(s=n.to+1,s>=o)break}return 0==l.length&&c(h,null==t,u,null==i,e.textDirection),{top:o,bottom:r,horizontal:l}}function $(e,t){let i=l.top+(t?e.top:e.bottom);return{top:i,bottom:i,horizontal:[]}}}(this.view,e))).reduce(((e,t)=>e.concat(t))),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||k:t.drawRangeCursor){let e=j(this.view,i,s);e&&n.push(e)}}return{rangePieces:i,cursors:n}}drawSel({rangePieces:e,cursors:t}){if(e.length!=this.rangePieces.length||e.some(((e,t)=>!e.eq(this.rangePieces[t])))){this.selectionLayer.textContent="";for(let t of e)this.selectionLayer.appendChild(t.draw());this.rangePieces=e}if(t.length!=this.cursors.length||t.some(((e,t)=>!e.eq(this.cursors[t])))){let e=this.cursorLayer.children;if(e.length!==t.length){this.cursorLayer.textContent="";for(const e of t)this.cursorLayer.appendChild(e.draw())}else t.forEach(((t,i)=>t.adjust(e[i])));this.cursors=t}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),W={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};k&&(W[".cm-line"].caretColor="transparent !important");const C=g.Wl.highest(n.t.theme(W));function X(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==a.Nm.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function Z(e,t,i){let n=g.jT.cursor(t);return{from:Math.max(i.from,e.moveToLineBoundary(n,!1,!0).from),to:Math.min(i.to,e.moveToLineBoundary(n,!0,!0).from),type:o.kH.Text}}function I(e,t){let i=e.lineBlockAt(t);if(Array.isArray(i.type))for(let e of i.type)if(e.to>t||e.to==t&&(e.to==i.to||e.type==o.kH.Text))return e;return i}function j(e,t,i){let n=e.coordsAtPos(t.head,t.assoc||1);if(!n)return null;let s=X(e);return new P(n.left-s.left,n.top-s.top,-1,n.bottom-n.top,i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const A=g.Py.define({map:(e,t)=>null==e?null:t.mapPos(e)}),U=g.QQ.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(A)?t.value:e),e))}),E=s.lg.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let i=e.state.field(U);null==i?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(U)!=i||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let e=this.view.state.field(U),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;let i=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+this.view.scrollDOM.scrollLeft,top:t.top-i.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(U)!=e&&this.view.dispatch({effects:A.of(e)})}},{eventHandlers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function z(e,t,i,n,s){t.lastIndex=0;for(let o,r=e.iterRange(i,n),a=i;!r.next().done;a+=r.value.length)if(!r.lineBreak)for(;o=t.exec(r.value);)s(a+o.index,a+o.index+o[0].length,o)}class q{constructor(e){let{regexp:t,decoration:i,boundary:n,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco="function"==typeof i?i:()=>i,this.boundary=n,this.maxLength=s}createDeco(e){let t=new g.f_;for(let{from:i,to:n}of function(e,t){let i=e.visibleRanges;if(1==i.length&&i[0].from==e.viewport.from&&i[0].to==e.viewport.to)return i;let n=[];for(let{from:s,to:o}of i)s=Math.max(e.state.doc.lineAt(s).from,s-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),n.length&&n[n.length-1].to>=s?n[n.length-1].to=o:n.push({from:s,to:o});return n}(e,this.maxLength))z(e.state.doc,this.regexp,i,n,((i,n,s)=>t.add(i,n,this.getDeco(s,e,i))));return t.finish()}updateDeco(e,t){let i=1e9,n=-1;return e.docChanged&&e.changes.iterChanges(((t,s,o,r)=>{r>e.view.viewport.from&&o<e.view.viewport.to&&(i=Math.min(o,i),n=Math.max(r,n))})),e.viewportChanged||n-i>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),i,n):t}updateRange(e,t,i,n){for(let s of e.visibleRanges){let o=Math.max(s.from,i),r=Math.min(s.to,n);if(r>o){let i=e.state.doc.lineAt(o),n=i.to<r?e.state.doc.lineAt(r):i,a=Math.max(s.from,i.from),l=Math.min(s.to,n.to);if(this.boundary){for(;o>i.from;o--)if(this.boundary.test(i.text[o-1-i.from])){a=o;break}for(;r<n.to;r++)if(this.boundary.test(n.text[r-n.from])){l=r;break}}let c,h=[];if(i==n)for(this.regexp.lastIndex=a-i.from;(c=this.regexp.exec(i.text))&&c.index<l-i.from;){let t=c.index+i.from;h.push(this.getDeco(c,e,t).range(t,t+c[0].length))}else z(e.state.doc,this.regexp,a,l,((t,i,n)=>h.push(this.getDeco(n,e,t).range(t,i))));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:h})}}return t}}const Y=null!=/x/.unicode?"gu":"g",L=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮\ufeff￹-￼]",Y),M={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let G=null;const D=g.r$.define({combine(e){let t=(0,g.BO)(e,{render:null,specialChars:L,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==G&&"undefined"!=typeof document&&document.body){let t=document.body.style;G=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return G||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Y)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Y)),t}});let N=null;class V extends o.l9{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=(i=this.code)>=32?"•":10==i?"␤":String.fromCharCode(9216+i);var i;let n=e.state.phrase("Control character")+" "+(M[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,n,t);if(s)return s;let o=document.createElement("span");return o.textContent=t,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class B extends o.l9{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}s.lg.fromClass(class{constructor(){this.height=1e3,this.attrs={style:"padding-bottom: 1000px"}}update(e){let t=e.view.viewState.editorHeight-e.view.defaultLineHeight;t!=this.height&&(this.height=t,this.attrs={style:`padding-bottom: ${t}px`})}});const H=o.p.line({class:"cm-activeLine"}),F=s.lg.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,i=[];for(let n of e.state.selection.ranges){if(!n.empty)return o.p.none;let s=e.lineBlockAt(n.head);s.from>t&&(i.push(H.range(s.from)),t=s.from)}return o.p.set(i)}},{decorations:e=>e.decorations});const J=2e3;function K(e,t){let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),n=e.state.doc.lineAt(i),s=i-n.from,o=s>J?-1:s==n.length?function(e,t){let i=e.coordsAtPos(e.viewport.from);return i?Math.round(Math.abs((i.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):(0,g.IS)(n.text,e.state.tabSize,i-n.from);return{line:n.number,col:o,off:s}}function ee(e,t){let i=K(e,t),n=e.state.selection;return i?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(i.line).from),s=e.state.doc.lineAt(t);i={line:s.number,col:i.col,off:Math.min(i.off,s.length)},n=n.map(e.changes)}},get(t,s,o){let r=K(e,t);if(!r)return n;let a=function(e,t,i){let n=Math.min(t.line,i.line),s=Math.max(t.line,i.line),o=[];if(t.off>J||i.off>J||t.col<0||i.col<0){let r=Math.min(t.off,i.off),a=Math.max(t.off,i.off);for(let t=n;t<=s;t++){let i=e.doc.line(t);i.length<=a&&o.push(g.jT.range(i.from+r,i.to+a))}}else{let r=Math.min(t.col,i.col),a=Math.max(t.col,i.col);for(let t=n;t<=s;t++){let i=e.doc.line(t),n=(0,g.Gz)(i.text,r,e.tabSize,!0);if(n>-1){let t=(0,g.Gz)(i.text,a,e.tabSize);o.push(g.jT.range(i.from+n,i.from+t))}}}return o}(e.state,i,r);return a.length?o?g.jT.create(a.concat(n.ranges)):g.jT.create(a):n}}:null}const te={Alt:[18,e=>e.altKey],Control:[17,e=>e.ctrlKey],Shift:[16,e=>e.shiftKey],Meta:[91,e=>e.metaKey]},ie={style:"cursor: crosshair"};const ne="-10000px";class se{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(i)}update(e){let t=e.state.facet(this.facet),i=t.filter((e=>e));if(t===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let n=[];for(let t=0;t<i.length;t++){let s=i[t],o=-1;if(s){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==s.create&&(o=e)}if(o<0)n[t]=this.createTooltipView(s);else{let i=n[t]=this.tooltipViews[o];i.update&&i.update(e)}}}for(let e of this.tooltipViews)n.indexOf(e)<0&&e.dom.remove();return this.input=t,this.tooltips=i,this.tooltipViews=n,!0}}function oe(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const re=g.r$.define({combine:e=>{var t,i,n;return{position:Q.Z.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(i=e.find((e=>e.parent)))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(n=e.find((e=>e.tooltipSpace)))||void 0===n?void 0:n.tooltipSpace)||oe}}}),ae=s.lg.fromClass(class{constructor(e){var t;this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let i=e.state.facet(re);this.position=i.position,this.parent=i.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new se(e,he,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),null===(t=e.dom.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e);t&&this.observeIntersection();let i=t||e.geometryChanged,n=e.state.facet(re);if(n.position!=this.position){this.position=n.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;i=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=ne,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;null===(e=this.view.dom.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.measureSoon);for(let{dom:e}of this.manager.tooltipViews)e.remove();null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect();return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(re).tooltipSpace(this.view)}}writeMeasure(e){let{editor:t,space:i}=e,n=[];for(let s=0;s<this.manager.tooltips.length;s++){let o=this.manager.tooltips[s],r=this.manager.tooltipViews[s],{dom:l}=r,c=e.pos[s],h=e.size[s];if(!c||c.bottom<=Math.max(t.top,i.top)||c.top>=Math.min(t.bottom,i.bottom)||c.right<Math.max(t.left,i.left)-.1||c.left>Math.min(t.right,i.right)+.1){l.style.top=ne;continue}let d=o.arrow?r.dom.querySelector(".cm-tooltip-arrow"):null,O=d?7:0,u=h.right-h.left,f=h.bottom-h.top,p=r.offset||ce,m=this.view.textDirection==a.Nm.LTR,g=h.width>i.right-i.left?m?i.left:i.right-h.width:m?Math.min(c.left-(d?14:0)+p.x,i.right-u):Math.max(i.left,c.left-u+(d?14:0)-p.x),Q=!!o.above;!o.strictSide&&(Q?c.top-(h.bottom-h.top)-p.y<i.top:c.bottom+(h.bottom-h.top)+p.y>i.bottom)&&Q==i.bottom-c.bottom>c.top-i.top&&(Q=!Q);let v=Q?c.top-f-O-p.y:c.bottom+O+p.y,$=g+u;if(!0!==r.overlap)for(let e of n)e.left<$&&e.right>g&&e.top<v+f&&e.bottom>v&&(v=Q?e.top-f-2-O:e.bottom+O+2);"absolute"==this.position?(l.style.top=v-e.parent.top+"px",l.style.left=g-e.parent.left+"px"):(l.style.top=v+"px",l.style.left=g+"px"),d&&(d.style.left=c.left+(m?p.x:-p.x)-(g+14-7)+"px"),!0!==r.overlap&&n.push({left:g,top:v,right:$,bottom:v+f}),l.classList.toggle("cm-tooltip-above",Q),l.classList.toggle("cm-tooltip-below",!Q),r.positioned&&r.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=ne}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),le=n.t.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ce={x:0,y:0},he=g.r$.define({enables:[ae,le]}),de=g.r$.define();class Oe{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new se(e,de,(e=>this.createHostedView(e)))}static create(e){return new Oe(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const ue=he.compute([de],(e=>{let t=e.facet(de).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:Oe.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class fe{constructor(e,t,i,n,s){this.view=e,this.source=t,this.field=i,this.setHover=n,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(null==t)return;let i=this.view.coordsAtPos(t);if(null==i||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let n=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find((e=>e.from<=t&&e.to>=t)),o=n&&n.dir==a.Nm.RTL?-1:1,r=this.source(this.view,t,e.x<i.left?-o:o);if(null==r?void 0:r.then){let e=this.pending={pos:t};r.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>(0,s.OO)(this.view.state,e,"hover tooltip")))}else r&&this.view.dispatch({effects:this.setHover.of(r)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:n}=i||this.pending,s=null!==(t=null==i?void 0:i.end)&&void 0!==t?t:n;(n==s?this.view.posAtCoords(this.lastMove)==n:function(e,t,i,n,s,o){let r=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(i);r.setEnd(l.node,l.offset),r.setStart(a.node,a.offset);let c=r.getClientRects();r.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-s,s-t.bottom,t.left-n,n-t.right)<=o)return!0}return!1}(this.view,n,s,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function pe(e,t={}){let i=g.Py.define(),n=g.QQ.define({create:()=>null,update(e,n){if(e&&(t.hideOnChange&&(n.docChanged||n.selection)||t.hideOn&&t.hideOn(n,e)))return null;if(e&&n.docChanged){let t=n.changes.mapPos(e.pos,-1,g.gc.TrackDel);if(null==t)return null;let i=Object.assign(Object.create(null),e);i.pos=t,null!=e.end&&(i.end=n.changes.mapPos(e.end)),e=i}for(let t of n.effects)t.is(i)&&(e=t.value),t.is(me)&&(e=null);return e},provide:e=>de.from(e)});return[n,s.lg.define((s=>new fe(s,e,n,i,t.hoverTime||300))),ue]}const me=g.Py.define();me.of(null);var ge=i(8443);class Qe extends g.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Qe.prototype.elementClass="",Qe.prototype.toDOM=void 0,Qe.prototype.mapMode=g.gc.TrackBefore,Qe.prototype.startSide=Qe.prototype.endSide=-1,Qe.prototype.point=!0;const ve=g.r$.define(),$e={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>g.Xs.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},ye=g.r$.define();function xe(e){return[be(),ye.of(Object.assign(Object.assign({},$e),e))]}const we=g.r$.define({combine:e=>e.some((e=>e))});function be(e){let t=[Se];return e&&!1===e.fixed&&t.push(we.of(!0)),t}const Se=s.lg.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(ye).map((t=>new Pe(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(we),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,i=e.view.viewport,n=Math.min(t.to,i.to)-Math.max(t.from,i.from);this.syncGutters(n<.8*(i.to-i.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(we)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let i=g.Xs.iter(this.view.state.facet(ve),this.view.viewport.from),n=[],s=this.gutters.map((e=>new _e(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks){let t;if(Array.isArray(e.type)){for(let i of e.type)if(i.type==o.kH.Text){t=i;break}}else t=e.type==o.kH.Text?e:void 0;if(t){n.length&&(n=[]),ke(i,n,e.from);for(let e of s)e.line(this.view,t,n)}}for(let e of s)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(ye),i=e.state.facet(ye),n=e.docChanged||e.heightChanged||e.viewportChanged||!g.Xs.eq(e.startState.facet(ve),e.state.facet(ve),e.view.viewport.from,e.view.viewport.to);if(t==i)for(let t of this.gutters)t.update(e)&&(n=!0);else{n=!0;let s=[];for(let n of i){let i=t.indexOf(n);i<0?s.push(new Pe(this.view,n)):(this.gutters[i].update(e),s.push(this.gutters[i]))}for(let e of this.gutters)e.dom.remove(),s.indexOf(e)<0&&e.destroy();for(let e of s)this.dom.appendChild(e.dom);this.gutters=s}return n}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>n.t.scrollMargins.of((t=>{let i=t.plugin(e);return i&&0!=i.gutters.length&&i.fixed?t.textDirection==a.Nm.LTR?{left:i.dom.offsetWidth}:{right:i.dom.offsetWidth}:null}))});function Te(e){return Array.isArray(e)?e:[e]}function ke(e,t,i){for(;e.value&&e.from<=i;)e.from==i&&t.push(e.value),e.next()}class _e{constructor(e,t,i){this.gutter=e,this.height=i,this.localMarkers=[],this.i=0,this.cursor=g.Xs.iter(e.markers,t.from)}line(e,t,i){this.localMarkers.length&&(this.localMarkers=[]),ke(this.cursor,this.localMarkers,t.from);let n=i.length?this.localMarkers.concat(i):this.localMarkers,s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let o=this.gutter;if(0==n.length&&!o.config.renderEmptyElements)return;let r=t.top-this.height;if(this.i==o.elements.length){let i=new Re(e,t.height,r,n);o.elements.push(i),o.dom.appendChild(i.dom)}else o.elements[this.i].update(e,t.height,r,n);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Pe{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,(n=>{let s=e.lineBlockAtHeight(n.clientY-e.documentTop);t.domEventHandlers[i](e,s,n)&&n.preventDefault()}));this.markers=Te(t.markers(e)),t.initialSpacer&&(this.spacer=new Re(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Te(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let i=e.view.viewport;return!g.Xs.eq(this.markers,t,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Re{constructor(e,t,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(e,t,i,n)}update(e,t,i,n){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].compare(t[i]))return!1;return!0}(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,o=0;;){let r=o,a=s<t.length?t[s++]:null,l=!1;if(a){let e=a.elementClass;e&&(i+=" "+e);for(let e=o;e<this.markers.length;e++)if(this.markers[e].compare(a)){r=e,l=!0;break}}else r=this.markers.length;for(;o<r;){let e=this.markers[o++];if(e.toDOM){e.destroy(n);let t=n.nextSibling;n.remove(),n=t}}if(!a)break;a.toDOM&&(l?n=n.nextSibling:this.dom.insertBefore(a.toDOM(e),n)),l&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}const We=g.r$.define(),Ce=g.r$.define({combine:e=>(0,g.BO)(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let e in t){let n=i[e],s=t[e];i[e]=n?(e,t,i)=>n(e,t,i)||s(e,t,i):s}return i}})});class Xe extends Qe{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ze(e,t){return e.state.facet(Ce).formatNumber(t,e.state)}const Ie=ye.compute([Ce],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(We),lineMarker:(e,t,i)=>i.some((e=>e.toDOM))?null:new Xe(Ze(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(Ce)!=e.state.facet(Ce),initialSpacer:e=>new Xe(Ze(e,je(e.state.doc.lines))),updateSpacer(e,t){let i=Ze(t.view,je(t.view.state.doc.lines));return i==e.number?e:new Xe(i)},domEventHandlers:e.facet(Ce).domEventHandlers})));function je(e){let t=9;for(;t<e;)t=10*t+9;return t}const Ae=new class extends Qe{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Ue=ve.compute(["selection"],(e=>{let t=[],i=-1;for(let n of e.selection.ranges)if(n.empty){let s=e.doc.lineAt(n.head).from;s>i&&(i=s,t.push(Ae.range(s)))}return g.Xs.of(t)}));r.uG,r.eU,r.y_,r.xL,s.Uh,a.nG,a.z_;const Ee=1024;let ze=0;class qe{constructor(e,t){this.from=e,this.to=t}}class Ye{constructor(e={}){this.id=ze++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Me.match(e)),t=>{let i=e(t);return void 0===i?null:[this,i]}}}Ye.closedBy=new Ye({deserialize:e=>e.split(" ")}),Ye.openedBy=new Ye({deserialize:e=>e.split(" ")}),Ye.group=new Ye({deserialize:e=>e.split(" ")}),Ye.contextHash=new Ye({perNode:!0}),Ye.lookAhead=new Ye({perNode:!0}),Ye.mounted=new Ye({perNode:!0});const Le=Object.create(null);class Me{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):Le,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),n=new Me(e.name||"",t,e.id,i);if(e.props)for(let i of e.props)if(Array.isArray(i)||(i=i(n)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[i[0].id]=i[1]}return n}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Ye.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return e=>{for(let i=e.prop(Ye.group),n=-1;n<(i?i.length:0);n++){let s=t[n<0?e.name:i[n]];if(s)return s}}}}Me.none=new Me("",Object.create(null),0,8);class Ge{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let n=null;for(let t of e){let e=t(i);e&&(n||(n=Object.assign({},i.props)),n[e[0].id]=e[1])}t.push(n?new Me(i.name,n,i.id,i.flags):i)}return new Ge(t)}}const De=new WeakMap,Ne=new WeakMap;var Ve;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(Ve||(Ve={}));class Be{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[e,t]of s)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(Ye.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let i=e.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new rt(this.topNode,e)}cursorAt(e,t=0,i=0){let n=De.get(this)||this.topNode,s=new rt(n);return s.moveTo(e,t),De.set(this,s._tree),s}get topNode(){return new tt(this,0,0,null)}resolve(e,t=0){let i=et(De.get(this)||this.topNode,e,t,!1);return De.set(this,i),i}resolveInner(e,t=0){let i=et(Ne.get(this)||this.topNode,e,t,!0);return Ne.set(this,i),i}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|Ve.IncludeAnonymous);;){let e=!1;if(o.from<=s&&o.to>=n&&(o.type.isAnonymous||!1!==t(o))){if(o.firstChild())continue;e=!0}for(;e&&i&&!o.type.isAnonymous&&i(o),!o.nextSibling();){if(!o.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:ht(Me.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,i)=>new Be(this.type,e,t,i,this.propValues)),e.makeTree||((e,t,i)=>new Be(Me.none,e,t,i)))}static build(e){return function(e){var t;let{buffer:i,nodeSet:n,maxBufferLength:s=Ee,reused:o=[],minRepeatType:r=n.types.length}=e,a=Array.isArray(i)?new He(i,i.length):i,l=n.types,c=0,h=0;function d(e,t,i,g,Q){let{id:v,start:$,end:y,size:x}=a,w=h;for(;x<0;){if(a.next(),-1==x){let t=o[v];return i.push(t),void g.push($-e)}if(-3==x)return void(c=v);if(-4==x)return void(h=v);throw new RangeError(`Unrecognized record size: ${x}`)}let b,S,T=l[v],k=$-e;if(y-$<=s&&(S=p(a.pos-t,Q))){let t=new Uint16Array(S.size-S.skip),i=a.pos-S.size,s=t.length;for(;a.pos>i;)s=m(S.start,t,s);b=new Fe(t,y-S.start,n),k=S.start-e}else{let e=a.pos-x;a.next();let t=[],i=[],n=v>=r?v:-1,o=0,l=y;for(;a.pos>e;)n>=0&&a.id==n&&a.size>=0?(a.end<=l-s&&(u(t,i,$,o,a.end,l,n,w),o=t.length,l=a.end),a.next()):d($,e,t,i,n);if(n>=0&&o>0&&o<t.length&&u(t,i,$,o,$,l,n,w),t.reverse(),i.reverse(),n>-1&&o>0){let e=O(T);b=ht(T,t,i,0,t.length,0,y-$,e,e)}else b=f(T,t,i,y-$,w-y)}i.push(b),g.push(k)}function O(e){return(t,i,n)=>{let s,o,r=0,a=t.length-1;if(a>=0&&(s=t[a])instanceof Be){if(!a&&s.type==e&&s.length==n)return s;(o=s.prop(Ye.lookAhead))&&(r=i[a]+s.length+o)}return f(e,t,i,n,r)}}function u(e,t,i,s,o,r,a,l){let c=[],h=[];for(;e.length>s;)c.push(e.pop()),h.push(t.pop()+i-o);e.push(f(n.types[a],c,h,r-o,l-r)),t.push(o-i)}function f(e,t,i,n,s=0,o){if(c){let e=[Ye.contextHash,c];o=o?[e].concat(o):[e]}if(s>25){let e=[Ye.lookAhead,s];o=o?[e].concat(o):[e]}return new Be(e,t,i,n,o)}function p(e,t){let i=a.fork(),n=0,o=0,l=0,c=i.end-s,h={size:0,start:0,skip:0};e:for(let s=i.pos-e;i.pos>s;){let e=i.size;if(i.id==t&&e>=0){h.size=n,h.start=o,h.skip=l,l+=4,n+=4,i.next();continue}let a=i.pos-e;if(e<0||a<s||i.start<c)break;let d=i.id>=r?4:0,O=i.start;for(i.next();i.pos>a;){if(i.size<0){if(-3!=i.size)break e;d+=4}else i.id>=r&&(d+=4);i.next()}o=O,n+=e,l+=d}return(t<0||n==e)&&(h.size=n,h.start=o,h.skip=l),h.size>4?h:void 0}function m(e,t,i){let{id:n,start:s,end:o,size:l}=a;if(a.next(),l>=0&&n<r){let r=i;if(l>4){let n=a.pos-(l-4);for(;a.pos>n;)i=m(e,t,i)}t[--i]=r,t[--i]=o-e,t[--i]=s-e,t[--i]=n}else-3==l?c=n:-4==l&&(h=n);return i}let g=[],Q=[];for(;a.pos>0;)d(e.start||0,e.bufferStart||0,g,Q,-1);let v=null!==(t=e.length)&&void 0!==t?t:g.length?Q[0]+g[0].length:0;return new Be(l[e.topID],g.reverse(),Q.reverse(),v)}(e)}}Be.empty=new Be(Me.none,[],[],0);class He{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new He(this.buffer,this.index)}}class Fe{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Me.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),i==(e+=4))return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,r=-1;for(let a=e;a!=t&&!(Je(s,n,o[a+1],o[a+2])&&(r=a,i>0));a=o[a+3]);return r}slice(e,t,i,n){let s=this.buffer,o=new Uint16Array(t-e);for(let n=e,r=0;n<t;)o[r++]=s[n++],o[r++]=s[n++]-i,o[r++]=s[n++]-i,o[r++]=s[n++]-e;return new Fe(o,n-i,this.set)}}function Je(e,t,i,n){switch(e){case-2:return i<t;case-1:return n>=t&&i<t;case 0:return i<t&&n>t;case 1:return i<=t&&n>t;case 2:return n>t;case 4:return!0}}function Ke(e,t){let i=e.childBefore(t);for(;i;){let t=i.lastChild;if(!t||t.to!=i.to)break;t.type.isError&&t.from==t.to?(e=i,i=t.prevSibling):i=t}return e}function et(e,t,i,n){for(var s;e.from==e.to||(i<1?e.from>=t:e.from>t)||(i>-1?e.to<=t:e.to<t);){let t=!n&&e instanceof tt&&e.index<0?null:e.parent;if(!t)return e;e=t}let o=n?0:Ve.IgnoreOverlays;if(n)for(let n=e,r=n.parent;r;n=r,r=n.parent)n instanceof tt&&n.index<0&&(null===(s=r.enter(t,i,o))||void 0===s?void 0:s.from)!=n.from&&(e=r);for(;;){let n=e.enter(t,i,o);if(!n)return e;e=n}}class tt{constructor(e,t,i,n){this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:r,positions:a}=o._tree,l=t>0?r.length:-1;e!=l;e+=t){let l=r[e],c=a[e]+o.from;if(Je(n,i,c,c+l.length))if(l instanceof Fe){if(s&Ve.ExcludeBuffers)continue;let r=l.findChild(0,l.buffer.length,t,i-c,n);if(r>-1)return new ot(new st(o,l,e,c),null,r)}else if(s&Ve.IncludeAnonymous||!l.type.isAnonymous||at(l)){let r;if(!(s&Ve.IgnoreMounts)&&l.props&&(r=l.prop(Ye.mounted))&&!r.overlay)return new tt(r.tree,c,e,o);let a=new tt(l,c,e,o);return s&Ve.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,i,n)}}if(s&Ve.IncludeAnonymous||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&Ve.IgnoreOverlays)&&(n=this._tree.prop(Ye.mounted))&&n.overlay){let i=e-this.from;for(let{from:e,to:s}of n.overlay)if((t>0?e<=i:e<i)&&(t<0?s>=i:s>i))return new tt(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new rt(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return et(this,e,t,!1)}resolveInner(e,t=0){return et(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ke(this,e)}getChild(e,t=null,i=null){let n=it(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return it(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return nt(this,e)}}function it(e,t,i,n){let s=e.cursor(),o=[];if(!s.firstChild())return o;if(null!=i)for(;!s.type.is(i);)if(!s.nextSibling())return o;for(;;){if(null!=n&&s.type.is(n))return o;if(s.type.is(t)&&o.push(s.node),!s.nextSibling())return null==n?o:[]}}function nt(e,t,i=t.length-1){for(let n=e.parent;i>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[i]&&t[i]!=n.name)return!1;i--}}return!0}class st{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}}class ot{constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new ot(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Ve.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new ot(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ot(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ot(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new rt(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1],r=i.buffer[this.index+2];e.push(i.slice(n,s,o,r)),t.push(0)}return new Be(this.type,e,t,this.to-this.from)}resolve(e,t=0){return et(this,e,t,!1)}resolveInner(e,t=0){return et(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ke(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let n=it(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return it(this,e,t,i)}get node(){return this}matchContext(e){return nt(this,e)}}class rt{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof tt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return!!e&&(e instanceof tt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return!(s<0)&&(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?!(i&Ve.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ve.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ve.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let e=i<0?0:this.stack[i]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(e)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(n.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;({index:t,_parent:i}=i))if(t>-1)for(let n=t+e,s=e<0?-1:i._tree.children.length;n!=s;n+=e){let e=i._tree.children[n];if(this.mode&Ve.IncludeAnonymous||e instanceof Fe||!e.type.isAnonymous||at(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let e=i;e<this.stack.length;e++)t=new ot(this.buffer,t,this.stack[e]);return this.bufferNode=new ot(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return nt(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return nt(this.node,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function at(e){return e.children.some((e=>e instanceof Fe||!e.type.isAnonymous||at(e)))}const lt=new WeakMap;function ct(e,t){if(!e.isAnonymous||t instanceof Fe||t.type!=e)return 1;let i=lt.get(t);if(null==i){i=1;for(let n of t.children){if(n.type!=e||!(n instanceof Be)){i=1;break}i+=ct(e,n)}lt.set(t,i)}return i}function ht(e,t,i,n,s,o,r,a,l){let c=0;for(let i=n;i<s;i++)c+=ct(e,t[i]);let h=Math.ceil(1.5*c/8),d=[],O=[];return function t(i,n,s,r,a){for(let c=s;c<r;){let s=c,u=n[c],f=ct(e,i[c]);for(c++;c<r;c++){let t=ct(e,i[c]);if(f+t>=h)break;f+=t}if(c==s+1){if(f>h){let e=i[s];t(e.children,e.positions,0,e.children.length,n[s]+a);continue}d.push(i[s])}else{let t=n[c-1]+i[c-1].length-u;d.push(ht(e,i,n,s,c,u,t,null,l))}O.push(u+a-o)}}(t,i,n,s,0),(a||l)(d,O,r)}class dt{constructor(e,t,i,n,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=n,this.open=(s?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],i=!1){let n=[new dt(0,e.length,e,0,!1,i)];for(let i of t)i.to>e.length&&n.push(i);return n}static applyChanges(e,t,i=128){if(!t.length)return e;let n=[],s=1,o=e.length?e[0]:null;for(let r=0,a=0,l=0;;r++){let c=r<t.length?t[r]:null,h=c?c.fromA:1e9;if(h-a>=i)for(;o&&o.from<h;){let t=o;if(a>=t.from||h<=t.to||l){let e=Math.max(t.from,a)-l,i=Math.min(t.to,h)-l;t=e>=i?null:new dt(e,i,t.tree,t.offset+l,r>0,!!c)}if(t&&n.push(t),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return n}}class Ot{startParse(e,t,i){return"string"==typeof e&&(e=new ut(e)),i=i?i.length?i.map((e=>new qe(e.from,e.to))):[new qe(0,0)]:[new qe(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let e=n.advance();if(e)return e}}}class ut{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ye({perNode:!0});var ft;const pt=new Ye;function mt(e){return g.r$.define({combine:e?t=>t.concat(e):void 0})}class gt{constructor(e,t,i=[]){this.data=e,g.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(g.yy.prototype,"tree",{get(){return $t(this)}}),this.parser=t,this.extension=[Pt.of(this),g.yy.languageData.of(((e,t,i)=>e.facet(Qt(e,t,i))))].concat(i)}isActiveAt(e,t,i=-1){return Qt(e,t,i)==this.data}findRegions(e){let t=e.facet(Pt);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],n=(e,t)=>{if(e.prop(pt)==this.data)return void i.push({from:t,to:t+e.length});let s=e.prop(Ye.mounted);if(s){if(s.tree.prop(pt)==this.data){if(s.overlay)for(let e of s.overlay)i.push({from:e.from+t,to:e.to+t});else i.push({from:t,to:t+e.length});return}if(s.overlay){let e=i.length;if(n(s.tree,s.overlay[0].from+t),i.length>e)return}}for(let i=0;i<e.children.length;i++){let s=e.children[i];s instanceof Be&&n(s,e.positions[i]+t)}};return n($t(e),0),i}get allowsNesting(){return!0}}function Qt(e,t,i){let n=e.facet(Pt);if(!n)return null;let s=n.data;if(n.allowsNesting)for(let n=$t(e).topNode;n;n=n.enter(t,i,Ve.ExcludeBuffers))s=n.type.prop(pt)||s;return s}gt.setState=g.Py.define();class vt extends gt{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=mt(e.languageData);return new vt(t,e.parser.configure({props:[pt.add((e=>e.isTop?t:void 0))]}))}configure(e){return new vt(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function $t(e){let t=e.field(gt.state,!1);return t?t.tree:Be.empty}class yt{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let xt=null;class wt{constructor(e,t,i=[],n,s,o,r,a){this.parser=e,this.state=t,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=o,this.skipped=r,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new wt(e,t,[],Be.empty,0,i,[],null)}startParse(){return this.parser.startParse(new yt(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Be.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var i;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n){if(this.fragments=this.withoutTempSkipped(dt.addTree(n,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=n,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(dt.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=xt;xt=this;try{return e()}finally{xt=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=bt(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:n,treeLen:s,viewport:o,skipped:r}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,i,n,s)=>t.push({fromA:e,toA:i,fromB:n,toB:s}))),i=dt.applyChanges(i,t),n=Be.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){r=[];for(let t of this.skipped){let i=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);i<n&&r.push({from:i,to:n})}}}return new wt(this.parser,t,i,n,s,o,r,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:i,to:n}=this.skipped[t];i<e.to&&n>e.from&&(this.fragments=bt(this.fragments,i,n),this.skipped.splice(t--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Ot{createParse(t,i,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let t=xt;if(t){for(let e of n)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new Be(Me.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return xt}}function bt(e,t,i){return dt.applyChanges(e,[{fromA:t,toA:i,fromB:t,toB:i}])}class St{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new St(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=wt.create(e.facet(Pt).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new St(i)}}gt.state=g.QQ.define({create:St.init,update(e,t){for(let e of t.effects)if(e.is(gt.setState))return e.value;return t.startState.facet(Pt)!=t.state.facet(Pt)?St.init(t.state):e.apply(t)}});let Tt=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(Tt=e=>{let t=-1,i=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(i):cancelIdleCallback(t)});const kt="undefined"!=typeof navigator&&(null===(ft=navigator.scheduling)||void 0===ft?void 0:ft.isInputPending)?()=>navigator.scheduling.isInputPending():null,_t=s.lg.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(gt.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(gt.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Tt(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(gt.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!kt?Math.max(25,e.timeRemaining()-5):1e9),r=s.context.treeLen<n&&i.doc.length>n+1e3,a=s.context.work((()=>kt&&kt()||Date.now()>o),n+(r?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:gt.setState.of(new St(s.context))})),this.chunkBudget>0&&(!a||r)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>(0,s.OO)(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Pt=g.r$.define({combine:e=>e.length?e[0]:null,enables:[gt.state,_t]});class Rt{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Wt=g.r$.define(),Ct=g.r$.define({combine:e=>{if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function Xt(e){let t=e.facet(Ct);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function Zt(e,t){let i="",n=e.tabSize;if(9==e.facet(Ct).charCodeAt(0))for(;t>=n;)i+="\t",t-=n;for(let e=0;e<t;e++)i+=" ";return i}function It(e,t){e instanceof g.yy&&(e=new jt(e));for(let i of e.state.facet(Wt)){let n=i(e,t);if(null!=n)return n}let i=$t(e.state);return i?function(e,t,i){return Et(t.resolveInner(i).enterUnfinishedNodesBefore(i),i,e)}(e,i,t):null}class jt{constructor(e,t={}){this.state=e,this.options=t,this.unit=Xt(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return null!=n&&n>=i.from&&n<=i.to?s&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(e,t);return i.slice(e-n,Math.min(i.length,e+100-n))}column(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.countColumn(i,e-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return(0,g.IS)(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let e=s(n);if(e>-1)return e}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const At=new Ye;function Ut(e){let t=e.type.prop(At);if(t)return t;let i,n=e.firstChild;if(n&&(i=n.type.prop(Ye.closedBy))){let t=e.lastChild,n=t&&i.indexOf(t.name)>-1;return e=>Lt(e,!0,1,void 0,n&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?zt:null}function Et(e,t,i){for(;e;e=e.parent){let n=Ut(e);if(n)return n(qt.create(i,t,e))}return null}function zt(){return 0}class qt extends jt{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new qt(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(Yt(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?Et(e,this.pos,this.base):0}}function Yt(e,t){for(let i=t;i;i=i.parent)if(e==i)return!0;return!1}function Lt(e,t,i,n,s){let o=e.textAfter,r=o.match(/^\s*/)[0].length,a=n&&o.slice(r,r+n.length)==n||s==e.pos+r,l=t?function(e){let t=e.node,i=t.childAfter(t.from),n=t.lastChild;if(!i)return null;let s=e.options.simulateBreak,o=e.state.doc.lineAt(i.from),r=null==s||s<=o.from?o.to:Math.min(o.to,s);for(let e=i.to;;){let s=t.childAfter(e);if(!s||s==n)return null;if(!s.type.isSkipped)return s.from<r?i:null;e=s.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*i)}function Mt({except:e,units:t=1}={}){return i=>{let n=e&&e.test(i.textAfter);return i.baseIndent+(n?0:t*i.unit)}}const Gt=g.r$.define(),Dt=new Ye;function Nt(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function Vt(e,t,i){for(let n of e.facet(Gt)){let s=n(e,t,i);if(s)return s}return function(e,t,i){let n=$t(e);if(n.length<i)return null;let s=null;for(let o=n.resolveInner(i);o;o=o.parent){if(o.to<=i||o.from>i)continue;if(s&&o.from<t)break;let r=o.type.prop(Dt);if(r&&(o.to<n.length-50||n.length==e.doc.length||!Nt(o))){let n=r(o,e);n&&n.from<=i&&n.from>=t&&n.to>i&&(s=n)}}return s}(e,t,i)}function Bt(e,t){let i=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);return i>=n?void 0:{from:i,to:n}}const Ht=g.Py.define({map:Bt}),Ft=g.Py.define({map:Bt});function Jt(e){let t=[];for(let{head:i}of e.state.selection.ranges)t.some((e=>e.from<=i&&e.to>=i))||t.push(e.lineBlockAt(i));return t}const Kt=g.QQ.define({create:()=>o.p.none,update(e,t){e=e.map(t.changes);for(let i of t.effects)i.is(Ht)&&!ti(e,i.value.from,i.value.to)?e=e.update({add:[li.range(i.value.from,i.value.to)]}):i.is(Ft)&&(e=e.update({filter:(e,t)=>i.value.from!=e||i.value.to!=t,filterFrom:i.value.from,filterTo:i.value.to}));if(t.selection){let i=!1,{head:n}=t.selection.main;e.between(n,n,((e,t)=>{e<n&&t>n&&(i=!0)})),i&&(e=e.update({filterFrom:n,filterTo:n,filter:(e,t)=>t<=n||e>=n}))}return e},provide:e=>n.t.decorations.from(e)});function ei(e,t,i){var n;let s=null;return null===(n=e.field(Kt,!1))||void 0===n||n.between(t,i,((e,t)=>{(!s||s.from>e)&&(s={from:e,to:t})})),s}function ti(e,t,i){let n=!1;return e.between(t,t,((e,s)=>{e==t&&s==i&&(n=!0)})),n}function ii(e,t){return e.field(Kt,!1)?t:t.concat(g.Py.appendConfig.of(ai()))}function ni(e,t,i=!0){let s=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return n.t.announce.of(`${e.state.phrase(i?"Folded lines":"Unfolded lines")} ${s} ${e.state.phrase("to")} ${o}.`)}const si=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of Jt(e)){let i=Vt(e.state,t.from,t.to);if(i)return e.dispatch({effects:ii(e.state,[Ht.of(i),ni(e,i)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(Kt,!1))return!1;let t=[];for(let i of Jt(e)){let n=ei(e.state,i.from,i.to);n&&t.push(Ft.of(n),ni(e,n,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,i=[];for(let n=0;n<t.doc.length;){let s=e.lineBlockAt(n),o=Vt(t,s.from,s.to);o&&i.push(Ht.of(o)),n=(o?e.lineBlockAt(o.to):s).to+1}return i.length&&e.dispatch({effects:ii(e.state,i)}),!!i.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(Kt,!1);if(!t||!t.size)return!1;let i=[];return t.between(0,e.state.doc.length,((e,t)=>{i.push(Ft.of({from:e,to:t}))})),e.dispatch({effects:i}),!0}}],oi={placeholderDOM:null,placeholderText:"…"},ri=g.r$.define({combine:e=>(0,g.BO)(e,oi)});function ai(e){let t=[Kt,di];return e&&t.push(ri.of(e)),t}const li=o.p.replace({widget:new class extends o.l9{toDOM(e){let{state:t}=e,i=t.facet(ri),n=t=>{let i=e.lineBlockAt(e.posAtDOM(t.target)),n=ei(e.state,i.from,i.to);n&&e.dispatch({effects:Ft.of(n)}),t.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(e,n);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=n,s}}}),ci={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{}};class hi extends Qe{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}const di=n.t.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});let Oi=0;class ui{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=Oi++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new ui([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new pi;return t=>t.modified.indexOf(e)>-1?t:pi.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let fi=0;class pi{constructor(){this.instances=[],this.id=fi++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find((i=>{return i.base==e&&(n=t,s=i.modified,n.length==s.length&&n.every(((e,t)=>e==s[t])));var n,s}));if(i)return i;let n=[],s=new ui(n,e,t);for(let e of t)e.instances.push(s);let o=mi(t);for(let t of e.set)for(let e of o)n.push(pi.get(t,e));return s}}function mi(e){let t=[e];for(let i=0;i<e.length;i++)for(let n of mi(e.slice(0,i).concat(e.slice(i+1))))t.push(n);return t}function gi(e){let t=Object.create(null);for(let i in e){let n=e[i];Array.isArray(n)||(n=[n]);for(let e of i.split(" "))if(e){let i=[],s=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){s=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!n)throw new RangeError("Invalid path: "+e);if(i.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),t+=n[0].length,t==e.length)break;let r=e[t++];if(t==e.length&&"!"==r){s=0;break}if("/"!=r)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let r=i.length-1,a=i[r];if(!a)throw new RangeError("Invalid path: "+e);let l=new vi(n,s,r>0?i.slice(0,r):null);t[a]=l.sort(t[a])}}return Qi.add(t)}const Qi=new Ye;class vi{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function $i(e,t){let i=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)i[e.id]=t.class;else i[t.tag.id]=t.class;let{scope:n,all:s=null}=t||{};return{style:e=>{let t=s;for(let n of e)for(let e of n.set){let n=i[e.id];if(n){t=t?t+" "+n:n;break}}return t},scope:n}}function yi(e,t){let i=null;for(let n of e){let e=n.style(t);e&&(i=i?i+" "+e:e)}return i}function xi(e,t,i,n=0,s=e.length){let o=new wi(n,Array.isArray(t)?t:[t],i);o.highlightRange(e.cursor(),n,s,"",o.highlighters),o.flush(s)}class wi{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:o,from:r,to:a}=e;if(r>=i||a<=t)return;o.isTop&&(s=this.highlighters.filter((e=>!e.scope||e.scope(o))));let l=n,c=o.prop(Qi),h=!1;for(;c;){if(!c.context||e.matchContext(c.context)){let e=yi(s,c.tags);e&&(l&&(l+=" "),l+=e,1==c.mode?n+=(n?" ":"")+e:0==c.mode&&(h=!0));break}c=c.next}if(this.startSpan(e.from,l),h)return;let d=e.tree&&e.tree.prop(Ye.mounted);if(d&&d.overlay){let o=e.node.enter(d.overlay[0].from+r,1),c=this.highlighters.filter((e=>!e.scope||e.scope(d.tree.type))),h=e.firstChild();for(let O=0,u=r;;O++){let f=O<d.overlay.length?d.overlay[O]:null,p=f?f.from+r:a,m=Math.max(t,u),g=Math.min(i,p);if(m<g&&h)for(;e.from<g&&(this.highlightRange(e,m,g,n,s),this.startSpan(Math.min(i,e.to),l),!(e.to>=p)&&e.nextSibling()););if(!f||p>i)break;u=f.to+r,u>t&&(this.highlightRange(o.cursor(),Math.max(t,f.from+r),Math.min(i,u),n,c),this.startSpan(u,l))}h&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),l)}}while(e.nextSibling());e.parent()}}}const bi=ui.define,Si=bi(),Ti=bi(),ki=bi(Ti),_i=bi(Ti),Pi=bi(),Ri=bi(Pi),Wi=bi(Pi),Ci=bi(),Xi=bi(Ci),Zi=bi(),Ii=bi(),ji=bi(),Ai=bi(ji),Ui=bi(),Ei={comment:Si,lineComment:bi(Si),blockComment:bi(Si),docComment:bi(Si),name:Ti,variableName:bi(Ti),typeName:ki,tagName:bi(ki),propertyName:_i,attributeName:bi(_i),className:bi(Ti),labelName:bi(Ti),namespace:bi(Ti),macroName:bi(Ti),literal:Pi,string:Ri,docString:bi(Ri),character:bi(Ri),attributeValue:bi(Ri),number:Wi,integer:bi(Wi),float:bi(Wi),bool:bi(Pi),regexp:bi(Pi),escape:bi(Pi),color:bi(Pi),url:bi(Pi),keyword:Zi,self:bi(Zi),null:bi(Zi),atom:bi(Zi),unit:bi(Zi),modifier:bi(Zi),operatorKeyword:bi(Zi),controlKeyword:bi(Zi),definitionKeyword:bi(Zi),moduleKeyword:bi(Zi),operator:Ii,derefOperator:bi(Ii),arithmeticOperator:bi(Ii),logicOperator:bi(Ii),bitwiseOperator:bi(Ii),compareOperator:bi(Ii),updateOperator:bi(Ii),definitionOperator:bi(Ii),typeOperator:bi(Ii),controlOperator:bi(Ii),punctuation:ji,separator:bi(ji),bracket:Ai,angleBracket:bi(Ai),squareBracket:bi(Ai),paren:bi(Ai),brace:bi(Ai),content:Ci,heading:Xi,heading1:bi(Xi),heading2:bi(Xi),heading3:bi(Xi),heading4:bi(Xi),heading5:bi(Xi),heading6:bi(Xi),contentSeparator:bi(Ci),list:bi(Ci),quote:bi(Ci),emphasis:bi(Ci),strong:bi(Ci),link:bi(Ci),monospace:bi(Ci),strikethrough:bi(Ci),inserted:bi(),deleted:bi(),changed:bi(),invalid:bi(),meta:Ui,documentMeta:bi(Ui),annotation:bi(Ui),processingInstruction:bi(Ui),definition:ui.defineModifier(),constant:ui.defineModifier(),function:ui.defineModifier(),standard:ui.defineModifier(),local:ui.defineModifier(),special:ui.defineModifier()};$i([{tag:Ei.link,class:"tok-link"},{tag:Ei.heading,class:"tok-heading"},{tag:Ei.emphasis,class:"tok-emphasis"},{tag:Ei.strong,class:"tok-strong"},{tag:Ei.keyword,class:"tok-keyword"},{tag:Ei.atom,class:"tok-atom"},{tag:Ei.bool,class:"tok-bool"},{tag:Ei.url,class:"tok-url"},{tag:Ei.labelName,class:"tok-labelName"},{tag:Ei.inserted,class:"tok-inserted"},{tag:Ei.deleted,class:"tok-deleted"},{tag:Ei.literal,class:"tok-literal"},{tag:Ei.string,class:"tok-string"},{tag:Ei.number,class:"tok-number"},{tag:[Ei.regexp,Ei.escape,Ei.special(Ei.string)],class:"tok-string2"},{tag:Ei.variableName,class:"tok-variableName"},{tag:Ei.local(Ei.variableName),class:"tok-variableName tok-local"},{tag:Ei.definition(Ei.variableName),class:"tok-variableName tok-definition"},{tag:Ei.special(Ei.variableName),class:"tok-variableName2"},{tag:Ei.definition(Ei.propertyName),class:"tok-propertyName tok-definition"},{tag:Ei.typeName,class:"tok-typeName"},{tag:Ei.namespace,class:"tok-namespace"},{tag:Ei.className,class:"tok-className"},{tag:Ei.macroName,class:"tok-macroName"},{tag:Ei.propertyName,class:"tok-propertyName"},{tag:Ei.operator,class:"tok-operator"},{tag:Ei.comment,class:"tok-comment"},{tag:Ei.meta,class:"tok-meta"},{tag:Ei.invalid,class:"tok-invalid"},{tag:Ei.punctuation,class:"tok-punctuation"}]);var zi=i(7245);class qi{constructor(e,t){let i;function n(e){let t=zi.V.newName();return(i||(i=Object.create(null)))["."+t]=e,t}const s=t.scope;this.scope=s instanceof gt?e=>e.prop(pt)==s.data:s?e=>e==s:void 0,this.style=$i(e.map((e=>({tag:e.tag,class:e.class||n(Object.assign({},e,{tag:null}))}))),{all:"string"==typeof t.all?t.all:t.all?n(t.all):void 0}).style,this.module=i?new zi.V(i):null,this.themeType=t.themeType}static define(e,t){return new qi(e,t||{})}}const Yi=g.r$.define(),Li=g.r$.define({combine:e=>e.length?[e[0]]:null});function Mi(e){let t=e.facet(Yi);return t.length?t:e.facet(Li)}const Gi=g.Wl.high(s.lg.fromClass(class{constructor(e){this.markCache=Object.create(null),this.tree=$t(e.state),this.decorations=this.buildDeco(e,Mi(e.state))}update(e){let t=$t(e.state),i=Mi(e.state),n=i!=Mi(e.startState);t.length<e.view.viewport.to&&!n&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return o.p.none;let i=new g.f_;for(let{from:n,to:s}of e.visibleRanges)xi(this.tree,t,((e,t,n)=>{i.add(e,t,this.markCache[n]||(this.markCache[n]=o.p.mark({class:n})))}),n,s);return i.finish()}},{decorations:e=>e.decorations})),Di=qi.define([{tag:Ei.meta,color:"#7a757a"},{tag:Ei.link,textDecoration:"underline"},{tag:Ei.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ei.emphasis,fontStyle:"italic"},{tag:Ei.strong,fontWeight:"bold"},{tag:Ei.strikethrough,textDecoration:"line-through"},{tag:Ei.keyword,color:"#708"},{tag:[Ei.atom,Ei.bool,Ei.url,Ei.contentSeparator,Ei.labelName],color:"#219"},{tag:[Ei.literal,Ei.inserted],color:"#164"},{tag:[Ei.string,Ei.deleted],color:"#a11"},{tag:[Ei.regexp,Ei.escape,Ei.special(Ei.string)],color:"#e40"},{tag:Ei.definition(Ei.variableName),color:"#00f"},{tag:Ei.local(Ei.variableName),color:"#30a"},{tag:[Ei.typeName,Ei.namespace],color:"#085"},{tag:Ei.className,color:"#167"},{tag:[Ei.special(Ei.variableName),Ei.macroName],color:"#256"},{tag:Ei.definition(Ei.propertyName),color:"#00c"},{tag:Ei.comment,color:"#940"},{tag:Ei.invalid,color:"#f00"}]),Ni=n.t.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Vi="()[]{}",Bi=g.r$.define({combine:e=>(0,g.BO)(e,{afterCursor:!0,brackets:Vi,maxScanDistance:1e4,renderMatch:Ji})}),Hi=o.p.mark({class:"cm-matchingBracket"}),Fi=o.p.mark({class:"cm-nonmatchingBracket"});function Ji(e){let t=[],i=e.matched?Hi:Fi;return t.push(i.range(e.start.from,e.start.to)),e.end&&t.push(i.range(e.end.from,e.end.to)),t}const Ki=g.QQ.define({create:()=>o.p.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let i=[],n=t.state.facet(Bi);for(let e of t.state.selection.ranges){if(!e.empty)continue;let s=nn(t.state,e.head,-1,n)||e.head>0&&nn(t.state,e.head-1,1,n)||n.afterCursor&&(nn(t.state,e.head,1,n)||e.head<t.state.doc.length&&nn(t.state,e.head+1,-1,n));s&&(i=i.concat(n.renderMatch(s,t.state)))}return o.p.set(i,!0)},provide:e=>n.t.decorations.from(e)}),en=[Ki,Ni];function tn(e,t,i){let n=e.prop(t<0?Ye.openedBy:Ye.closedBy);if(n)return n;if(1==e.name.length){let n=i.indexOf(e.name);if(n>-1&&n%2==(t<0?1:0))return[i[n+t]]}return null}function nn(e,t,i,n={}){let s=n.maxScanDistance||1e4,o=n.brackets||Vi,r=$t(e),a=r.resolveInner(t,i);for(let n=a;n;n=n.parent){let s=tn(n.type,i,o);if(s&&n.from<n.to)return sn(e,t,i,n,s,o)}return function(e,t,i,n,s,o,r){let a=i<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=r.indexOf(a);if(l<0||l%2==0!=i>0)return null;let c={from:i<0?t-1:t,to:i>0?t+1:t},h=e.doc.iterRange(t,i>0?e.doc.length:0),d=0;for(let e=0;!h.next().done&&e<=o;){let o=h.value;i<0&&(e+=o.length);let a=t+e*i;for(let e=i>0?0:o.length-1,t=i>0?o.length:-1;e!=t;e+=i){let t=r.indexOf(o[e]);if(!(t<0||n.resolve(a+e,1).type!=s))if(t%2==0==i>0)d++;else{if(1==d)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};d--}}i>0&&(e+=o.length)}return h.done?{start:c,matched:!1}:null}(e,t,i,r,a.type,s,o)}function sn(e,t,i,n,s,o){let r=n.parent,a={from:n.from,to:n.to},l=0,c=null==r?void 0:r.cursor();if(c&&(i<0?c.childBefore(n.from):c.childAfter(n.to)))do{if(i<0?c.to<=n.from:c.from>=n.to){if(0==l&&s.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(tn(c.type,i,o))l++;else if(tn(c.type,-i,o)&&(l--,0==l))return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}}while(i<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function on(e,t,i,n=0,s=0){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);let o=s;for(let s=n;s<t;s++)9==e.charCodeAt(s)?o+=i-o%i:o++;return o}class rn{constructor(e,t,i){this.string=e,this.tabSize=t,this.indentUnit=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t,i=this.string.charAt(this.pos);if(t="string"==typeof e?i==e:i&&(e instanceof RegExp?e.test(i):e(i)),t)return++this.pos,i}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=on(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){return on(this.string,null,this.tabSize)}match(e,t,i){if("string"==typeof e){let n=e=>i?e.toLowerCase():e;return n(this.string.substr(this.pos,e.length))==n(e)?(!1!==t&&(this.pos+=e.length),!0):null}{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function an(e){if("object"!=typeof e)return e;let t={};for(let i in e){let n=e[i];t[i]=n instanceof Array?n.slice():n}return t}class ln extends gt{constructor(e){let t,i=mt(e.languageData),n={token:(s=e).token,blankLine:s.blankLine||(()=>{}),startState:s.startState||(()=>!0),copyState:s.copyState||an,indent:s.indent||(()=>null),languageData:s.languageData||{},tokenTable:s.tokenTable||un};var s;let o=new class extends Ot{createParse(e,i,n){return new dn(t,e,i,n)}};super(i,o,[Wt.of(((e,t)=>this.getIndent(e,t)))]),this.topNode=function(e){let t=Me.define({id:fn.length,name:"Document",props:[pt.add((()=>e))]});return fn.push(t),t}(i),t=this,this.streamParser=n,this.stateAfter=new Ye({perNode:!0}),this.tokenTable=e.tokenTable?new Qn(n.tokenTable):vn}static define(e){return new ln(e)}getIndent(e,t){let i=$t(e.state),n=i.resolve(t);for(;n&&n.type!=this.topNode;)n=n.parent;if(!n)return null;let s,o,r=cn(this,i,0,n.from,t);if(r?(o=r.state,s=r.pos+1):(o=this.streamParser.startState(e.unit),s=0),t-s>1e4)return null;for(;s<t;){let i=e.state.doc.lineAt(s),n=Math.min(t,i.to);if(i.length){let t=new rn(i.text,e.state.tabSize,e.unit);for(;t.pos<n-i.from;)On(this.streamParser.token,t,o)}else this.streamParser.blankLine(o,e.unit);if(n==t)break;s=i.to+1}let{text:a}=e.lineAt(t);return this.streamParser.indent(o,/^\s*(.*)/.exec(a)[1],e)}get allowsNesting(){return!1}}function cn(e,t,i,n,s){let o=i>=n&&i+t.length<=s&&t.prop(e.stateAfter);if(o)return{state:e.streamParser.copyState(o),pos:i+t.length};for(let o=t.children.length-1;o>=0;o--){let r=t.children[o],a=i+t.positions[o],l=r instanceof Be&&a<s&&cn(e,r,a,n,s);if(l)return l}return null}function hn(e,t,i,n,s){if(s&&i<=0&&n>=t.length)return t;s||t.type!=e.topNode||(s=!0);for(let o=t.children.length-1;o>=0;o--){let r,a=t.positions[o],l=t.children[o];if(a<n&&l instanceof Be){if(!(r=hn(e,l,i-a,n-a,s)))break;return s?new Be(t.type,t.children.slice(0,o).concat(r),t.positions.slice(0,o+1),a+r.length):r}}return null}class dn{constructor(e,t,i,n){this.lang=e,this.input=t,this.fragments=i,this.ranges=n,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=n[n.length-1].to;let s=wt.get(),o=n[0].from,{state:r,tree:a}=function(e,t,i,n){for(let n of t){let t,s=n.from+(n.openStart?25:0),o=n.to-(n.openEnd?25:0),r=s<=i&&o>i&&cn(e,n.tree,0-n.offset,i,o);if(r&&(t=hn(e,n.tree,i+n.offset,r.pos+n.offset,!1)))return{state:r.state,tree:t}}return{state:e.streamParser.startState(n?Xt(n):4),tree:Be.empty}}(e,i,o,null==s?void 0:s.state);this.state=r,this.parsedPos=this.chunkStart=o+a.length;for(let e=0;e<a.children.length;e++)this.chunks.push(a.children[e]),this.chunkPos.push(a.positions[e]);s&&this.parsedPos<s.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Xt(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=wt.get(),t=null==this.stoppedAt?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(t,this.chunkStart+2048);for(e&&(i=Math.min(i,e.viewport.to));this.parsedPos<i;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)"\n"==t&&(t="");else{let e=t.indexOf("\n");e>-1&&(t=t.slice(0,e))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),i=e+t.length;for(let e=this.rangeIndex;;){let n=this.ranges[e].to;if(n>=i)break;if(t=t.slice(0,n-(i-t.length)),e++,e==this.ranges.length)break;let s=this.ranges[e].from,o=this.lineAfter(s);t+=o,i=s+o.length}return{line:t,end:i}}skipGapsTo(e,t,i){for(;;){let n=this.ranges[this.rangeIndex].to,s=e+t;if(i>0?n>s:n>=s)break;t+=this.ranges[++this.rangeIndex].from-n}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,i,n,s){if(this.ranges.length>1){t+=s=this.skipGapsTo(t,s,1);let e=this.chunk.length;i+=s=this.skipGapsTo(i,s,-1),n+=this.chunk.length-e}return this.chunk.push(e,t,i,n),s}parseLine(e){let{line:t,end:i}=this.nextLine(),n=0,{streamParser:s}=this.lang,o=new rn(t,e?e.state.tabSize:4,e?Xt(e.state):2);if(o.eol())s.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let e=On(s.token,o,this.state);if(e&&(n=this.emitToken(this.lang.tokenTable.resolve(e),this.parsedPos+o.start,this.parsedPos+o.pos,4,n)),o.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Be.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:pn,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Be(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Be(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function On(e,t,i){t.start=t.pos;for(let n=0;n<10;n++){let n=e(t,i);if(t.pos>t.start)return n}throw new Error("Stream parser failed to advance stream.")}const un=Object.create(null),fn=[Me.none],pn=new Ge(fn),mn=[],gn=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])gn[e]=yn(un,t);class Qn{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),gn)}resolve(e){return e?this.table[e]||(this.table[e]=yn(this.extra,e)):0}}const vn=new Qn(un);function $n(e,t){mn.indexOf(e)>-1||(mn.push(e),console.warn(t))}function yn(e,t){let i=null;for(let n of t.split(".")){let t=e[n]||Ei[n];t?"function"==typeof t?i?i=t(i):$n(n,`Modifier ${n} used at start of tag`):i?$n(n,`Tag ${n} used as modifier`):i=t:$n(n,`Unknown highlighting tag ${n}`)}if(!i)return 0;let n=t.replace(/ /g,"_"),s=Me.define({id:fn.length,name:n,props:[gi({[n]:i})]});return fn.push(s),s.id}function xn(e,t){return({state:i,dispatch:n})=>{if(i.readOnly)return!1;let s=e(t,i);return!!s&&(n(i.update(s)),!0)}}const wn=xn(_n,0),bn=(xn(_n,1),xn(_n,2),xn(kn,0)),Sn=(xn(kn,1),xn(kn,2),xn(((e,t)=>kn(e,t,function(e){let t=[];for(let i of e.selection.ranges){let n=e.doc.lineAt(i.from),s=i.to<=n.to?n:e.doc.lineAt(i.to),o=t.length-1;o>=0&&t[o].to>n.from?t[o].to=s.to:t.push({from:n.from,to:s.to})}return t}(t))),0));function Tn(e,t=e.selection.main.head){let i=e.languageDataAt("commentTokens",t);return i.length?i[0]:{}}function kn(e,t,i=t.selection.ranges){let n=i.map((e=>Tn(t,e.from).block));if(!n.every((e=>e)))return null;let s=i.map(((e,i)=>function(e,{open:t,close:i},n,s){let o,r,a=e.sliceDoc(n-50,n),l=e.sliceDoc(s,s+50),c=/\s*$/.exec(a)[0].length,h=/^\s*/.exec(l)[0].length,d=a.length-c;if(a.slice(d-t.length,d)==t&&l.slice(h,h+i.length)==i)return{open:{pos:n-c,margin:c&&1},close:{pos:s+h,margin:h&&1}};s-n<=100?o=r=e.sliceDoc(n,s):(o=e.sliceDoc(n,n+50),r=e.sliceDoc(s-50,s));let O=/^\s*/.exec(o)[0].length,u=/\s*$/.exec(r)[0].length,f=r.length-u-i.length;return o.slice(O,O+t.length)==t&&r.slice(f,f+i.length)==i?{open:{pos:n+O+t.length,margin:/\s/.test(o.charAt(O+t.length))?1:0},close:{pos:s-u-i.length,margin:/\s/.test(r.charAt(f-1))?1:0}}:null}(t,n[i],e.from,e.to)));if(2!=e&&!s.every((e=>e)))return{changes:t.changes(i.map(((e,t)=>s[t]?[]:[{from:e.from,insert:n[t].open+" "},{from:e.to,insert:" "+n[t].close}])))};if(1!=e&&s.some((e=>e))){let e=[];for(let t,i=0;i<s.length;i++)if(t=s[i]){let s=n[i],{open:o,close:r}=t;e.push({from:o.pos-s.open.length,to:o.pos+o.margin},{from:r.pos-r.margin,to:r.pos+s.close.length})}return{changes:e}}return null}function _n(e,t,i=t.selection.ranges){let n=[],s=-1;for(let{from:e,to:o}of i){let i=n.length,r=1e9;for(let i=e;i<=o;){let a=t.doc.lineAt(i);if(a.from>s&&(e==o||o>a.from)){s=a.from;let e=Tn(t,i).line;if(!e)continue;let o=/^\s*/.exec(a.text)[0].length,l=o==a.length,c=a.text.slice(o,o+e.length)==e?o:-1;o<a.text.length&&o<r&&(r=o),n.push({line:a,comment:c,token:e,indent:o,empty:l,single:!1})}i=a.to+1}if(r<1e9)for(let e=i;e<n.length;e++)n[e].indent<n[e].line.text.length&&(n[e].indent=r);n.length==i+1&&(n[i].single=!0)}if(2!=e&&n.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:i,indent:s,empty:o,single:r}of n)!r&&o||e.push({from:t.from+s,insert:i+" "});let i=t.changes(e);return{changes:i,selection:t.selection.map(i,1)}}if(1!=e&&n.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:i,token:s}of n)if(i>=0){let n=t.from+i,o=n+s.length;" "==t.text[o-t.from]&&o++,e.push({from:n,to:o})}return{changes:e}}return null}const Pn=g.q6.define(),Rn=g.q6.define(),Wn=g.r$.define(),Cn=g.r$.define({combine:e=>(0,g.BO)(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})});const Xn=g.QQ.define({create:()=>Bn.empty,update(e,t){let i=t.state.facet(Cn),n=t.annotation(Pn);if(n){let s=t.docChanged?g.jT.single(function(e){let t=0;return e.iterChangedRanges(((e,i)=>t=i)),t}(t.changes)):void 0,o=zn.fromTransaction(t,s),r=n.side,a=0==r?e.undone:e.done;return a=o?qn(a,a.length,i.minDepth,o):Mn(a,t.startState.selection),new Bn(0==r?n.rest:a,0==r?a:n.rest)}let s=t.annotation(Rn);if("full"!=s&&"before"!=s||(e=e.isolate()),!1===t.annotation(g.YW.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=zn.fromTransaction(t),r=t.annotation(g.YW.time),a=t.annotation(g.YW.userEvent);return o?e=e.addChanges(o,r,a,i.newGroupDelay,i.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,r,a,i.newGroupDelay)),"full"!=s&&"after"!=s||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new Bn(e.done.map(zn.fromJSON),e.undone.map(zn.fromJSON))});function Zn(e,t){return function({state:i,dispatch:n}){if(!t&&i.readOnly)return!1;let s=i.field(Xn,!1);if(!s)return!1;let o=s.pop(e,i,t);return!!o&&(n(o),!0)}}const In=Zn(0,!1),jn=Zn(1,!1),An=Zn(0,!0),Un=Zn(1,!0);function En(e){return function(t){let i=t.field(Xn,!1);if(!i)return 0;let n=0==e?i.done:i.undone;return n.length-(n.length&&!n[0].changes?1:0)}}En(0),En(1);class zn{constructor(e,t,i,n,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new zn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(i=this.startSelection)||void 0===i?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new zn(e.changes&&g.as.fromJSON(e.changes),[],e.mapped&&g.n0.fromJSON(e.mapped),e.startSelection&&g.jT.fromJSON(e.startSelection),e.selectionsAfter.map(g.jT.fromJSON))}static fromTransaction(e,t){let i=Ln;for(let t of e.startState.facet(Wn)){let n=t(e);n.length&&(i=i.concat(n))}return!i.length&&e.changes.empty?null:new zn(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Ln)}static selection(e){return new zn(void 0,Ln,void 0,void 0,e)}}function qn(e,t,i,n){let s=t+1>i+20?t-i-1:0,o=e.slice(s,t);return o.push(n),o}function Yn(e,t){return e.length?t.length?e.concat(t):e:t}const Ln=[];function Mn(e,t){if(e.length){let i=e[e.length-1],n=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-200));return n.length&&n[n.length-1].eq(t)?e:(n.push(t),qn(e,e.length-1,1e9,i.setSelAfter(n)))}return[zn.selection([t])]}function Gn(e){let t=e[e.length-1],i=e.slice();return i[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),i}function Dn(e,t){if(!e.length)return e;let i=e.length,n=Ln;for(;i;){let s=Nn(e[i-1],t,n);if(s.changes&&!s.changes.empty||s.effects.length){let t=e.slice(0,i);return t[i-1]=s,t}t=s.mapped,i--,n=s.selectionsAfter}return n.length?[zn.selection(n)]:Ln}function Nn(e,t,i){let n=Yn(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):Ln,i);if(!e.changes)return zn.selection(n);let s=e.changes.map(t),o=t.mapDesc(e.changes,!0),r=e.mapped?e.mapped.composeDesc(o):o;return new zn(s,g.Py.mapEffects(e.effects,t),r,e.startSelection.map(o),n)}const Vn=/^(input\.type|delete)($|\.)/;class Bn{constructor(e,t,i=0,n){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new Bn(this.done,this.undone):this}addChanges(e,t,i,n,s){let o=this.done,r=o[o.length-1];return o=r&&r.changes&&!r.changes.empty&&e.changes&&(!i||Vn.test(i))&&(!r.selectionsAfter.length&&t-this.prevTime<n&&function(e,t){let i=[],n=!1;return e.iterChangedRanges(((e,t)=>i.push(e,t))),t.iterChangedRanges(((e,t,s,o)=>{for(let e=0;e<i.length;){let t=i[e++],r=i[e++];o>=t&&s<=r&&(n=!0)}})),n}(r.changes,e.changes)||"input.type.compose"==i)?qn(o,o.length-1,s,new zn(e.changes.compose(r.changes),Yn(e.effects,r.effects),r.mapped,r.startSelection,Ln)):qn(o,o.length,s,e),new Bn(o,Ln,t,i)}addSelection(e,t,i,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ln;return s.length>0&&t-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&(o=s[s.length-1],r=e,o.ranges.length==r.ranges.length&&0===o.ranges.filter(((e,t)=>e.empty!=r.ranges[t].empty)).length)?this:new Bn(Mn(this.done,e),this.undone,t,i);var o,r}addMapping(e){return new Bn(Dn(this.done,e),Dn(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let n=0==e?this.done:this.undone;if(0==n.length)return null;let s=n[n.length-1];if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Pn.of({side:e,rest:Gn(n)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let i=1==n.length?Ln:n.slice(0,n.length-1);return s.mapped&&(i=Dn(i,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Pn.of({side:e,rest:i}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}Bn.empty=new Bn(Ln,Ln);const Hn=[{key:"Mod-z",run:In,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:jn,preventDefault:!0},{key:"Mod-u",run:An,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Un,preventDefault:!0}];function Fn(e,t){return g.jT.create(e.ranges.map(t),e.mainIndex)}function Jn(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Kn({state:e,dispatch:t},i){let n=Fn(e.selection,i);return!n.eq(e.selection)&&(t(Jn(e,n)),!0)}function es(e,t){return g.jT.cursor(t?e.to:e.from)}function ts(e,t){return Kn(e,(i=>i.empty?e.moveByChar(i,t):es(i,t)))}function is(e){return e.textDirectionAt(e.state.selection.main.head)==a.Nm.LTR}const ns=e=>ts(e,!is(e)),ss=e=>ts(e,is(e));function os(e,t){return Kn(e,(i=>i.empty?e.moveByGroup(i,t):es(i,t)))}function rs(e,t,i){if(t.type.prop(i))return!0;let n=t.to-t.from;return n&&(n>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function as(e,t,i){let n,s,o=$t(e).resolveInner(t.head),r=i?Ye.closedBy:Ye.openedBy;for(let n=t.head;;){let t=i?o.childAfter(n):o.childBefore(n);if(!t)break;rs(e,t,r)?o=t:n=i?t.to:t.from}return s=o.type.prop(r)&&(n=i?nn(e,o.from,1):nn(e,o.to,-1))&&n.matched?i?n.end.to:n.end.from:i?o.to:o.from,g.jT.cursor(s,i?-1:1)}function ls(e,t){return Kn(e,(i=>{if(!i.empty)return es(i,t);let n=e.moveVertically(i,t);return n.head!=i.head?n:e.moveToLineBoundary(i,t)}))}const cs=e=>ls(e,!1),hs=e=>ls(e,!0);function ds(e){return Math.max(e.defaultLineHeight,Math.min(e.dom.clientHeight,innerHeight)-5)}function Os(e,t){let{state:i}=e,s=Fn(i.selection,(i=>i.empty?e.moveVertically(i,t,ds(e)):es(i,t)));if(s.eq(i.selection))return!1;let o,r=e.coordsAtPos(i.selection.main.head),a=e.scrollDOM.getBoundingClientRect();return r&&r.top>a.top&&r.bottom<a.bottom&&r.top-a.top<=e.scrollDOM.scrollHeight-e.scrollDOM.scrollTop-e.scrollDOM.clientHeight&&(o=n.t.scrollIntoView(s.main.head,{y:"start",yMargin:r.top-a.top})),e.dispatch(Jn(i,s),{effects:o}),!0}const us=e=>Os(e,!1),fs=e=>Os(e,!0);function ps(e,t,i){let n=e.lineBlockAt(t.head),s=e.moveToLineBoundary(t,i);if(s.head==t.head&&s.head!=(i?n.to:n.from)&&(s=e.moveToLineBoundary(t,i,!1)),!i&&s.head==n.from&&n.length){let i=/^\s*/.exec(e.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;i&&t.head!=n.from+i&&(s=g.jT.cursor(n.from+i))}return s}const ms=e=>Kn(e,(t=>ps(e,t,!0))),gs=e=>Kn(e,(t=>ps(e,t,!1)));function Qs(e,t,i){let n=!1,s=Fn(e.selection,(t=>{let s=nn(e,t.head,-1)||nn(e,t.head,1)||t.head>0&&nn(e,t.head-1,1)||t.head<e.doc.length&&nn(e,t.head+1,-1);if(!s||!s.end)return t;n=!0;let o=s.start.from==t.head?s.end.to:s.end.from;return i?g.jT.range(t.anchor,o):g.jT.cursor(o)}));return!!n&&(t(Jn(e,s)),!0)}function vs(e,t){let i=Fn(e.state.selection,(e=>{let i=t(e);return g.jT.range(e.anchor,i.head,i.goalColumn)}));return!i.eq(e.state.selection)&&(e.dispatch(Jn(e.state,i)),!0)}function $s(e,t){return vs(e,(i=>e.moveByChar(i,t)))}const ys=e=>$s(e,!is(e)),xs=e=>$s(e,is(e));function ws(e,t){return vs(e,(i=>e.moveByGroup(i,t)))}function bs(e,t){return vs(e,(i=>e.moveVertically(i,t)))}const Ss=e=>bs(e,!1),Ts=e=>bs(e,!0);function ks(e,t){return vs(e,(i=>e.moveVertically(i,t,ds(e))))}const _s=e=>ks(e,!1),Ps=e=>ks(e,!0),Rs=e=>vs(e,(t=>ps(e,t,!0))),Ws=e=>vs(e,(t=>ps(e,t,!1))),Cs=({state:e,dispatch:t})=>(t(Jn(e,{anchor:0})),!0),Xs=({state:e,dispatch:t})=>(t(Jn(e,{anchor:e.doc.length})),!0),Zs=({state:e,dispatch:t})=>(t(Jn(e,{anchor:e.selection.main.anchor,head:0})),!0),Is=({state:e,dispatch:t})=>(t(Jn(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function js({state:e,dispatch:t},i){if(e.readOnly)return!1;let n="delete.selection",s=e.changeByRange((e=>{let{from:t,to:s}=e;if(t==s){let e=i(t);e<t?n="delete.backward":e>t&&(n="delete.forward"),t=Math.min(t,e),s=Math.max(s,e)}return t==s?{range:e}:{changes:{from:t,to:s},range:g.jT.cursor(t)}}));return!s.changes.empty&&(t(e.update(s,{scrollIntoView:!0,userEvent:n})),!0)}function As(e,t,i){if(e instanceof n.t)for(let s of e.state.facet(n.t.atomicRanges).map((t=>t(e))))s.between(t,t,((e,n)=>{e<t&&n>t&&(t=i?n:e)}));return t}const Us=(e,t)=>js(e,(i=>{let n,s,{state:o}=e,r=o.doc.lineAt(i);if(!t&&i>r.from&&i<r.from+200&&!/[^ \t]/.test(n=r.text.slice(0,i-r.from))){if("\t"==n[n.length-1])return i-1;let e=(0,g.IS)(n,o.tabSize)%Xt(o)||Xt(o);for(let t=0;t<e&&" "==n[n.length-1-t];t++)i--;s=i}else s=(0,g.cp)(r.text,i-r.from,t,t)+r.from,s==i&&r.number!=(t?o.doc.lines:1)&&(s+=t?1:-1);return As(e,s,t)})),Es=e=>Us(e,!1),zs=e=>Us(e,!0),qs=(e,t)=>js(e,(i=>{let n=i,{state:s}=e,o=s.doc.lineAt(n),r=s.charCategorizer(n);for(let e=null;;){if(n==(t?o.to:o.from)){n==i&&o.number!=(t?s.doc.lines:1)&&(n+=t?1:-1);break}let a=(0,g.cp)(o.text,n-o.from,t)+o.from,l=o.text.slice(Math.min(n,a)-o.from,Math.max(n,a)-o.from),c=r(l);if(null!=e&&c!=e)break;" "==l&&n==i||(e=c),n=a}return As(e,n,t)})),Ys=e=>qs(e,!1),Ls=e=>js(e,(t=>{let i=e.lineBlockAt(t).to;return As(e,t<i?i:Math.min(e.state.doc.length,t+1),!0)}));function Ms(e){let t=[],i=-1;for(let n of e.selection.ranges){let s=e.doc.lineAt(n.from),o=e.doc.lineAt(n.to);if(n.empty||n.to!=o.from||(o=e.doc.lineAt(n.to-1)),i>=s.number){let e=t[t.length-1];e.to=o.to,e.ranges.push(n)}else t.push({from:s.from,to:o.to,ranges:[n]});i=o.number+1}return t}function Gs(e,t,i){if(e.readOnly)return!1;let n=[],s=[];for(let t of Ms(e)){if(i?t.to==e.doc.length:0==t.from)continue;let o=e.doc.lineAt(i?t.to+1:t.from-1),r=o.length+1;if(i){n.push({from:t.to,to:o.to},{from:t.from,insert:o.text+e.lineBreak});for(let i of t.ranges)s.push(g.jT.range(Math.min(e.doc.length,i.anchor+r),Math.min(e.doc.length,i.head+r)))}else{n.push({from:o.from,to:t.from},{from:t.to,insert:e.lineBreak+o.text});for(let e of t.ranges)s.push(g.jT.range(e.anchor-r,e.head-r))}}return!!n.length&&(t(e.update({changes:n,scrollIntoView:!0,selection:g.jT.create(s,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Ds(e,t,i){if(e.readOnly)return!1;let n=[];for(let t of Ms(e))i?n.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):n.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Ns=Bs(!1),Vs=Bs(!0);function Bs(e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let n=t.changeByRange((i=>{let{from:n,to:s}=i,o=t.doc.lineAt(n),r=!e&&n==s&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let i,n=$t(e).resolveInner(t),s=n.childBefore(t),o=n.childAfter(t);return s&&o&&s.to<=t&&o.from>=t&&(i=s.type.prop(Ye.closedBy))&&i.indexOf(o.name)>-1&&e.doc.lineAt(s.to).from==e.doc.lineAt(o.from).from?{from:s.to,to:o.from}:null}(t,n);e&&(n=s=(s<=o.to?o:t.doc.lineAt(s)).to);let a=new jt(t,{simulateBreak:n,simulateDoubleBreak:!!r}),l=It(a,n);for(null==l&&(l=/^\s*/.exec(t.doc.lineAt(n).text)[0].length);s<o.to&&/\s/.test(o.text[s-o.from]);)s++;r?({from:n,to:s}=r):n>o.from&&n<o.from+100&&!/\S/.test(o.text.slice(0,n))&&(n=o.from);let c=["",Zt(t,l)];return r&&c.push(Zt(t,a.lineIndent(o.from,-1))),{changes:{from:n,to:s,insert:g.xv.of(c)},range:g.jT.cursor(n+1+c[1].length)}}));return i(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Hs(e,t){let i=-1;return e.changeByRange((n=>{let s=[];for(let o=n.from;o<=n.to;){let r=e.doc.lineAt(o);r.number>i&&(n.empty||n.to>r.from)&&(t(r,s,n),i=r.number),o=r.to+1}let o=e.changes(s);return{changes:s,range:g.jT.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}}))}const Fs=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Hs(e,((t,i)=>{i.push({from:t.from,insert:e.facet(Ct)})})),{userEvent:"input.indent"})),!0),Js=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Hs(e,((t,i)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let s=(0,g.IS)(n,e.tabSize),o=0,r=Zt(e,Math.max(0,s-Xt(e)));for(;o<n.length&&o<r.length&&n.charCodeAt(o)==r.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+n.length,insert:r.slice(o)})})),{userEvent:"delete.dedent"})),!0),Ks=[{key:"ArrowLeft",run:ns,shift:ys,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>os(e,!is(e)),shift:e=>ws(e,!is(e))},{mac:"Cmd-ArrowLeft",run:gs,shift:Ws},{key:"ArrowRight",run:ss,shift:xs,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>os(e,is(e)),shift:e=>ws(e,is(e))},{mac:"Cmd-ArrowRight",run:ms,shift:Rs},{key:"ArrowUp",run:cs,shift:Ss,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Cs,shift:Zs},{mac:"Ctrl-ArrowUp",run:us,shift:_s},{key:"ArrowDown",run:hs,shift:Ts,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Xs,shift:Is},{mac:"Ctrl-ArrowDown",run:fs,shift:Ps},{key:"PageUp",run:us,shift:_s},{key:"PageDown",run:fs,shift:Ps},{key:"Home",run:gs,shift:Ws,preventDefault:!0},{key:"Mod-Home",run:Cs,shift:Zs},{key:"End",run:ms,shift:Rs,preventDefault:!0},{key:"Mod-End",run:Xs,shift:Is},{key:"Enter",run:Ns},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Es,shift:Es},{key:"Delete",run:zs},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ys},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>qs(e,!0)},{mac:"Mod-Backspace",run:e=>js(e,(t=>{let i=e.lineBlockAt(t).from;return As(e,t>i?i:Math.max(0,t-1),!1)}))},{mac:"Mod-Delete",run:Ls}].concat([{key:"Ctrl-b",run:ns,shift:ys,preventDefault:!0},{key:"Ctrl-f",run:ss,shift:xs},{key:"Ctrl-p",run:cs,shift:Ss},{key:"Ctrl-n",run:hs,shift:Ts},{key:"Ctrl-a",run:e=>Kn(e,(t=>g.jT.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>vs(e,(t=>g.jT.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Kn(e,(t=>g.jT.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>vs(e,(t=>g.jT.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:zs},{key:"Ctrl-h",run:Es},{key:"Ctrl-k",run:Ls},{key:"Ctrl-Alt-h",run:Ys},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:g.xv.of(["",""])},range:g.jT.cursor(e.from)})));return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let i=t.from,n=e.doc.lineAt(i),s=i==n.from?i-1:(0,g.cp)(n.text,i-n.from,!1)+n.from,o=i==n.to?i+1:(0,g.cp)(n.text,i-n.from,!0)+n.from;return{changes:{from:s,to:o,insert:e.doc.slice(i,o).append(e.doc.slice(s,i))},range:g.jT.cursor(o)}}));return!i.changes.empty&&(t(e.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:fs}].map((e=>({mac:e.key,run:e.run,shift:e.shift})))),eo=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Kn(e,(t=>as(e.state,t,!is(e)))),shift:e=>vs(e,(t=>as(e.state,t,!is(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Kn(e,(t=>as(e.state,t,is(e)))),shift:e=>vs(e,(t=>as(e.state,t,is(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>Gs(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>Ds(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>Gs(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>Ds(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let i=e.selection,n=null;return i.ranges.length>1?n=g.jT.create([i.main]):i.main.empty||(n=g.jT.create([g.jT.cursor(i.main.head)])),!!n&&(t(Jn(e,n)),!0)}},{key:"Mod-Enter",run:Vs},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let i=Ms(e).map((({from:t,to:i})=>g.jT.range(t,Math.min(i+1,e.doc.length))));return t(e.update({selection:g.jT.create(i),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let i=Fn(e.selection,(t=>{var i;let n=$t(e).resolveInner(t.head,1);for(;!(n.from<t.from&&n.to>=t.to||n.to>t.to&&n.from<=t.from)&&(null===(i=n.parent)||void 0===i?void 0:i.parent);)n=n.parent;return g.jT.range(n.to,n.from)}));return t(Jn(e,i)),!0},preventDefault:!0},{key:"Mod-[",run:Js},{key:"Mod-]",run:Fs},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=Object.create(null),n=new jt(e,{overrideIndentation:e=>{let t=i[e];return null==t?-1:t}}),s=Hs(e,((t,s,o)=>{let r=It(n,t.from);if(null==r)return;/\S/.test(t.text)||(r=0);let a=/^\s*/.exec(t.text)[0],l=Zt(e,r);(a!=l||o.from<t.from+a.length)&&(i[t.from]=r,s.push({from:t.from,to:t.from+a.length,insert:l}))}));return s.changes.empty||t(e.update(s,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,i=t.changes(Ms(t).map((({from:e,to:i})=>(e>0?e--:i<t.doc.length&&i++,{from:e,to:i})))),n=Fn(t.selection,(t=>e.moveVertically(t,!0))).map(i);return e.dispatch({changes:i,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>Qs(e,t,!1)},{key:"Mod-/",run:e=>{let t=Tn(e.state);return t.line?wn(e):!!t.block&&Sn(e)}},{key:"Alt-A",run:bn}].concat(Ks),to="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class io{constructor(e,t,i=0,n=e.length,s){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,n),this.bufferStart=i,this.normalize=s?e=>s(to(e)):to,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,g.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,g.bg)(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=(0,g.nZ)(e);let n=this.normalize(t);for(let e=0,s=i;;e++){let o=n.charCodeAt(e),r=this.match(o,s);if(r)return this.value=r,this;if(e==n.length-1)break;s==i&&e<t.length&&t.charCodeAt(e)==o&&s++}}}match(e,t){let i=null;for(let n=0;n<this.matches.length;n+=2){let s=this.matches[n],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[n+1],to:t+1}:(this.matches[n]++,o=!0)),o||(this.matches.splice(n,2),n-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?i={from:t,to:t+1}:this.matches.push(1,t)),i}}Symbol.iterator,"undefined"!=typeof Symbol&&(io.prototype[Symbol.iterator]=function(){return this});const no={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},so=g.r$.define({combine:e=>(0,g.BO)(e,no,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});const oo=o.p.mark({class:"cm-selectionMatch"}),ro=o.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ao(e,t,i,n){return!(0!=i&&e(t.sliceDoc(i-1,i))==g.D0.Word||n!=t.doc.length&&e(t.sliceDoc(n,n+1))==g.D0.Word)}const lo=s.lg.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(so),{state:i}=e,n=i.selection;if(n.ranges.length>1)return o.p.none;let s,r=n.main,a=null;if(r.empty){if(!t.highlightWordAroundCursor)return o.p.none;let e=i.wordAt(r.head);if(!e)return o.p.none;a=i.charCategorizer(r.head),s=i.sliceDoc(e.from,e.to)}else{let e=r.to-r.from;if(e<t.minSelectionLength||e>200)return o.p.none;if(t.wholeWords){if(s=i.sliceDoc(r.from,r.to),a=i.charCategorizer(r.head),!ao(a,i,r.from,r.to)||!function(e,t,i,n){return e(t.sliceDoc(i,i+1))==g.D0.Word&&e(t.sliceDoc(n-1,n))==g.D0.Word}(a,i,r.from,r.to))return o.p.none}else if(s=i.sliceDoc(r.from,r.to).trim(),!s)return o.p.none}let l=[];for(let n of e.visibleRanges){let e=new io(i.doc,s,n.from,n.to);for(;!e.next().done;){let{from:n,to:s}=e.value;if((!a||ao(a,i,n,s))&&(r.empty&&n<=r.from&&s>=r.to?l.push(ro.range(n,s)):(n>=r.to||s<=r.from)&&l.push(oo.range(n,s)),l.length>t.maxMatches))return o.p.none}}return o.p.set(l)}},{decorations:e=>e.decorations}),co=n.t.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const ho={from:-1,to:-1,match:/.*/.exec("")},Oo="gm"+(null==/x/.unicode?"":"u");class uo{constructor(e,t,i,n=0,s=e.length){if(this.to=s,this.curLine="",this.done=!1,this.value=ho,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new mo(e,t,i,n,s);this.re=new RegExp(t,Oo+((null==i?void 0:i.ignoreCase)?"i":"")),this.iter=e.iter();let o=e.lineAt(n);this.curLineStart=o.from,this.matchPos=n,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,n=i+t[0].length;if(this.matchPos=n+(i==n?1:0),i==this.curLine.length&&this.nextLine(),i<n||i>this.value.to)return this.value={from:i,to:n,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}Symbol.iterator;const fo=new WeakMap;class po{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let n=fo.get(e);if(!n||n.from>=i||n.to<=t){let n=new po(t,e.sliceString(t,i));return fo.set(e,n),n}if(n.from==t&&n.to==i)return n;let{text:s,from:o}=n;return o>t&&(s=e.sliceString(t,o)+s,o=t),n.to<i&&(s+=e.sliceString(n.to,i)),fo.set(e,new po(o,s)),new po(t,s.slice(t-o,i-o))}}class mo{constructor(e,t,i,n,s){this.text=e,this.to=s,this.done=!1,this.value=ho,this.matchPos=n,this.re=new RegExp(t,Oo+((null==i?void 0:i.ignoreCase)?"i":"")),this.flat=po.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let e=this.flat.from+t.index,i=e+t[0].length;return this.value={from:e,to:i,match:t},this.matchPos=i+(e==i?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=po.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function go(){let e=arguments[0];"string"==typeof e&&(e=document.createElement(e));let t=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const n=i[t];"string"==typeof n?e.setAttribute(t,n):null!=n&&(e[t]=n)}t++}for(;t<arguments.length;t++)Qo(e,arguments[t]);return e}function Qo(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(let i=0;i<t.length;i++)Qo(e,t[i])}}function vo(e){let t=go("input",{class:"cm-textfield",name:"line"});function i(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!i)return;let{state:n}=e,s=n.doc.lineAt(n.selection.main.head),[,o,r,a,l]=i,c=a?+a.slice(1):0,h=r?+r:s.number;if(r&&l){let e=h/100;o&&(e=e*("-"==o?-1:1)+s.number/n.doc.lines),h=Math.round(n.doc.lines*e)}else r&&o&&(h=h*("-"==o?-1:1)+s.number);let d=n.doc.line(Math.max(1,Math.min(n.doc.lines,h)));e.dispatch({effects:$o.of(!1),selection:g.jT.cursor(d.from+Math.max(0,Math.min(c,d.length))),scrollIntoView:!0}),e.focus()}return{dom:go("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:$o.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),i())},onsubmit:e=>{e.preventDefault(),i()}},go("label",e.state.phrase("Go to line"),": ",t)," ",go("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}Symbol.iterator,"undefined"!=typeof Symbol&&(uo.prototype[Symbol.iterator]=mo.prototype[Symbol.iterator]=function(){return this});const $o=g.Py.define(),yo=g.QQ.define({create:()=>!0,update(e,t){for(let i of t.effects)i.is($o)&&(e=i.value);return e},provide:e=>ge.mH.from(e,(e=>e?vo:null))}),xo=n.t.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),wo=g.r$.define({combine(e){var t;return{top:e.reduce(((e,t)=>null!=e?e:t.top),void 0)||!1,caseSensitive:e.reduce(((e,t)=>null!=e?e:t.caseSensitive),void 0)||!1,createPanel:(null===(t=e.find((e=>e.createPanel)))||void 0===t?void 0:t.createPanel)||(e=>new Vo(e))}}});class bo{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,Oo),!0}catch(e){return!1}}(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new Po(this):new ko(this)}getCursor(e,t=0,i=e.length){return this.regexp?_o(this,e,t,i):To(this,e,t,i)}}class So{constructor(e){this.spec=e}}function To(e,t,i,n){return new io(t,e.unquoted,i,n,e.caseSensitive?void 0:e=>e.toLowerCase())}class ko extends So{constructor(e){super(e)}nextMatch(e,t,i){let n=To(this.spec,e,i,e.length).nextOverlapping();return n.done&&(n=To(this.spec,e,0,t).nextOverlapping()),n.done?null:n.value}prevMatchInRange(e,t,i){for(let n=i;;){let i=Math.max(t,n-1e4-this.spec.unquoted.length),s=To(this.spec,e,i,n),o=null;for(;!s.nextOverlapping().done;)o=s.value;if(o)return o;if(i==t)return null;n-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let i=To(this.spec,e,0,e.length),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let s=To(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}function _o(e,t,i,n){return new uo(t,e.search,e.caseSensitive?void 0:{ignoreCase:!0},i,n)}class Po extends So{nextMatch(e,t,i){let n=_o(this.spec,e,i,e.length).next();return n.done&&(n=_o(this.spec,e,0,t).next()),n.done?null:n.value}prevMatchInRange(e,t,i){for(let n=1;;n++){let s=Math.max(t,i-1e4*n),o=_o(this.spec,e,s,i),r=null;for(;!o.next().done;)r=o.value;if(r&&(s==t||r.from>s+10))return r;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,((t,i)=>"$"==i?"$":"&"==i?e.match[0]:"0"!=i&&+i<e.match.length?e.match[i]:t))}matchAll(e,t){let i=_o(this.spec,e,0,e.length),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let s=_o(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}const Ro=g.Py.define(),Wo=g.Py.define(),Co=g.QQ.define({create:e=>new Xo(Mo(e).create(),null),update(e,t){for(let i of t.effects)i.is(Ro)?e=new Xo(i.value.create(),e.panel):i.is(Wo)&&(e=new Xo(e.query,i.value?Lo:null));return e},provide:e=>ge.mH.from(e,(e=>e.panel))});class Xo{constructor(e,t){this.query=e,this.panel=t}}const Zo=o.p.mark({class:"cm-searchMatch"}),Io=o.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),jo=s.lg.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(Co))}update(e){let t=e.state.field(Co);(t!=e.startState.field(Co)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return o.p.none;let{view:i}=this,n=new g.f_;for(let t=0,s=i.visibleRanges,o=s.length;t<o;t++){let{from:r,to:a}=s[t];for(;t<o-1&&a>s[t+1].from-500;)a=s[++t].to;e.highlight(i.state.doc,r,a,((e,t)=>{let s=i.state.selection.ranges.some((i=>i.from==e&&i.to==t));n.add(e,t,s?Io:Zo)}))}return n.finish()}},{decorations:e=>e.decorations});function Ao(e){return t=>{let i=t.state.field(Co,!1);return i&&i.query.spec.valid?e(t,i):Go(t)}}const Uo=Ao(((e,{query:t})=>{let{from:i,to:n}=e.state.selection.main,s=t.nextMatch(e.state.doc,i,n);return!(!s||s.from==i&&s.to==n)&&(e.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:Fo(e,s),userEvent:"select.search"}),!0)})),Eo=Ao(((e,{query:t})=>{let{state:i}=e,{from:n,to:s}=i.selection.main,o=t.prevMatch(i.doc,n,s);return!!o&&(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:Fo(e,o),userEvent:"select.search"}),!0)})),zo=Ao(((e,{query:t})=>{let i=t.matchAll(e.state.doc,1e3);return!(!i||!i.length)&&(e.dispatch({selection:g.jT.create(i.map((e=>g.jT.range(e.from,e.to)))),userEvent:"select.search.matches"}),!0)})),qo=Ao(((e,{query:t})=>{let{state:i}=e,{from:n,to:s}=i.selection.main;if(i.readOnly)return!1;let o=t.nextMatch(i.doc,n,n);if(!o)return!1;let r,a,l=[];if(o.from==n&&o.to==s&&(a=i.toText(t.getReplacement(o)),l.push({from:o.from,to:o.to,insert:a}),o=t.nextMatch(i.doc,o.from,o.to)),o){let e=0==l.length||l[0].from>=o.to?0:o.to-o.from-a.length;r={anchor:o.from-e,head:o.to-e}}return e.dispatch({changes:l,selection:r,scrollIntoView:!!r,effects:o?Fo(e,o):void 0,userEvent:"input.replace"}),!0})),Yo=Ao(((e,{query:t})=>{if(e.state.readOnly)return!1;let i=t.matchAll(e.state.doc,1e9).map((e=>{let{from:i,to:n}=e;return{from:i,to:n,insert:t.getReplacement(e)}}));return!!i.length&&(e.dispatch({changes:i,userEvent:"input.replace.all"}),!0)}));function Lo(e){return e.state.facet(wo).createPanel(e)}function Mo(e,t){var i;let n=e.selection.main,s=n.empty||n.to>n.from+100?"":e.sliceDoc(n.from,n.to),o=null!==(i=null==t?void 0:t.caseSensitive)&&void 0!==i?i:e.facet(wo).caseSensitive;return t&&!s?t:new bo({search:s.replace(/\n/g,"\\n"),caseSensitive:o})}const Go=e=>{let t=e.state.field(Co,!1);if(t&&t.panel){let i=(0,ge.Sd)(e,Lo);if(!i)return!1;let n=i.dom.querySelector("[name=search]");if(n!=e.root.activeElement){let i=Mo(e.state,t.query.spec);i.valid&&e.dispatch({effects:Ro.of(i)}),n.focus(),n.select()}}else e.dispatch({effects:[Wo.of(!0),t?Ro.of(Mo(e.state,t.query.spec)):g.Py.appendConfig.of(Ko)]});return!0},Do=e=>{let t=e.state.field(Co,!1);if(!t||!t.panel)return!1;let i=(0,ge.Sd)(e,Lo);return i&&i.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:Wo.of(!1)}),!0},No=[{key:"Mod-f",run:Go,scope:"editor search-panel"},{key:"F3",run:Uo,shift:Eo,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Uo,shift:Eo,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Do,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let i=e.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:n,to:s}=i.main,o=[],r=0;for(let t=new io(e.doc,e.sliceDoc(n,s));!t.next().done;){if(o.length>1e3)return!1;t.value.from==n&&(r=o.length),o.push(g.jT.range(t.value.from,t.value.to))}return t(e.update({selection:g.jT.create(o,r),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:e=>{let t=(0,ge.Sd)(e,vo);if(!t){let i=[$o.of(!0)];null==e.state.field(yo,!1)&&i.push(g.Py.appendConfig.of([yo,xo])),e.dispatch({effects:i}),t=(0,ge.Sd)(e,vo)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:i}=e.selection;if(i.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:i}=e,n=g.jT.create(i.ranges.map((t=>e.wordAt(t.head)||g.jT.cursor(t.head))),i.mainIndex);return!n.eq(i)&&(t(e.update({selection:n})),!0)})({state:e,dispatch:t});let s=e.sliceDoc(i[0].from,i[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=s)))return!1;let o=function(e,t){let{main:i,ranges:n}=e.selection,s=e.wordAt(i.head),o=s&&s.from==i.from&&s.to==i.to;for(let i=!1,s=new io(e.doc,t,n[n.length-1].to);;){if(s.next(),!s.done){if(i&&n.some((e=>e.from==s.value.from)))continue;if(o){let t=e.wordAt(s.value.from);if(!t||t.from!=s.value.from||t.to!=s.value.to)continue}return s.value}if(i)return null;s=new io(e.doc,t,0,Math.max(0,n[n.length-1].from-1)),i=!0}}(e,s);return!!o&&(t(e.update({selection:e.selection.addRange(g.jT.range(o.from,o.to),!1),effects:n.t.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class Vo{constructor(e){this.view=e;let t=this.query=e.state.field(Co).query.spec;function i(e,t,i){return go("button",{class:"cm-button",name:e,onclick:t,type:"button"},i)}this.commit=this.commit.bind(this),this.searchField=go("input",{value:t.search,placeholder:Bo(e,"Find"),"aria-label":Bo(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=go("input",{value:t.replace,placeholder:Bo(e,"Replace"),"aria-label":Bo(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=go("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=go("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.dom=go("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,i("next",(()=>Uo(e)),[Bo(e,"next")]),i("prev",(()=>Eo(e)),[Bo(e,"previous")]),i("select",(()=>zo(e)),[Bo(e,"all")]),go("label",null,[this.caseField,Bo(e,"match case")]),go("label",null,[this.reField,Bo(e,"regexp")]),...e.state.readOnly?[]:[go("br"),this.replaceField,i("replace",(()=>qo(e)),[Bo(e,"replace")]),i("replaceAll",(()=>Yo(e)),[Bo(e,"replace all")]),go("button",{name:"close",onclick:()=>Do(e),"aria-label":Bo(e,"close"),type:"button"},["×"])]])}commit(){let e=new bo({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ro.of(e)}))}keydown(e){var t,i,n;t=this.view,i=e,n="search-panel",T(b(t.state),i,t,n)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Eo:Uo)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),qo(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(Ro)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(wo).top}}function Bo(e,t){return e.state.phrase(t)}const Ho=/[\s\.,:;?!]/;function Fo(e,{from:t,to:i}){let s=e.state.doc.lineAt(t).from,o=e.state.doc.lineAt(i).to,r=Math.max(s,t-30),a=Math.min(o,i+30),l=e.state.sliceDoc(r,a);if(r!=s)for(let e=0;e<30;e++)if(!Ho.test(l[e+1])&&Ho.test(l[e])){l=l.slice(e);break}if(a!=o)for(let e=l.length-1;e>l.length-30;e--)if(!Ho.test(l[e-1])&&Ho.test(l[e])){l=l.slice(0,e);break}return n.t.announce.of(`${e.state.phrase("current match")}. ${l} ${e.state.phrase("on line")} ${e.state.doc.lineAt(t).number}`)}const Jo=n.t.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Ko=[Co,g.Wl.lowest(jo),Jo];class er{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=$t(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),n=t.text.slice(i-t.from,this.pos-t.from),s=n.search(rr(e,!1));return s<0?null:{from:i+s,to:this.pos,text:n.slice(s)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function tr(e){let t=Object.keys(e).join(""),i=/\w/.test(t);return i&&(t=t.replace(/\w/g,"")),`[${i?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function ir(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[i,n]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),i=Object.create(null);for(let{label:n}of e){t[n[0]]=!0;for(let e=1;e<n.length;e++)i[n[e]]=!0}let n=tr(t)+tr(i)+"*$";return[new RegExp("^"+n),new RegExp(n)]}(t);return e=>{let s=e.matchBefore(n);return s||e.explicit?{from:s?s.from:e.pos,options:t,validFor:i}:null}}function nr(e,t){return i=>{for(let t=$t(i.state).resolveInner(i.pos,-1);t;t=t.parent)if(e.indexOf(t.name)>-1)return null;return t(i)}}class sr{constructor(e,t,i){this.completion=e,this.source=t,this.match=i}}function or(e){return e.selection.main.head}function rr(e,t){var i;let{source:n}=e,s=t&&"^"!=n[0],o="$"!=n[n.length-1];return s||o?new RegExp(`${s?"^":""}(?:${n})${o?"$":""}`,null!==(i=e.flags)&&void 0!==i?i:e.ignoreCase?"i":""):e}const ar=g.q6.define();function lr(e,t){const i=t.completion.apply||t.completion.label;let n=t.source;"string"==typeof i?e.dispatch(e.state.changeByRange((t=>{if(t==e.state.selection.main)return{changes:{from:n.from,to:n.to,insert:i},range:g.jT.cursor(n.from+i.length)};let s=n.to-n.from;return!t.empty||s&&e.state.sliceDoc(t.from-s,t.from)!=e.state.sliceDoc(n.from,n.to)?{range:t}:{changes:{from:t.from-s,to:t.from,insert:i},range:g.jT.cursor(t.from-s+i.length)}})),{userEvent:"input.complete",annotations:ar.of(t.completion)}):i(e,t.completion,n.from,n.to)}const cr=new WeakMap;function hr(e){if(!Array.isArray(e))return e;let t=cr.get(e);return t||cr.set(e,t=ir(e)),t}class dr{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=(0,g.gm)(e,t),n=(0,g.nZ)(i);this.chars.push(i);let s=e.slice(t,t+n),o=s.toUpperCase();this.folded.push((0,g.gm)(o==s?s.toLowerCase():o,0)),t+=n}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:n,precise:s,byWord:o}=this;if(1==t.length){let n=(0,g.gm)(e,0);return n==t[0]?[0,0,(0,g.nZ)(n)]:n==i[0]?[-200,0,(0,g.nZ)(n)]:null}let r=e.indexOf(this.pattern);if(0==r)return[0,0,this.pattern.length];let a=t.length,l=0;if(r<0){for(let s=0,o=Math.min(e.length,200);s<o&&l<a;){let o=(0,g.gm)(e,s);o!=t[l]&&o!=i[l]||(n[l++]=s),s+=(0,g.nZ)(o)}if(l<a)return null}let c=0,h=0,d=!1,O=0,u=-1,f=-1,p=/[a-z]/.test(e),m=!0;for(let n=0,l=Math.min(e.length,200),Q=0;n<l&&h<a;){let l=(0,g.gm)(e,n);r<0&&(c<a&&l==t[c]&&(s[c++]=n),O<a&&(l==t[O]||l==i[O]?(0==O&&(u=n),f=n+1,O++):O=0));let v,$=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(v=(0,g.bg)(l))!=v.toLowerCase()?1:v!=v.toUpperCase()?2:0;(!n||1==$&&p||0==Q&&0!=$)&&(t[h]==l||i[h]==l&&(d=!0)?o[h++]=n:o.length&&(m=!1)),Q=$,n+=(0,g.nZ)(l)}return h==a&&0==o[0]&&m?this.result((d?-200:0)-100,o,e):O==a&&0==u?[-200-e.length,0,f]:r>-1?[-700-e.length,r,r+this.pattern.length]:O==a?[-900-e.length,u,f]:h==a?this.result((d?-200:0)-100-700+(m?0:-1100),o,e):2==t.length?null:this.result((n[0]?-700:0)-200-1100,n,e)}result(e,t,i){let n=[e-i.length],s=1;for(let e of t){let t=e+(this.astral?(0,g.nZ)((0,g.gm)(i,e)):1);s>1&&n[s-1]==e?n[s-1]=t:(n[s++]=e,n[s++]=t)}return n}}const Or=g.r$.define({combine:e=>(0,g.BO)(e,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>i=>function(e,t){return e?t?e+" "+t:e:t}(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})});function ur(e,t,i){if(e<=i)return{from:0,to:e};if(t<=e>>1){let e=Math.floor(t/i);return{from:e*i,to:(e+1)*i}}let n=Math.floor((e-t)/i);return{from:e-(n+1)*i,to:e-n*i}}class fr{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let i=e.state.field(t),{options:n,selected:s}=i.open,o=e.state.facet(Or);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,i){let n=document.createElement("span");n.className="cm-completionLabel";let{label:s}=e,o=0;for(let e=1;e<i.length;){let t=i[e++],r=i[e++];t>o&&n.appendChild(document.createTextNode(s.slice(o,t)));let a=n.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(s.slice(t,r))),a.className="cm-completionMatchedText",o=r}return o<s.length&&n.appendChild(document.createTextNode(s.slice(o))),n},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(o),this.optionClass=o.optionClass,this.range=ur(n.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(t=>{for(let i,s=t.target;s&&s!=this.dom;s=s.parentNode)if("LI"==s.nodeName&&(i=/-(\d+)$/.exec(s.id))&&+i[1]<n.length)return lr(e,n[+i[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(n,i.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=ur(t.options.length,t.selected,this.view.state.facet(Or).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=t.options[t.selected],{info:n}=i;if(!n)return;let o="string"==typeof n?document.createTextNode(n):n(i);if(!o)return;"then"in o?o.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t)})).catch((e=>(0,s.OO)(this.view.state,e,"completion info"))):this.addInfoPane(o)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)n==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&function(e,t){let i=e.getBoundingClientRect(),n=t.getBoundingClientRect();n.top<i.top?e.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(e.scrollTop+=n.bottom-i.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=e.getBoundingClientRect();if(n.top>Math.min(innerHeight,t.bottom)-10||n.bottom<Math.max(0,t.top)+10)return null;let s=Math.max(0,Math.min(n.top,innerHeight-i.height))-t.top,o=this.view.textDirection==a.Nm.RTL,r=t.left,l=innerWidth-t.right;return o&&r<Math.min(i.width,l)?o=!1:!o&&l<Math.min(i.width,r)&&(o=!0),{top:s,left:o}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,i){const n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true");for(let s=i.from;s<i.to;s++){let{completion:i,match:o}=e[s];const r=n.appendChild(document.createElement("li"));r.id=t+"-"+s,r.setAttribute("role","option");let a=this.optionClass(i);a&&(r.className=a);for(let e of this.optionContent){let t=e(i,this.view.state,o);t&&r.appendChild(t)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}}function pr(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class mr{constructor(e,t,i,n,s){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=n,this.selected=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new mr(this.options,vr(t,e),this.tooltip,this.timestamp,e)}static build(e,t,i,n,s){let o=function(e,t){let i=[],n=0;for(let s of e)if(s.hasResult())if(!1===s.result.filter)for(let e of s.result.options)i.push(new sr(e,s,[1e9-n++]));else{let e,n=new dr(t.sliceDoc(s.from,s.to));for(let t of s.result.options)(e=n.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),i.push(new sr(t,s,e)))}let s=[],o=null;for(let e of i.sort(yr))!o||o.label!=e.completion.label||o.detail!=e.completion.detail||null!=o.type&&null!=e.completion.type&&o.type!=e.completion.type||o.apply!=e.completion.apply?s.push(e):pr(e.completion)>pr(o)&&(s[s.length-1]=e),o=e.completion;return s}(e,t);if(!o.length)return null;let r=0;if(n&&n.selected){let e=n.options[n.selected].completion;for(let t=0;t<o.length;t++)if(o[t].completion==e){r=t;break}}return new mr(o,vr(i,r),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:(a=Pr,e=>new fr(e,a)),above:s.aboveCursor},n?n.timestamp:Date.now(),r);var a}map(e){return new mr(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class gr{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new gr($r,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Or),n=(i.override||t.languageDataAt("autocomplete",or(t)).map(hr)).map((t=>(this.active.find((e=>e.source==t))||new wr(t,this.active.some((e=>0!=e.state))?1:0)).update(e,i)));n.length==this.active.length&&n.every(((e,t)=>e==this.active[t]))&&(n=this.active);let s=e.selection||n.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let i=0,n=0;;){for(;i<e.length&&!e[i].hasResult;)i++;for(;n<t.length&&!t[n].hasResult;)n++;let s=i==e.length,o=n==t.length;if(s||o)return s==o;if(e[i++].result!=t[n++].result)return!1}}(n,this.active)?mr.build(n,t,this.id,this.open,i):this.open&&e.docChanged?this.open.map(e.changes):this.open;!s&&n.every((e=>1!=e.state))&&n.some((e=>e.hasResult()))&&(n=n.map((e=>e.hasResult()?new wr(e.source,0):e)));for(let t of e.effects)t.is(_r)&&(s=s&&s.setSelected(t.value,this.id));return n==this.active&&s==this.open?this:new gr(n,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Qr}}const Qr={"aria-autocomplete":"list"};function vr(e,t){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":e+"-"+t,"aria-controls":e}}const $r=[];function yr(e,t){let i=t.match[0]-e.match[0];return i||e.completion.label.localeCompare(t.completion.label)}function xr(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class wr{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=xr(e),n=this;i?n=n.handleUserEvent(e,i,t):e.docChanged?n=n.handleChange(e):e.selection&&0!=n.state&&(n=new wr(n.source,0));for(let t of e.effects)if(t.is(Sr))n=new wr(n.source,1,t.value?or(e.state):-1);else if(t.is(Tr))n=new wr(n.source,0);else if(t.is(kr))for(let e of t.value)e.source==n.source&&(n=e);return n}handleUserEvent(e,t,i){return"delete"!=t&&i.activateOnTyping?new wr(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(or(e.startState))?new wr(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new wr(this.source,this.state,e.mapPos(this.explicitPos))}}class br extends wr{constructor(e,t,i,n,s){super(e,2,t),this.result=i,this.from=n,this.to=s}hasResult(){return!0}handleUserEvent(e,t,i){var n;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),r=or(e.state);if((this.explicitPos<0?r<=s:r<this.from)||r>o||"delete"==t&&or(e.startState)==this.from)return new wr(this.source,"input"==t&&i.activateOnTyping?1:0);let a,l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,i,n){if(!e)return!1;let s=t.sliceDoc(i,n);return"function"==typeof e?e(s,i,n,t):rr(e,!0).test(s)}(this.result.validFor,e.state,s,o)?new br(this.source,l,this.result,s,o):this.result.update&&(a=this.result.update(this.result,s,o,new er(e.state,r,l>=0)))?new br(this.source,l,a,a.from,null!==(n=a.to)&&void 0!==n?n:or(e.state)):new wr(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new wr(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new br(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const Sr=g.Py.define(),Tr=g.Py.define(),kr=g.Py.define({map:(e,t)=>e.map((e=>e.map(t)))}),_r=g.Py.define(),Pr=g.QQ.define({create:()=>gr.start(),update:(e,t)=>e.update(t),provide:e=>[he.from(e,(e=>e.tooltip)),n.t.contentAttributes.from(e,(e=>e.attrs))]});function Rr(e,t="option"){return i=>{let n=i.state.field(Pr,!1);if(!n||!n.open||Date.now()-n.open.timestamp<75)return!1;let s,o=1;"page"==t&&(s=function(e,t){let i=e.plugin(ae);if(!i)return null;let n=i.manager.tooltips.indexOf(t);return n<0?null:i.manager.tooltipViews[n]}(i,n.open.tooltip))&&(o=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let r=n.open.selected+o*(e?1:-1),{length:a}=n.open.options;return r<0?r="page"==t?0:a-1:r>=a&&(r="page"==t?a-1:0),i.dispatch({effects:_r.of(r)}),!0}}class Wr{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Cr=s.lg.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(Pr).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(Pr);if(!e.selectionSet&&!e.docChanged&&e.startState.field(Pr)==t)return;let i=e.transactions.some((e=>(e.selection||e.docChanged)&&!xr(e)));for(let t=0;t<this.running.length;t++){let n=this.running[t];if(i||n.updates.length+e.transactions.length>50&&Date.now()-n.time>1e3){for(let e of n.context.abortListeners)try{e()}catch(e){(0,s.OO)(this.view.state,e)}n.context.abortListeners=null,this.running.splice(t--,1)}else n.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==xr(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(Pr);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,i=or(t),n=new er(t,i,e.explicitPos==i),o=new Wr(e,n);this.running.push(o),Promise.resolve(e.source(n)).then((e=>{o.context.aborted||(o.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:Tr.of(null)}),(0,s.OO)(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],i=this.view.state.facet(Or);for(let n=0;n<this.running.length;n++){let s=this.running[n];if(void 0===s.done)continue;if(this.running.splice(n--,1),s.done){let n=new br(s.active.source,s.active.explicitPos,s.done,s.done.from,null!==(e=s.done.to)&&void 0!==e?e:or(s.updates.length?s.updates[0].startState:this.view.state));for(let e of s.updates)n=n.update(e,i);if(n.hasResult()){t.push(n);continue}}let o=this.view.state.field(Pr).active.find((e=>e.source==s.active.source));if(o&&1==o.state)if(null==s.done){let e=new wr(s.active.source,0);for(let t of s.updates)e=e.update(t,i);1!=e.state&&t.push(e)}else this.startQuery(o)}t.length&&this.view.dispatch({effects:kr.of(t)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:Sr.of(!1)})),20),this.composing=0}}}),Xr=n.t.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Zr{constructor(e,t,i,n){this.field=e,this.line=t,this.from=i,this.to=n}}class Ir{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,g.gc.TrackDel),i=e.mapPos(this.to,1,g.gc.TrackDel);return null==t||null==i?null:new Ir(this.field,t,i)}}class jr{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],n=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let s of this.lines){if(i.length){let i=o,r=/^\t*/.exec(s)[0].length;for(let t=0;t<r;t++)i+=e.facet(Ct);n.push(t+i.length-r),s=i+s.slice(r)}i.push(s),t+=s.length+1}let r=this.fieldPositions.map((e=>new Ir(e.field,n[e.line]+e.from,n[e.line]+e.to)));return{text:i,ranges:r}}static parse(e){let t,i=[],n=[],s=[];for(let o of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let e=t[1]?+t[1]:null,r=t[2]||t[3]||"",a=-1;for(let t=0;t<i.length;t++)(null!=e?i[t].seq==e:r&&i[t].name==r)&&(a=t);if(a<0){let t=0;for(;t<i.length&&(null==e||null!=i[t].seq&&i[t].seq<e);)t++;i.splice(t,0,{seq:e,name:r}),a=t;for(let e of s)e.field>=a&&e.field++}s.push(new Zr(a,n.length,t.index,t.index+r.length)),o=o.slice(0,t.index)+r+o.slice(t.index+t[0].length)}n.push(o)}return new jr(n,s)}}let Ar=o.p.widget({widget:new class extends o.l9{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),Ur=o.p.mark({class:"cm-snippetField"});class Er{constructor(e,t){this.ranges=e,this.active=t,this.deco=o.p.set(e.map((e=>(e.from==e.to?Ar:Ur).range(e.from,e.to))))}map(e){let t=[];for(let i of this.ranges){let n=i.map(e);if(!n)return null;t.push(n)}return new Er(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const zr=g.Py.define({map:(e,t)=>e&&e.map(t)}),qr=g.Py.define(),Yr=g.QQ.define({create:()=>null,update(e,t){for(let i of t.effects){if(i.is(zr))return i.value;if(i.is(qr)&&e)return new Er(e.ranges,i.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>n.t.decorations.from(e,(e=>e?e.deco:o.p.none))});function Lr(e,t){return g.jT.create(e.filter((e=>e.field==t)).map((e=>g.jT.range(e.from,e.to))))}function Mr(e){let t=jr.parse(e);return(e,i,n,s)=>{let{text:o,ranges:r}=t.instantiate(e.state,n),a={changes:{from:n,to:s,insert:g.xv.of(o)}};if(r.length&&(a.selection=Lr(r,0)),r.length>1){let t=new Er(r,0),i=a.effects=[zr.of(t)];void 0===e.state.field(Yr,!1)&&i.push(g.Py.appendConfig.of([Yr,Vr,Hr,Xr]))}e.dispatch(e.state.update(a))}}function Gr(e){return({state:t,dispatch:i})=>{let n=t.field(Yr,!1);if(!n||e<0&&0==n.active)return!1;let s=n.active+e,o=e>0&&!n.ranges.some((t=>t.field==s+e));return i(t.update({selection:Lr(n.ranges,s),effects:zr.of(o?null:new Er(n.ranges,s))})),!0}}const Dr=[{key:"Tab",run:Gr(1),shift:Gr(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(Yr,!1)&&(t(e.update({effects:zr.of(null)})),!0)}],Nr=g.r$.define({combine:e=>e.length?e[0]:Dr}),Vr=g.Wl.highest(x.compute([Nr],(e=>e.facet(Nr))));function Br(e,t){return Object.assign(Object.assign({},t),{apply:Mr(e)})}const Hr=n.t.domEventHandlers({mousedown(e,t){let i,n=t.state.field(Yr,!1);if(!n||null==(i=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let s=n.ranges.find((e=>e.from<=i&&e.to>=i));return!(!s||s.field==n.active)&&(t.dispatch({selection:Lr(n.ranges,s.field),effects:zr.of(n.ranges.some((e=>e.field>s.field))?new Er(n.ranges,s.field):null)}),!0)}});Object.create(null);const Fr={brackets:["(","[","{","'",'"'],before:")]}:;>"},Jr=g.Py.define({map(e,t){let i=t.mapPos(e,-1,g.gc.TrackAfter);return null==i?void 0:i}}),Kr=g.Py.define({map:(e,t)=>t.mapPos(e)}),ea=new class extends g.uU{};ea.startSide=1,ea.endSide=-1;const ta=g.QQ.define({create:()=>g.Xs.empty,update(e,t){if(t.selection){let i=t.state.doc.lineAt(t.selection.main.head).from,n=t.startState.doc.lineAt(t.startState.selection.main.head).from;i!=t.changes.mapPos(n,-1)&&(e=g.Xs.empty)}e=e.map(t.changes);for(let i of t.effects)i.is(Jr)?e=e.update({add:[ea.range(i.value,i.value+1)]}):i.is(Kr)&&(e=e.update({filter:e=>e!=i.value}));return e}});const ia="()[]{}<>";function na(e){for(let t=0;t<ia.length;t+=2)if(ia.charCodeAt(t)==e)return ia.charAt(t+1);return(0,g.bg)(e<128?e:e+1)}function sa(e,t){return e.languageDataAt("closeBrackets",t)[0]||Fr}const oa="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),ra=n.t.inputHandler.of(((e,t,i,n)=>{if((oa?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let s=e.state.selection.main;if(n.length>2||2==n.length&&1==(0,g.nZ)((0,g.gm)(n,0))||t!=s.from||i!=s.to)return!1;let o=function(e,t){let i=sa(e,e.selection.main.head),n=i.brackets||Fr.brackets;for(let s of n){let o=na((0,g.gm)(s,0));if(t==s)return o==s?Oa(e,s,n.indexOf(s+s+s)>-1):ha(e,s,o,i.before||Fr.before);if(t==o&&la(e,e.selection.main.from))return da(e,s,o)}return null}(e.state,n);return!!o&&(e.dispatch(o),!0)})),aa=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=sa(e,e.selection.main.head).brackets||Fr.brackets,n=null,s=e.changeByRange((t=>{if(t.empty){let n=function(e,t){let i=e.sliceString(t-2,t);return(0,g.nZ)((0,g.gm)(i,0))==i.length?i:i.slice(1)}(e.doc,t.head);for(let s of i)if(s==n&&ca(e.doc,t.head)==na((0,g.gm)(s,0)))return{changes:{from:t.head-s.length,to:t.head+s.length},range:g.jT.cursor(t.head-s.length),userEvent:"delete.backward"}}return{range:n=t}}));return n||t(e.update(s,{scrollIntoView:!0})),!n}}];function la(e,t){let i=!1;return e.field(ta).between(0,e.doc.length,(e=>{e==t&&(i=!0)})),i}function ca(e,t){let i=e.sliceString(t,t+2);return i.slice(0,(0,g.nZ)((0,g.gm)(i,0)))}function ha(e,t,i,n){let s=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:i,from:o.to}],effects:Jr.of(o.to+t.length),range:g.jT.range(o.anchor+t.length,o.head+t.length)};let r=ca(e.doc,o.head);return!r||/\s/.test(r)||n.indexOf(r)>-1?{changes:{insert:t+i,from:o.head},effects:Jr.of(o.head+t.length),range:g.jT.cursor(o.head+t.length)}:{range:s=o}}));return s?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function da(e,t,i){let n=null,s=e.selection.ranges.map((t=>t.empty&&ca(e.doc,t.head)==i?g.jT.cursor(t.head+i.length):n=t));return n?null:e.update({selection:g.jT.create(s,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>Kr.of(e)))})}function Oa(e,t,i){let n=null,s=e.changeByRange((s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:t,from:s.to}],effects:Jr.of(s.to+t.length),range:g.jT.range(s.anchor+t.length,s.head+t.length)};let o=s.head,r=ca(e.doc,o);if(r==t){if(ua(e,o))return{changes:{insert:t+t,from:o},effects:Jr.of(o+t.length),range:g.jT.cursor(o+t.length)};if(la(e,o)){let n=i&&e.sliceDoc(o,o+3*t.length)==t+t+t;return{range:g.jT.cursor(o+t.length*(n?3:1)),effects:Kr.of(o)}}}else{if(i&&e.sliceDoc(o-2*t.length,o)==t+t&&ua(e,o-2*t.length))return{changes:{insert:t+t+t+t,from:o},effects:Jr.of(o+t.length),range:g.jT.cursor(o+t.length)};if(e.charCategorizer(o)(r)!=g.D0.Word){let i=e.sliceDoc(o-1,o);if(i!=t&&e.charCategorizer(o)(i)!=g.D0.Word&&!function(e,t,i){let n=$t(e).resolveInner(t,-1);for(let s=0;s<5;s++){if(e.sliceDoc(n.from,n.from+i.length)==i)return!0;let s=n.to==t&&n.parent;if(!s)break;n=s}return!1}(e,o,t))return{changes:{insert:t+t,from:o},effects:Jr.of(o+t.length),range:g.jT.cursor(o+t.length)}}}return{range:n=s}}));return n?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function ua(e,t){let i=$t(e).resolveInner(t+1);return i.parent&&i.from==t}const fa=[{key:"Ctrl-Space",run:e=>!!e.state.field(Pr,!1)&&(e.dispatch({effects:Sr.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(Pr,!1);return!(!t||!t.active.some((e=>0!=e.state)))&&(e.dispatch({effects:Tr.of(null)}),!0)}},{key:"ArrowDown",run:Rr(!0)},{key:"ArrowUp",run:Rr(!1)},{key:"PageDown",run:Rr(!0,"page")},{key:"PageUp",run:Rr(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(Pr,!1);return!(e.state.readOnly||!t||!t.open||Date.now()-t.open.timestamp<75)&&(lr(e,t.open.options[t.open.selected]),!0)}}],pa=g.Wl.highest(x.computeN([Or],(e=>e.facet(Or).defaultKeymap?[fa]:[])));new WeakMap;class ma{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class ga{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let n=o.p.set(e.map((e=>e.from==e.to||e.from==e.to-1&&i.doc.lineAt(e.from).to==e.from?o.p.widget({widget:new Za(e),diagnostic:e}).range(e.from):o.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to))),!0);return new ga(n,t,Qa(n))}}function Qa(e,t=null,i=0){let n=null;return e.between(i,1e9,((e,i,{spec:s})=>{if(!t||s.diagnostic==t)return n=new ma(e,i,s.diagnostic),!1})),n}function va(e,t){return!(!e.effects.some((e=>e.is(ya)))&&!e.changes.touchesRange(t.pos))}function $a(e,t){return e.field(ba,!1)?t:t.concat(g.Py.appendConfig.of([ba,n.t.decorations.compute([ba],(e=>{let{selected:t,panel:i}=e.field(ba);return t&&i&&t.from!=t.to?o.p.set([Sa.range(t.from,t.to)]):o.p.none})),pe(Ta,{hideOn:va}),Ea]))}const ya=g.Py.define(),xa=g.Py.define(),wa=g.Py.define(),ba=g.QQ.define({create:()=>new ga(o.p.none,null,null),update(e,t){if(t.docChanged){let i=e.diagnostics.map(t.changes),n=null;if(e.selected){let s=t.changes.mapPos(e.selected.from,1);n=Qa(i,e.selected.diagnostic,s)||Qa(i,null,s)}e=new ga(i,e.panel,n)}for(let i of t.effects)i.is(ya)?e=ga.init(i.value,e.panel,t.state):i.is(xa)?e=new ga(e.diagnostics,i.value?ja.open:null,e.selected):i.is(wa)&&(e=new ga(e.diagnostics,e.panel,i.value));return e},provide:e=>[ge.mH.from(e,(e=>e.panel)),n.t.decorations.from(e,(e=>e.diagnostics))]});const Sa=o.p.mark({class:"cm-lintRange cm-lintRange-active"});function Ta(e,t,i){let{diagnostics:n}=e.state.field(ba),s=[],o=2e8,r=0;return n.between(t-(i<0?1:0),t+(i>0?1:0),((e,n,{spec:a})=>{t>=e&&t<=n&&(e==n||(t>e||i>0)&&(t<n||i<0))&&(s.push(a.diagnostic),o=Math.min(e,o),r=Math.max(n,r))})),s.length?{pos:o,end:r,above:e.state.doc.lineAt(o).to<r,create:()=>({dom:ka(e,s)})}:null}function ka(e,t){return go("ul",{class:"cm-tooltip-lint"},t.map((t=>Xa(e,t,!1))))}const _a=e=>{let t=e.state.field(ba,!1);return!(!t||!t.panel)&&(e.dispatch({effects:xa.of(!1)}),!0)},Pa=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(ba,!1);t&&t.panel||e.dispatch({effects:$a(e.state,[xa.of(!0)])});let i=(0,ge.Sd)(e,ja.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:e=>{let t=e.state.field(ba,!1);if(!t)return!1;let i=e.state.selection.main,n=t.diagnostics.iter(i.to+1);return!(!n.value&&(n=t.diagnostics.iter(0),!n.value||n.from==i.from&&n.to==i.to))&&(e.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)}}],Ra=s.lg.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(Wa);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){let e=Date.now();if(e<this.lintTime-10)setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Wa);Promise.all(t.map((e=>Promise.resolve(e(this.view))))).then((t=>{let i=t.reduce(((e,t)=>e.concat(t)));this.view.state.doc==e.doc&&this.view.dispatch(function(e,t){return{effects:$a(e,[ya.of(t)])}}(this.view.state,i))}),(e=>{(0,s.OO)(this.view.state,e)}))}}update(e){let t=e.state.facet(Wa);(e.docChanged||t!=e.startState.facet(Wa))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Wa=g.r$.define({combine:e=>({sources:e.map((e=>e.source)),delay:e.length?Math.max(...e.map((e=>e.delay))):750}),enables:Ra});function Ca(e){let t=[];if(e)e:for(let{name:i}of e){for(let e=0;e<i.length;e++){let n=i[e];if(/[a-zA-Z]/.test(n)&&!t.some((e=>e.toLowerCase()==n.toLowerCase()))){t.push(n);continue e}}t.push("")}return t}function Xa(e,t,i){var n;let s=i?Ca(t.actions):[];return go("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},go("span",{class:"cm-diagnosticText"},t.message),null===(n=t.actions)||void 0===n?void 0:n.map(((i,n)=>{let o=n=>{n.preventDefault();let s=Qa(e.state.field(ba).diagnostics,t);s&&i.apply(e,s.from,s.to)},{name:r}=i,a=s[n]?r.indexOf(s[n]):-1,l=a<0?r:[r.slice(0,a),go("u",r.slice(a,a+1)),r.slice(a+1)];return go("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${r}${a<0?"":` (access key "${s[n]})"`}.`},l)})),t.source&&go("div",{class:"cm-diagnosticSource"},t.source))}class Za extends o.l9{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return go("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Ia{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Xa(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ja{constructor(e){this.view=e,this.items=[];this.list=go("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)_a(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:i}=this.items[this.selectedIndex],n=Ca(i.actions);for(let s=0;s<n.length;s++)if(n[s].toUpperCase().charCodeAt(0)==t.keyCode){let t=Qa(this.view.state.field(ba).diagnostics,i);t&&i.actions[s].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=go("div",{class:"cm-panel-lint"},this.list,go("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>_a(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(ba).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ba),i=0,n=!1,s=null;for(e.between(0,this.view.state.doc.length,((e,o,{spec:r})=>{let a,l=-1;for(let e=i;e<this.items.length;e++)if(this.items[e].diagnostic==r.diagnostic){l=e;break}l<0?(a=new Ia(this.view,r.diagnostic),this.items.splice(i,0,a),n=!0):(a=this.items[l],l>i&&(this.items.splice(i,l-i),n=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),s=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new Ia(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{e.top<t.top?this.list.scrollTop-=t.top-e.top:e.bottom>t.bottom&&(this.list.scrollTop+=e.bottom-t.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=Qa(this.view.state.field(ba).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:wa.of(t)})}static open(e){return new ja(e)}}function Aa(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function Ua(e){return Aa(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Ea=n.t.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ua("#d11")},".cm-lintRange-warning":{backgroundImage:Ua("orange")},".cm-lintRange-info":{backgroundImage:Ua("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class za extends Qe{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce(((e,t)=>{let i=t.severity;return"error"==i||"warning"==i&&"info"==e?i:e}),"info")}toDOM(e){let t=document.createElement("div");return t.className="cm-lint-marker cm-lint-marker-"+this.severity,t.onmouseover=()=>function(e,t,i){function n(){let n=e.elementAtHeight(t.getBoundingClientRect().top+5-e.documentTop);e.coordsAtPos(n.from)&&e.dispatch({effects:La.of({pos:n.from,above:!1,create:()=>({dom:ka(e,i),getCoords:()=>t.getBoundingClientRect()})})}),t.onmouseout=t.onmousemove=null,function(e,t){let i=n=>{let s=t.getBoundingClientRect();if(!(n.clientX>s.left-10&&n.clientX<s.right+10&&n.clientY>s.top-10&&n.clientY<s.bottom+10)){for(let e=n.target;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",i),e.state.field(Ma)&&e.dispatch({effects:La.of(null)})}};window.addEventListener("mousemove",i)}(e,t)}let{hoverTime:s}=e.state.facet(Ga),o=setTimeout(n,s);t.onmouseout=()=>{clearTimeout(o),t.onmouseout=t.onmousemove=null},t.onmousemove=()=>{clearTimeout(o),o=setTimeout(n,s)}}(e,t,this.diagnostics),t}}function qa(e,t){let i=Object.create(null);for(let n of t){let t=e.lineAt(n.from);(i[t.from]||(i[t.from]=[])).push(n)}let n=[];for(let e in i)n.push(new za(i[e]).range(+e));return g.Xs.of(n,!0)}xe({class:"cm-gutter-lint",markers:e=>e.state.field(Ya)});const Ya=g.QQ.define({create:()=>g.Xs.empty,update(e,t){e=e.map(t.changes);for(let i of t.effects)i.is(ya)&&(e=qa(t.state.doc,i.value));return e}}),La=g.Py.define(),Ma=g.QQ.define({create:()=>null,update:(e,t)=>(e&&t.docChanged&&(e=va(t,e)?null:Object.assign(Object.assign({},e),{pos:t.changes.mapPos(e.pos)})),t.effects.reduce(((e,t)=>t.is(La)?t.value:e),e)),provide:e=>he.from(e)}),Ga=(n.t.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Aa('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Aa('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:Aa('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),g.r$.define({combine:e=>(0,g.BO)(e,{hoverTime:300})}));const Da=[function(e={}){return[Ce.of(e),be(),Ie]}(),Ue,function(e={}){return[D.of(e),N||(N=s.lg.fromClass(class{constructor(e){this.view=e,this.decorations=o.p.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(D)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new q({regexp:e.specialChars,decoration:(t,i,n)=>{let{doc:s}=i.state,r=(0,g.gm)(t[0],0);if(9==r){let e=s.lineAt(n),t=i.state.tabSize,r=(0,g.IS)(e.text,t,n-e.from);return o.p.replace({widget:new B((t-r%t)*this.view.defaultCharacterWidth)})}return this.decorationCache[r]||(this.decorationCache[r]=o.p.replace({widget:new V(e,r)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(D);e.startState.facet(D)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}(),function(e={}){return[Xn,Cn.of(e),n.t.domEventHandlers({beforeinput(e,t){let i="historyUndo"==e.inputType?In:"historyRedo"==e.inputType?jn:null;return!!i&&(e.preventDefault(),i(t))}})]}(),function(e={}){let t=Object.assign(Object.assign({},ci),e),i=new hi(t,!0),n=new hi(t,!1),o=s.lg.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(Pt)!=e.state.facet(Pt)||e.startState.field(Kt,!1)!=e.state.field(Kt,!1)||$t(e.startState)!=$t(e.state))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new g.f_;for(let s of e.viewportLineBlocks){let o=ei(e.state,s.from,s.to)?n:Vt(e.state,s.from,s.to)?i:null;o&&t.add(s.from,s.from,o)}return t.finish()}}),{domEventHandlers:r}=t;return[o,xe({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||g.Xs.empty},initialSpacer:()=>new hi(t,!1),domEventHandlers:Object.assign(Object.assign({},r),{click:(e,t,i)=>{if(r.click&&r.click(e,t,i))return!0;let n=ei(e.state,t.from,t.to);if(n)return e.dispatch({effects:Ft.of(n)}),!0;let s=Vt(e.state,t.from,t.to);return!!s&&(e.dispatch({effects:Ht.of(s)}),!0)}})}),ai()]}(),function(e={}){return[_.of(e),R,C]}(),[U,E],g.yy.allowMultipleSelections.of(!0),g.yy.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let i=e.newDoc,{head:n}=e.newSelection.main,s=i.lineAt(n);if(n>s.from+200)return e;let o=i.sliceString(s.from,n);if(!t.some((e=>e.test(o))))return e;let{state:r}=e,a=-1,l=[];for(let{head:e}of r.selection.ranges){let t=r.doc.lineAt(e);if(t.from==a)continue;a=t.from;let i=It(r,t.from);if(null==i)continue;let n=/^\s*/.exec(t.text)[0],s=Zt(r,i);n!=s&&l.push({from:t.from,to:t.from+n.length,insert:s})}return l.length?[e,{changes:l,sequential:!0}]:e})),function(e,t){let i,s=[Gi];return e instanceof qi&&(e.module&&s.push(n.t.styleModule.of(e.module)),i=e.themeType),(null==t?void 0:t.fallback)?s.push(Li.of(e)):i?s.push(Yi.computeN([n.t.darkTheme],(t=>t.facet(n.t.darkTheme)==("dark"==i)?[e]:[]))):s.push(Yi.of(e)),s}(Di,{fallback:!0}),function(e={}){return[Bi.of(e),en]}(),[ra,ta],function(e={}){return[Pr,Or.of(e),Cr,pa,Xr]}(),function(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return n.t.mouseSelectionStyle.of(((e,i)=>t(i)?ee(e,i):null))}(),function(e={}){let[t,i]=te[e.key||"Alt"],o=s.lg.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventHandlers:{keydown(e){this.set(e.keyCode==t||i(e))},keyup(e){e.keyCode!=t&&i(e)||this.set(!1)}}});return[o,n.t.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.isDown)?ie:null}))]}(),F,function(e){let t=[co,lo];return e&&t.push(so.of(e)),t}(),x.of([...aa,...eo,...No,...Hn,...si,...fa,...Pa])];class Na{constructor(e,t,i,n,s,o,r,a,l,c=0,h){this.p=e,this.stack=t,this.state=i,this.reducePos=n,this.pos=s,this.score=o,this.buffer=r,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let n=e.parser.context;return new Na(e,[],t,i,i,0,[],0,n?new Va(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,i=65535&e,{parser:n}=this.p,s=n.dynamicPrecedence(i);if(s&&(this.score+=s),0==t)return this.pushState(n.getGoto(this.state,i,!0),this.reducePos),i<n.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let o=this.stack.length-3*(t-1)-(262144&e?6:0),r=this.stack[o-2],a=this.stack[o-1],l=this.bufferBase+this.buffer.length-a;if(i<n.minRepeatTerm||131072&e){let e=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,r,e,l+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=n.getGoto(e,i,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(i,r)}storeNode(e,t,i,n=4,s=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,n=this.buffer.length;if(0==n&&e.parent&&(n=e.bufferBase-e.parent.bufferBase,e=e.parent),n>0&&0==e.buffer[n-4]&&e.buffer[n-1]>-1){if(t==i)return;if(e.buffer[n-2]>=t)return void(e.buffer[n-2]=i)}}if(s&&this.pos!=i){let s=this.buffer.length;if(s>0&&0!=this.buffer[s-4])for(;s>0&&this.buffer[s-2]>i;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,n>4&&(n-=4);this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=i,this.buffer[s+3]=n}else this.buffer.push(e,t,i,n)}shift(e,t,i){let n=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,i,4)}else this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4)}apply(e,t,i){65536&e?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new Na(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Ba(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&i))return!0;if(0==i)return!1;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let n,s=0;s<t.length;s+=2)(n=t[s+1])!=this.state&&this.p.parser.hasAction(n,e)&&i.push(t[s],n);if(this.stack.length<120)for(let e=0;i.length<8&&e<t.length;e+=2){let n=t[e+1];i.some(((e,t)=>1&t&&e==n))||i.push(t[e],n)}t=i}let i=[];for(let e=0;e<t.length&&i.length<4;e+=2){let n=t[e+1];if(n==this.state)continue;let s=this.split();s.pushState(n,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[e],this.pos),s.score-=200,i.push(s)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let i=e>>19,n=65535&e,s=this.stack.length-3*i;if(s<0||t.getGoto(this.stack[s],n,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Va(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Va{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class Ba{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,i=e>>19;0==i?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(i-1);let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class Ha{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Ha(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Ha(this.stack,this.pos,this.index)}}class Fa{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Ja=new Fa;class Ka{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Ja,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let e=this.ranges[--n];s-=i.from-e.to,i=e}for(;t<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let e=this.ranges[++n];s+=e.from-i.to,i=e}return s}peek(e){let t,i,n=this.chunkOff+e;if(n>=0&&n<this.chunk.length)t=this.pos+e,i=this.chunk.charCodeAt(n);else{let n=this.resolveOffset(e,1);if(null==n)return-1;if(t=n,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,n=this.range;for(;n.to<=t;)n=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>n.to&&(this.chunk2=this.chunk2.slice(0,n.to-t)),i=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),i}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(null==i||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Ja,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return i}}class el{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,i,n){let s=0,o=1<<n,{parser:r}=i.p,{dialect:a}=r;e:for(;0!=(o&e[s]);){let i=e[s+1];for(let n=s+3;n<i;n+=2)if((e[n+1]&o)>0){let i=e[n];if(a.allows(i)&&(-1==t.token.value||t.token.value==i||r.overrides(i,t.token.value))){t.acceptToken(i);break}}for(let n=t.next,o=0,r=e[s+2];o<r;){let a=o+r>>1,l=i+a+(a<<1),c=e[l],h=e[l+1];if(n<c)r=a;else{if(!(n>=h)){s=e[l+2],t.advance();continue e}o=a+1}}break}}(this.data,e,t,this.id)}}el.prototype.contextual=el.prototype.fallback=el.prototype.extend=!1;class tl{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function il(e,t=Uint16Array){if("string"!=typeof e)return e;let i=null;for(let n=0,s=0;n<e.length;){let o=0;for(;;){let t=e.charCodeAt(n++),i=!1;if(126==t){o=65535;break}t>=92&&t--,t>=34&&t--;let s=t-32;if(s>=46&&(s-=46,i=!0),o+=s,i)break;o*=46}i?i[s++]=o:i=new t(o)}return i}const nl="undefined"!=typeof process&&/\bparse\b/.test(process.env.LOG);let sl=null;function ol(e,t,i){let n=e.cursor(Ve.IncludeAnonymous);for(n.moveTo(t);;)if(!(i<0?n.childBefore(t):n.childAfter(t)))for(;;){if((i<0?n.to<t:n.from>t)&&!n.type.isError)return i<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(e.length,Math.max(n.from+1,t+25));if(i<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return i<0?0:e.length}}class rl{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?ol(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?ol(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],o=this.start[t]+i.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof Be){if(o==e){if(o<this.safeFrom)return null;let e=o+s.length;if(e<=this.safeTo){let t=s.prop(Ye.lookAhead);if(!t||e+t<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class al{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new Fa))}getActions(e){let t=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,o=n.stateSlot(e.state,3),r=e.curContext?e.curContext.hash:0,a=0;for(let n=0;n<s.length;n++){if(0==(1<<n&o))continue;let l=s[n],c=this.tokens[n];if((!i||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=o||c.context!=r)&&(this.updateCachedToken(c,l,e),c.mask=o,c.context=r),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let n=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(i=c,t>n))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),i||e.pos!=this.stream.end||(i=new Fa,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Fa,{pos:i,p:n}=e;return t.start=i,t.end=Math.min(i+1,n.stream.end),t.value=i==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,i){if(t.token(this.stream.reset(i.pos,e),i),e.value>-1){let{parser:t}=i.p;for(let n=0;n<t.specialized.length;n++)if(t.specialized[n]==e.value){let s=t.specializers[n](this.stream.read(e.start,e.end),i);if(s>=0&&i.p.parser.dialect.allows(s>>1)){0==(1&s)?e.value=s>>1:e.extended=s>>1;break}}}else e.value=0,e.end=Math.min(i.p.stream.end,i.pos+1)}putAction(e,t,i,n){for(let t=0;t<n;t+=3)if(this.actions[t]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=i,n}addActions(e,t,i,n){let{state:s}=e,{parser:o}=e.p,{data:r}=o;for(let e=0;e<2;e++)for(let a=o.stateSlot(s,e?2:1);;a+=3){if(65535==r[a]){if(1!=r[a+1]){0==n&&2==r[a+1]&&(n=this.putAction(ul(r,a+2),t,i,n));break}a=ul(r,a+2)}r[a]==t&&(n=this.putAction(ul(r,a+1),t,i,n))}return n}}class ll{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new Ka(t,n),this.tokens=new al(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[Na.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>4*e.bufferLength?new rl(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,i=this.stacks,n=this.minStackPos,s=this.stacks=[];for(let o=0;o<i.length;o++){let r=i[o];for(;;){if(this.tokens.mainToken=null,r.pos>n)s.push(r);else{if(this.advanceStack(r,s,i))continue;{e||(e=[],t=[]),e.push(r);let i=this.tokens.getMainToken(r);t.push(i.value,i.end)}}break}}if(!s.length){let t=e&&function(e){let t=null;for(let i of e){let e=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=e&&i.pos>e)&&i.p.parser.stateFlag(i.state,2)&&(!t||t.score<i.score)&&(t=i)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw nl&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&e){let i=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,s);if(i)return this.stackToTree(i.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(s.length>e)for(s.sort(((e,t)=>t.score-e.score));s.length>e;)s.pop();s.some((e=>e.reducePos>n))&&this.recovering--}else if(s.length>1)e:for(let e=0;e<s.length-1;e++){let t=s[e];for(let i=e+1;i<s.length;i++){let n=s[i];if(t.sameState(n)||t.buffer.length>500&&n.buffer.length>500){if(!((t.score-n.score||t.buffer.length-n.buffer.length)>0)){s.splice(e--,1);continue e}s.splice(i--,1)}}}this.minStackPos=s[0].pos;for(let e=1;e<s.length;e++)s[e].pos<this.minStackPos&&(this.minStackPos=s[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,o=nl?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,i=t?e.curContext.hash:0;for(let r=this.fragments.nodeAt(n);r;){let n=this.parser.nodeSet.types[r.type.id]==r.type?s.getGoto(e.state,r.type.id):-1;if(n>-1&&r.length&&(!t||(r.prop(Ye.contextHash)||0)==i))return e.useNode(r,n),nl&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(r.type.id)})`),!0;if(!(r instanceof Be)||0==r.children.length||r.positions[0]>0)break;let a=r.children[0];if(!(a instanceof Be&&0==r.positions[0]))break;r=a}}let r=s.stateSlot(e.state,4);if(r>0)return e.reduce(r),nl&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(65535&r)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let r=0;r<a.length;){let l=a[r++],c=a[r++],h=a[r++],d=r==a.length||!i,O=d?e:e.split();if(O.apply(l,c,h),nl&&console.log(o+this.stackID(O)+` (via ${0==(65536&l)?"shift":`reduce of ${s.getName(65535&l)}`} for ${s.getName(c)} @ ${n}${O==e?"":", split"})`),d)return!0;O.pos>n?t.push(O):i.push(O)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return cl(e,t),!0}}runRecovery(e,t,i){let n=null,s=!1;for(let o=0;o<e.length;o++){let r=e[o],a=t[o<<1],l=t[1+(o<<1)],c=nl?this.stackID(r)+" -> ":"";if(r.deadEnd){if(s)continue;if(s=!0,r.restart(),nl&&console.log(c+this.stackID(r)+" (restarted)"),this.advanceFully(r,i))continue}let h=r.split(),d=c;for(let e=0;h.forceReduce()&&e<10;e++){if(nl&&console.log(d+this.stackID(h)+" (via force-reduce)"),this.advanceFully(h,i))break;nl&&(d=this.stackID(h)+" -> ")}for(let e of r.recoverByInsert(a))nl&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,i);this.stream.end>r.pos?(l==r.pos&&(l++,a=0),r.recoverByDelete(a,l),nl&&console.log(c+this.stackID(r)+` (via recover-delete ${this.parser.getName(a)})`),cl(r,i)):(!n||n.score<r.score)&&(n=r)}return n}stackToTree(e){return e.close(),Be.build({buffer:Ha.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(sl||(sl=new WeakMap)).get(e);return t||sl.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function cl(e,t){for(let i=0;i<t.length;i++){let n=t[i];if(n.pos==e.pos&&n.sameState(e))return void(t[i].score<e.score&&(t[i]=e))}t.push(e)}class hl{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||0==this.disabled[e]}}const dl=e=>e;class Ol extends Ot{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let i=0;i<e.repeatNodeCount;i++)t.push("");let i=Object.keys(e.topRules).map((t=>e.topRules[t][1])),n=[];for(let e=0;e<t.length;e++)n.push([]);function s(e,t,i){n[e].push([t,t.deserialize(String(i))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=Ye[e]);for(let i=1;i<t.length;){let n=t[i++];if(n>=0)s(n,e,t[i++]);else{let o=t[i+-n];for(let r=-n;r>0;r--)s(t[i++],e,o);i++}}}this.nodeSet=new Ge(t.map(((t,s)=>Me.define({name:s>=this.minRepeatTerm?void 0:t,id:s,props:n[s],top:i.indexOf(s)>-1,error:0==s,skipped:e.skippedNodes&&e.skippedNodes.indexOf(s)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Ee;let o=il(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=il(e.states,Uint32Array),this.data=il(e.stateData),this.goto=il(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new el(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let n=new ll(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}getGoto(e,t,i=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let t=n[s++],o=1&t,r=n[s++];if(o&&i)return r;for(let i=s+(t>>1);s<i;s++)if(n[s]==e)return r;if(o)return-1}}hasAction(e,t){let i=this.data;for(let n=0;n<2;n++)for(let s,o=this.stateSlot(e,n?2:1);;o+=3){if(65535==(s=i[o])){if(1!=i[o+1]){if(2==i[o+1])return ul(i,o+2);break}s=i[o=ul(i,o+2)]}if(s==t||0==s)return ul(i,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])return!1;i=ul(this.data,i+2)}if(t==ul(this.data,i+1))return!0}}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=ul(this.data,i+2)}if(0==(1&this.data[i+2])){let e=this.data[i+1];t.some(((t,i)=>1&i&&t==e))||t.push(this.data[i],e)}}return t}overrides(e,t){let i=fl(this.data,this.tokenPrecTable,t);return i<0||fl(this.data,this.tokenPrecTable,e)<i}configure(e){let t=Object.assign(Object.create(Ol.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let i=e.tokenizers.find((e=>e.from==t));return i?i.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map((()=>!1));if(e)for(let n of e.split(" ")){let e=t.indexOf(n);e>=0&&(i[e]=!0)}let n=null;for(let e=0;e<t.length;e++)if(!i[e])for(let i,s=this.dialects[t[e]];65535!=(i=this.data[s++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[i]=1;return new hl(e,i,n)}static deserialize(e){return new Ol(e)}}function ul(e,t){return e[t]|e[t+1]<<16}function fl(e,t,i){for(let n,s=t;65535!=(n=e[s]);s++)if(n==i)return s-t;return-1}const pl=282,ml=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],gl=new class{constructor(e){this.start=e.start,this.shift=e.shift||dl,this.reduce=e.reduce||dl,this.reuse=e.reuse||dl,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:!1,shift:(e,t)=>5==t||6==t||286==t?e:287==t,strict:!1}),Ql=new tl(((e,t)=>{let{next:i}=e;(125==i||-1==i||t.context)&&t.canShift(284)&&e.acceptToken(284)}),{contextual:!0,fallback:!0}),vl=new tl(((e,t)=>{let i,{next:n}=e;ml.indexOf(n)>-1||(47!=n||47!=(i=e.peek(1))&&42!=i)&&125!=n&&59!=n&&-1!=n&&!t.context&&t.canShift(281)&&e.acceptToken(281)}),{contextual:!0}),$l=new tl(((e,t)=>{let{next:i}=e;if((43==i||45==i)&&(e.advance(),i==e.next)){e.advance();let i=!t.context&&t.canShift(1);e.acceptToken(i?1:2)}}),{contextual:!0}),yl=new tl((e=>{for(let t=!1,i=0;;i++){let{next:n}=e;if(n<0){i&&e.acceptToken(pl);break}if(96==n){i?e.acceptToken(pl):e.acceptToken(283,1);break}if(123==n&&t){1==i?e.acceptToken(3,1):e.acceptToken(pl,-1);break}if(10==n&&i){e.advance(),e.acceptToken(pl);break}92==n&&e.advance(),t=36==n,e.advance()}}));const xl=gi({"get set async static":Ei.modifier,"for while do if else switch try catch finally return throw break continue default case":Ei.controlKeyword,"in of await yield void typeof delete instanceof":Ei.operatorKeyword,"let var const function class extends":Ei.definitionKeyword,"import export from":Ei.moduleKeyword,"with debugger as new":Ei.keyword,TemplateString:Ei.special(Ei.string),Super:Ei.atom,BooleanLiteral:Ei.bool,this:Ei.self,null:Ei.null,Star:Ei.modifier,VariableName:Ei.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Ei.function(Ei.variableName),VariableDefinition:Ei.definition(Ei.variableName),Label:Ei.labelName,PropertyName:Ei.propertyName,PrivatePropertyName:Ei.special(Ei.propertyName),"CallExpression/MemberExpression/PropertyName":Ei.function(Ei.propertyName),"FunctionDeclaration/VariableDefinition":Ei.function(Ei.definition(Ei.variableName)),"ClassDeclaration/VariableDefinition":Ei.definition(Ei.className),PropertyDefinition:Ei.definition(Ei.propertyName),PrivatePropertyDefinition:Ei.definition(Ei.special(Ei.propertyName)),UpdateOp:Ei.updateOperator,LineComment:Ei.lineComment,BlockComment:Ei.blockComment,Number:Ei.number,String:Ei.string,ArithOp:Ei.arithmeticOperator,LogicOp:Ei.logicOperator,BitOp:Ei.bitwiseOperator,CompareOp:Ei.compareOperator,RegExp:Ei.regexp,Equals:Ei.definitionOperator,"Arrow : Spread":Ei.punctuation,"( )":Ei.paren,"[ ]":Ei.squareBracket,"{ }":Ei.brace,"InterpolationStart InterpolationEnd":Ei.special(Ei.brace),".":Ei.derefOperator,", ;":Ei.separator,TypeName:Ei.typeName,TypeDefinition:Ei.definition(Ei.typeName),"type enum interface implements namespace module declare":Ei.definitionKeyword,"abstract global Privacy readonly override":Ei.modifier,"is keyof unique infer":Ei.operatorKeyword,JSXAttributeValue:Ei.attributeValue,JSXText:Ei.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Ei.angleBracket,"JSXIdentifier JSXNameSpacedName":Ei.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Ei.attributeName}),wl={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},bl={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},Sl={__proto__:null,"<":129},Tl=Ol.deserialize({version:14,states:"$4|O`QYOOO'QQ$IfO'#ChO'XOSO'#DVO)dQYO'#D]O)tQYO'#DhO){QYO'#DrO-xQYO'#DxOOQO'#E]'#E]O.]QWO'#E[O.bQWO'#E[OOQ$IU'#Ef'#EfO0aQ$IfO'#ItO2wQ$IfO'#IuO3eQWO'#EzO3jQpO'#FaOOQ$IU'#FS'#FSO3rO!bO'#FSO4QQWO'#FhO5_QWO'#FgOOQ$IU'#Iu'#IuOOQ$IS'#It'#ItOOQQ'#J^'#J^O5dQWO'#HpO5iQ$I[O'#HqOOQQ'#Ih'#IhOOQQ'#Hr'#HrQ`QYOOO){QYO'#DjO5qQWO'#G[O5vQ#tO'#CmO6UQWO'#EZO6aQWO'#EgO6fQ#tO'#FRO7QQWO'#G[O7VQWO'#G`O7bQWO'#G`O7pQWO'#GcO7pQWO'#GdO7pQWO'#GfO5qQWO'#GiO8aQWO'#GlO9oQWO'#CdO:PQWO'#GyO:XQWO'#HPO:XQWO'#HRO`QYO'#HTO:XQWO'#HVO:XQWO'#HYO:^QWO'#H`O:cQ$I]O'#HfO){QYO'#HhO:nQ$I]O'#HjO:yQ$I]O'#HlO5iQ$I[O'#HnO){QYO'#DWOOOS'#Ht'#HtO;UOSO,59qOOQ$IU,59q,59qO=gQbO'#ChO=qQYO'#HuO>UQWO'#IvO@TQbO'#IvO'dQYO'#IvO@[QWO,59wO@rQ&jO'#DbOAkQWO'#E]OAxQWO'#JROBTQWO'#JQOBTQWO'#JQOB]QWO,5:yOBbQWO'#JPOBiQWO'#DyO5vQ#tO'#EZOBwQWO'#EZOCSQ`O'#FROOQ$IU,5:S,5:SOC[QYO,5:SOEYQ$IfO,5:^OEvQWO,5:dOFaQ$I[O'#JOO7VQWO'#I}OFhQWO'#I}OFpQWO,5:xOFuQWO'#I}OGTQYO,5:vOITQWO'#EWOJ_QWO,5:vOKnQWO'#DlOKuQYO'#DqOLPQ&jO,5;PO){QYO,5;POOQQ'#Er'#ErOOQQ'#Et'#EtO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;ROOQQ'#Ex'#ExOLXQYO,5;cOOQ$IU,5;h,5;hOOQ$IU,5;i,5;iONXQWO,5;iOOQ$IU,5;j,5;jO){QYO'#IPON^Q$I[O,5<TONxQWO,5;RO){QYO,5;fO! bQpO'#JVO! PQpO'#JVO! iQpO'#JVO! zQpO,5;qOOOO,5;{,5;{O!!YQYO'#FcOOOO'#IO'#IOO3rO!bO,5;nO!!aQpO'#FeOOQ$IU,5;n,5;nO!!}Q,UO'#CrOOQ$IU'#Cu'#CuO!#bQWO'#CuO!#gOSO'#CyO!$TQ#tO,5<QO!$[QWO,5<SO!%hQWO'#FrO!%uQWO'#FsO!%zQWO'#FwO!&yQ&jO'#F{O!'lQ,UO'#IqOOQ$IU'#Iq'#IqO!'vQWO'#IpO!(UQWO'#IoOOQ$IU'#Cs'#CsOOQ$IU'#C|'#C|O!(^QWO'#DOOJdQWO'#FjOJdQWO'#FlO!(cQWO'#FnO!(hQWO'#FoO!(mQWO'#FuOJdQWO'#FzO!(rQWO'#E^O!)ZQWO,5<RO`QYO,5>[OOQQ'#Ik'#IkOOQQ,5>],5>]OOQQ-E;p-E;pO!+VQ$IfO,5:UOOQ$IS'#Cp'#CpO!+vQ#tO,5<vOOQO'#Cf'#CfO!,XQWO'#CqO!,aQ$I[O'#IlO5_QWO'#IlO:^QWO,59XO!,rQpO,59XO!,zQ#tO,59XO5vQ#tO,59XO!-VQWO,5:vO!-_QWO'#GxO!-mQWO'#JbO){QYO,5;kO!-uQ&jO,5;mO!-zQWO,5=cO!.PQWO,5=cO!.UQWO,5=cO5iQ$I[O,5=cO5qQWO,5<vO!.dQWO'#E_O!.xQ&jO'#E`OOQ$IS'#JP'#JPO!/ZQ$I[O'#J_O5iQ$I[O,5<zO7pQWO,5=QOOQO'#Cr'#CrO!/fQpO,5<}O!/nQ#tO,5=OO!/yQWO,5=QO!0OQ`O,5=TO:^QWO'#GnO5qQWO'#GpO!0WQWO'#GpO5vQ#tO'#GsO!0]QWO'#GsOOQQ,5=W,5=WO!0bQWO'#GtO!0jQWO'#CmO!0oQWO,59OO!0yQWO,59OO!2{QYO,59OOOQQ,59O,59OO!3YQ$I[O,59OO){QYO,59OO!3eQYO'#G{OOQQ'#G|'#G|OOQQ'#G}'#G}O`QYO,5=eO!3uQWO,5=eO){QYO'#DxO`QYO,5=kO`QYO,5=mO!3zQWO,5=oO`QYO,5=qO!4PQWO,5=tO!4UQYO,5=zOOQQ,5>Q,5>QO){QYO,5>QO5iQ$I[O,5>SOOQQ,5>U,5>UO!8VQWO,5>UOOQQ,5>W,5>WO!8VQWO,5>WOOQQ,5>Y,5>YO!8[Q`O,59rOOOS-E;r-E;rOOQ$IU1G/]1G/]O!8aQbO,5>aO'dQYO,5>aOOQO,5>f,5>fO!8kQYO'#HuOOQO-E;s-E;sO!8xQWO,5?bO!9QQbO,5?bO!9XQWO,5?lOOQ$IU1G/c1G/cO!9aQpO'#DTOOQO'#Ix'#IxO){QYO'#IxO!:OQpO'#IxO!:mQpO'#DcO!;OQ&jO'#DcO!=ZQYO'#DcO!=bQWO'#IwO!=jQWO,59|O!=oQWO'#EaO!=}QWO'#JSO!>VQWO,5:zO!>mQ&jO'#DcO){QYO,5?mO!>wQWO'#HzOOQO-E;x-E;xO!9XQWO,5?lOOQ$IS1G0e1G0eO!@TQ&jO'#D|OOQ$IU,5:e,5:eO){QYO,5:eOITQWO,5:eO!@[QWO,5:eO:^QWO,5:uO!,rQpO,5:uO!,zQ#tO,5:uO5vQ#tO,5:uOOQ$IU1G/n1G/nOOQ$IU1G0O1G0OOOQ$IS'#EV'#EVO){QYO,5?jO!@gQ$I[O,5?jO!@xQ$I[O,5?jO!APQWO,5?iO!AXQWO'#H|O!APQWO,5?iOOQ$IS1G0d1G0dO7VQWO,5?iOOQ$IU1G0b1G0bO!AsQ$IfO1G0bO!BdQ$IdO,5:rOOQ$IU'#Fq'#FqO!CQQ$IfO'#IqOGTQYO1G0bO!EPQ#tO'#IyO!EZQWO,5:WO!E`QbO'#IzO){QYO'#IzO!EjQWO,5:]OOQ$IU'#DT'#DTOOQ$IU1G0k1G0kO!EoQWO1G0kO!HQQ$IfO1G0mO!HXQ$IfO1G0mO!JlQ$IfO1G0mO!JsQ$IfO1G0mO!LzQ$IfO1G0mO!M_Q$IfO1G0mO#!OQ$IfO1G0mO#!VQ$IfO1G0mO#$jQ$IfO1G0mO#$qQ$IfO1G0mO#&fQ$IfO1G0mO#)`Q7^O'#ChO#+ZQ7^O1G0}O#-UQ7^O'#IuOOQ$IU1G1T1G1TO#-iQ$IfO,5>kOOQ$IS-E;}-E;}O#.YQ$IfO1G0mOOQ$IU1G0m1G0mO#0[Q$IfO1G1QO#0{QpO,5;sO#1QQpO,5;tO#1VQpO'#F[O#1kQWO'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#1pQpO1G1]OOQ$IU1G1]1G1]OOOO1G1f1G1fO#2OQ7^O'#ItO#2YQWO,5;}OLXQYO,5;}OOOO-E;|-E;|OOQ$IU1G1Y1G1YOOQ$IU,5<P,5<PO#2_QpO,5<POOQ$IU,59a,59aOITQWO'#C{OOOS'#Hs'#HsO#2dOSO,59eOOQ$IU,59e,59eO){QYO1G1lO!(hQWO'#IRO#2oQWO,5<eOOQ$IU,5<b,5<bOOQO'#GV'#GVOJdQWO,5<pOOQO'#GX'#GXOJdQWO,5<rOJdQWO,5<tOOQO1G1n1G1nO#2zQ`O'#CpO#3_Q`O,5<^O#3fQWO'#JZO5qQWO'#JZO#3tQWO,5<`OJdQWO,5<_O#3yQ`O'#FqO#4WQ`O'#J[O#4bQWO'#J[OITQWO'#J[O#4gQWO,5<cOOQ$IS'#Dg'#DgO#4lQWO'#FtO#4wQpO'#F|O!&tQ&jO'#F|O!&tQ&jO'#GOO#5YQWO'#GPO!(mQWO'#GSO#5_Q$I[O'#ITO#5jQ&jO,5<gOOQ$IU,5<g,5<gO#5qQ&jO'#F|O#6PQ&jO'#F}O#6XQ&jO'#F}OOQ$IU,5<u,5<uOJdQWO,5?[OJdQWO,5?[O#6^QWO'#IUO#6iQWO,5?ZOOQ$IU'#Ch'#ChO#7]Q#tO,59jOOQ$IU,59j,59jO#8OQ#tO,5<UO#8qQ#tO,5<WO#8{QWO,5<YOOQ$IU,5<Z,5<ZO#9QQWO,5<aO#9VQ#tO,5<fOGTQYO1G1mO#9gQWO1G1mOOQQ1G3v1G3vOOQ$IU1G/p1G/pONXQWO1G/pOOQQ1G2b1G2bOITQWO1G2bO){QYO1G2bOITQWO1G2bO#9lQWO1G2bO#9zQWO,59]O#;TQWO'#EWOOQ$IS,5?W,5?WO#;_Q$I[O,5?WOOQQ1G.s1G.sO:^QWO1G.sO!,rQpO1G.sO!,zQ#tO1G.sO#;pQWO1G0bO#;uQWO'#ChO#<QQWO'#JcO#<YQWO,5=dO#<_QWO'#JcO#<dQWO'#JcO#<lQWO'#I^O#<zQWO,5?|O#=SQbO1G1VOOQ$IU1G1X1G1XO5qQWO1G2}O#=ZQWO1G2}O#=`QWO1G2}O#=eQWO1G2}OOQQ1G2}1G2}O#=jQ#tO1G2bO7VQWO'#JQO7VQWO'#EaO7VQWO'#IWO#={Q$I[O,5?yOOQQ1G2f1G2fO!/yQWO1G2lOITQWO1G2iO#>WQWO1G2iOOQQ1G2j1G2jOITQWO1G2jO#>]QWO1G2jO#>eQ&jO'#GhOOQQ1G2l1G2lO!&tQ&jO'#IYO!0OQ`O1G2oOOQQ1G2o1G2oOOQQ,5=Y,5=YO#>mQ#tO,5=[O5qQWO,5=[O#5YQWO,5=_O5_QWO,5=_O!,rQpO,5=_O!,zQ#tO,5=_O5vQ#tO,5=_O#?OQWO'#JaO#?ZQWO,5=`OOQQ1G.j1G.jO#?`Q$I[O1G.jO#?kQWO1G.jO#?pQWO1G.jO5iQ$I[O1G.jO#?xQbO,5@OO#@SQWO,5@OO#@_QYO,5=gO#@fQWO,5=gO7VQWO,5@OOOQQ1G3P1G3PO`QYO1G3POOQQ1G3V1G3VOOQQ1G3X1G3XO:XQWO1G3ZO#@kQYO1G3]O#DfQYO'#H[OOQQ1G3`1G3`O#DsQWO'#HbO:^QWO'#HdOOQQ1G3f1G3fO#D{QYO1G3fO5iQ$I[O1G3lOOQQ1G3n1G3nOOQ$IS'#Fx'#FxO5iQ$I[O1G3pO5iQ$I[O1G3rOOOS1G/^1G/^O#HyQ`O,5<TO#IRQbO1G3{OOQO1G4Q1G4QO){QYO,5>aO#I]QWO1G4|O#IeQWO1G5WO#ImQWO,5?dOLXQYO,5:{O7VQWO,5:{O:^QWO,59}OLXQYO,59}O!,rQpO,59}O#IrQ7^O,59}OOQO,5:{,5:{O#I|Q&jO'#HvO#JdQWO,5?cOOQ$IU1G/h1G/hO#JlQ&jO'#H{O#KQQWO,5?nOOQ$IS1G0f1G0fO!;OQ&jO,59}O#KYQbO1G5XO7VQWO,5>fOOQ$IS'#ES'#ESO#KdQ$ItO'#ETO!?{Q&jO'#D}OOQO'#Hy'#HyO#LOQ&jO,5:hOOQ$IU,5:h,5:hO#LVQ&jO'#D}O#LhQ&jO'#D}O#LoQ&jO'#EYO#LrQ&jO'#ETO#MPQ&jO'#ETO!?{Q&jO'#ETO#MdQWO1G0PO#MiQ`O1G0POOQ$IU1G0P1G0PO){QYO1G0POITQWO1G0POOQ$IU1G0a1G0aO:^QWO1G0aO!,rQpO1G0aO!,zQ#tO1G0aO#MpQ$IfO1G5UO){QYO1G5UO#NQQ$I[O1G5UO#NcQWO1G5TO7VQWO,5>hOOQO,5>h,5>hO#NkQWO,5>hOOQO-E;z-E;zO#NcQWO1G5TO#NyQ$IfO,59jO$!xQ$IfO,5<UO$$zQ$IfO,5<WO$&|Q$IfO,5<fOOQ$IU7+%|7+%|O$)UQ$IfO7+%|O$)uQWO'#HwO$*PQWO,5?eOOQ$IU1G/r1G/rO$*XQYO'#HxO$*fQWO,5?fO$*nQbO,5?fOOQ$IU1G/w1G/wOOQ$IU7+&V7+&VO$*xQ7^O,5:^O){QYO7+&iO$+SQ7^O,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$+aQMhO,5;vOLXQYO,5;uOOQO-E;{-E;{OOQ$IU7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$+lQWO1G1iOOQ$IU1G1k1G1kO$+qQ`O,59gOOOS-E;q-E;qOOQ$IU1G/P1G/PO$+xQ$IfO7+'WOOQ$IU,5>m,5>mO$,iQWO,5>mOOQ$IU1G2P1G2PP$,nQWO'#IRPOQ$IU-E<P-E<PO$-_Q#tO1G2[O$.QQ#tO1G2^O$.[Q#tO1G2`OOQ$IU1G1x1G1xO$.cQWO'#IQO$.qQWO,5?uO$.qQWO,5?uO$.yQWO,5?uO$/UQWO,5?uOOQO1G1z1G1zO$/dQ#tO1G1yO$/tQWO'#ISO$0UQWO,5?vOITQWO,5?vO$0^Q`O,5?vOOQ$IU1G1}1G1}OOQ$IS,5<h,5<hOOQ$IS,5<i,5<iO$0hQWO,5<iO#5TQWO,5<iO!,rQpO,5<hO$0mQWO,5<jOOQ$IS,5<k,5<kO$0hQWO,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ$IU1G2R1G2RO!&tQ&jO,5<hO$0uQWO,5<iO!&tQ&jO,5<jO!&tQ&jO,5<iO$1QQ#tO1G4vO$1[Q#tO1G4vOOQO,5>p,5>pOOQO-E<S-E<SO!-uQ&jO,59lO){QYO,59lO$1iQWO1G1tOJdQWO1G1{O$1nQ$IfO7+'XOOQ$IU7+'X7+'XOGTQYO7+'XOOQ$IU7+%[7+%[O$2_Q`O'#J]O#MdQWO7+'|O$2iQWO7+'|O$2qQ`O7+'|OOQQ7+'|7+'|OITQWO7+'|O){QYO7+'|OITQWO7+'|OOQO1G.w1G.wO$2{Q$IdO'#ChO$3`Q$IdO,5<lO$4QQWO,5<lOOQ$IS1G4r1G4rOOQQ7+$_7+$_O:^QWO7+$_O!,rQpO7+$_OGTQYO7+%|O$4VQWO'#I]O$4hQWO,5?}OOQO1G3O1G3OO5qQWO,5?}O$4hQWO,5?}O$4pQWO,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ$IU7+&q7+&qO$4uQWO7+(iO5iQ$I[O7+(iO5qQWO7+(iO$4zQWO7+(iO$5PQWO7+'|OOQ$IS,5>r,5>rOOQ$IS-E<U-E<UOOQQ7+(W7+(WO$5_Q$IdO7+(TOITQWO7+(TO$5iQ`O7+(UOOQQ7+(U7+(UOITQWO7+(UO$5pQWO'#J`O$5{QWO,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQQ7+(Z7+(ZO$6uQ&jO'#GqOOQQ1G2v1G2vOITQWO1G2vO){QYO1G2vOITQWO1G2vO$6|QWO1G2vO$7[Q#tO1G2vO5iQ$I[O1G2yO#5YQWO1G2yO5_QWO1G2yO!,rQpO1G2yO!,zQ#tO1G2yO$7mQWO'#I[O$7xQWO,5?{O$8QQ&jO,5?{OOQ$IS1G2z1G2zOOQQ7+$U7+$UO$8YQWO7+$UO5iQ$I[O7+$UO$8_QWO7+$UO){QYO1G5jO){QYO1G5kO$8dQYO1G3RO$8kQWO1G3RO$8pQYO1G3RO$8wQ$I[O1G5jOOQQ7+(k7+(kO5iQ$I[O7+(uO`QYO7+(wOOQQ'#Jf'#JfOOQQ'#I_'#I_O$9RQYO,5=vOOQQ,5=v,5=vO){QYO'#H]O$9`QWO'#H_OOQQ,5=|,5=|O7VQWO,5=|OOQQ,5>O,5>OOOQQ7+)Q7+)QOOQQ7+)W7+)WOOQQ7+)[7+)[OOQQ7+)^7+)^OOQO1G5O1G5OO$9eQ7^O1G0gO$9oQWO1G0gOOQO1G/i1G/iO$9zQ7^O1G/iO:^QWO1G/iOLXQYO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!,rQpO1G/iO:^QWO,5:iOOQO,5:o,5:oO){QYO,5:oO$:UQ$I[O,5:oO$:aQ$I[O,5:oO!,rQpO,5:iOOQO-E;w-E;wOOQ$IU1G0S1G0SO!?{Q&jO,5:iO$:oQ&jO,5:iO$;QQ$ItO,5:oO$;lQ&jO,5:iO!?{Q&jO,5:oOOQO,5:t,5:tO$;sQ&jO,5:oO$<QQ$I[O,5:oOOQ$IU7+%k7+%kO#MdQWO7+%kO#MiQ`O7+%kOOQ$IU7+%{7+%{O:^QWO7+%{O!,rQpO7+%{O$<fQ$IfO7+*pO){QYO7+*pOOQO1G4S1G4SO7VQWO1G4SO$<vQWO7+*oO$=OQ$IfO1G2[O$?QQ$IfO1G2^O$ASQ$IfO1G1yO$C[Q#tO,5>cOOQO-E;u-E;uO$CfQbO,5>dO){QYO,5>dOOQO-E;v-E;vO$CpQWO1G5QO$CxQ7^O1G0bO$FPQ7^O1G0mO$FWQ7^O1G0mO$HXQ7^O1G0mO$H`Q7^O1G0mO$JTQ7^O1G0mO$JhQ7^O1G0mO$LuQ7^O1G0mO$L|Q7^O1G0mO$N}Q7^O1G0mO% UQ7^O1G0mO%!yQ7^O1G0mO%#^Q$IfO<<JTO%#}Q7^O1G0mO%&UQ7^O'#IqO%'nQ7^O1G1QOLXQYO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%'{QWO1G1aO%(QQ7^O,5>kOOOO7+'T7+'TOOOS1G/R1G/ROOQ$IU1G4X1G4XOJdQWO7+'zO%([QWO,5>lO5qQWO,5>lOOQO-E<O-E<OO%(jQWO1G5aO%(jQWO1G5aO%(rQWO1G5aO%(}Q`O,5>nO%)XQWO,5>nOITQWO,5>nOOQO-E<Q-E<QO%)^Q`O1G5bO%)hQWO1G5bOOQ$IS1G2T1G2TO$0hQWO1G2TOOQ$IS1G2S1G2SO%)pQWO1G2UOITQWO1G2UOOQ$IS1G2Y1G2YO!,rQpO1G2SO#5TQWO1G2TO%)uQWO1G2UO%)}QWO1G2TOJdQWO7+*bOOQ$IU1G/W1G/WO%*YQWO1G/WOOQ$IU7+'`7+'`O%*_Q#tO7+'gO%*oQ$IfO<<JsOOQ$IU<<Js<<JsOITQWO'#IVO%+`QWO,5?wOOQQ<<Kh<<KhOITQWO<<KhO#MdQWO<<KhO%+hQWO<<KhO%+pQ`O<<KhOITQWO1G2WOOQQ<<Gy<<GyO:^QWO<<GyO%+zQ$IfO<<IhOOQ$IU<<Ih<<IhOOQO,5>w,5>wO%,kQWO,5>wO%,pQWO,5>wOOQO-E<Z-E<ZO%,xQWO1G5iO%,xQWO1G5iO5qQWO1G5iO%-QQWO<<LTOOQQ<<LT<<LTO%-VQWO<<LTO5iQ$I[O<<LTO){QYO<<KhOITQWO<<KhOOQQ<<Ko<<KoO$5_Q$IdO<<KoOOQQ<<Kp<<KpO$5iQ`O<<KpO%-[Q&jO'#IXO%-gQWO,5?zOLXQYO,5?zOOQQ1G2n1G2nO#KdQ$ItO'#ETO!?{Q&jO'#GrOOQO'#IZ'#IZO%-oQ&jO,5=]OOQQ,5=],5=]O%-vQ&jO'#ETO%.RQ&jO'#ETO%.jQ&jO'#ETO%.tQ&jO'#GrO%/VQWO7+(bO%/[QWO7+(bO%/dQ`O7+(bOOQQ7+(b7+(bOITQWO7+(bO){QYO7+(bOITQWO7+(bO%/nQWO7+(bOOQQ7+(e7+(eO5iQ$I[O7+(eO#5YQWO7+(eO5_QWO7+(eO!,rQpO7+(eO%/|QWO,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%0XQWO1G5gO5iQ$I[O<<GpOOQQ<<Gp<<GpO%0aQWO<<GpO%0fQWO7++UO%0kQWO7++VOOQQ7+(m7+(mO%0pQWO7+(mO%0uQYO7+(mO%0|QWO7+(mO){QYO7++UO){QYO7++VOOQQ<<La<<LaOOQQ<<Lc<<LcOOQQ-E<]-E<]OOQQ1G3b1G3bO%1RQWO,5=wOOQQ,5=y,5=yO%1WQWO1G3hOLXQYO7+&ROOQO7+%T7+%TO%1]Q7^O1G5XO:^QWO7+%TOOQO1G0T1G0TO%1gQ$IfO1G0ZOOQO1G0Z1G0ZO){QYO1G0ZO%1qQ$I[O1G0ZO:^QWO1G0TO!,rQpO1G0TO!?{Q&jO1G0TO%1|Q$I[O1G0ZO%2[Q&jO1G0TO%2mQ$I[O1G0ZO%3RQ$ItO1G0ZO%3]Q&jO1G0TO!?{Q&jO1G0ZOOQ$IU<<IV<<IVOOQ$IU<<Ig<<IgO:^QWO<<IgO%3dQ$IfO<<N[OOQO7+)n7+)nO%3tQ$IfO7+'gO%5|QbO1G4OO%6WQ7^O7+%|O%6|Q7^O,59jO%8zQ7^O,5<UO%:{Q7^O,5<WO%<hQ7^O,5<fO%>WQ7^O7+'WO%>eQ7^O7+'XO%>rQWO,5;xOOQO7+&{7+&{O%>wQ#tO<<KfOOQO1G4W1G4WO%?XQWO1G4WO%?dQWO1G4WO%?rQWO7+*{O%?rQWO7+*{OITQWO1G4YO%?zQ`O1G4YO%@UQWO7+*|OOQ$IS7+'o7+'oO$0hQWO7+'pO%@^Q`O7+'pOOQ$IS7+'n7+'nO$0hQWO7+'oO%@eQWO7+'pOITQWO7+'pO#5TQWO7+'oO%@jQ#tO<<M|OOQ$IU7+$r7+$rO%@tQ`O,5>qOOQO-E<T-E<TO#MdQWOANASOOQQANASANASOITQWOANASO%AOQ$IdO7+'rOOQQAN=eAN=eO5qQWO1G4cOOQO1G4c1G4cO%A`QWO1G4cO%AeQWO7++TO%AeQWO7++TO5iQ$I[OANAoO%AmQWOANAoOOQQANAoANAoO%ArQWOANASO%AzQ`OANASOOQQANAZANAZOOQQANA[ANA[O%BUQWO,5>sOOQO-E<V-E<VO%BaQ7^O1G5fO#5YQWO,5=^O5_QWO,5=^O!,rQpO,5=^OOQO-E<X-E<XOOQQ1G2w1G2wO$;QQ$ItO,5:oO!?{Q&jO,5=^O%BkQ&jO,5=^O%B|Q&jO,5:oOOQQ<<K|<<K|OITQWO<<K|O%/VQWO<<K|O%CWQWO<<K|O%C`Q`O<<K|O){QYO<<K|OITQWO<<K|OOQQ<<LP<<LPO5iQ$I[O<<LPO#5YQWO<<LPO5_QWO<<LPO%CjQ&jO1G4bO%CrQWO7++ROOQQAN=[AN=[O5iQ$I[OAN=[OOQQ<<Np<<NpOOQQ<<Nq<<NqOOQQ<<LX<<LXO%CzQWO<<LXO%DPQYO<<LXO%DWQWO<<NpO%D]QWO<<NqOOQQ1G3c1G3cO:^QWO7+)SO%DbQ7^O<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%1gQ$IfO7+%uO){QYO7+%uOOQO7+%o7+%oO:^QWO7+%oO!,rQpO7+%oO%DlQ$I[O7+%uO!?{Q&jO7+%oO%DwQ$I[O7+%uO%EVQ&jO7+%oO%EhQ$I[O7+%uOOQ$IUAN?RAN?RO%E|Q$IfO<<KfO%HUQ7^O<<JTO%HcQ7^O1G1yO%JgQ7^O1G2[O%LhQ7^O1G2^O%NTQ7^O<<JsO%NbQ7^O<<IhOOQO1G1d1G1dOOQO7+)r7+)rO%NoQWO7+)rO%NzQWO<<NgO& SQ`O7+)tOOQ$IS<<K[<<K[O$0hQWO<<K[OOQ$IS<<KZ<<KZO& ^Q`O<<K[O$0hQWO<<KZOOQQG26nG26nO#MdQWOG26nOOQO7+)}7+)}O5qQWO7+)}O& eQWO<<NoOOQQG27ZG27ZO5iQ$I[OG27ZOITQWOG26nOLXQYO1G4_O& mQWO7++QO5iQ$I[O1G2xO#5YQWO1G2xO5_QWO1G2xO!,rQpO1G2xO!?{Q&jO1G2xO%3RQ$ItO1G0ZO& uQ&jO1G2xO%/VQWOANAhOOQQANAhANAhOITQWOANAhO&!WQWOANAhO&!`Q`OANAhOOQQANAkANAkO5iQ$I[OANAkO#5YQWOANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQQG22vG22vOOQQANAsANAsO&!jQWOANAsOOQQAND[AND[OOQQAND]AND]OOQQ<<Ln<<LnOOQO<<Ia<<IaO%1gQ$IfO<<IaOOQO<<IZ<<IZO:^QWO<<IZO){QYO<<IaO!,rQpO<<IZO&!oQ$I[O<<IaO!?{Q&jO<<IZO&!zQ$I[O<<IaO&#YQ7^O7+'gOOQO<<M^<<M^OOQ$ISAN@vAN@vO$0hQWOAN@vOOQ$ISAN@uAN@uOOQQLD,YLD,YOOQO<<Mi<<MiOOQQLD,uLD,uO#MdQWOLD,YO&$xQ7^O7+)yOOQO7+(d7+(dO5iQ$I[O7+(dO#5YQWO7+(dO5_QWO7+(dO!,rQpO7+(dO!?{Q&jO7+(dOOQQG27SG27SO%/VQWOG27SOITQWOG27SOOQQG27VG27VO5iQ$I[OG27VOOQQG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%1gQ$IfOAN>{O:^QWOAN>uO){QYOAN>{O!,rQpOAN>uO&%SQ$I[OAN>{O&%_Q7^O<<KfOOQ$ISG26bG26bOOQQ!$( t!$( tOOQO<<LO<<LOO5iQ$I[O<<LOO#5YQWO<<LOO5_QWO<<LOO!,rQpO<<LOOOQQLD,nLD,nO%/VQWOLD,nOOQQLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%1gQ$IfOG24gO:^QWOG24aO){QYOG24gO&&}QMhO,5:rO&'tQ!LQO'#IqOOQOANAjANAjO5iQ$I[OANAjO#5YQWOANAjO5_QWOANAjOOQQ!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%1gQ$IfOLD*RO&(hQMhO,59jO&)[QMhO,5<UO&*OQMhO,5<WO&*rQMhO,5<fOOQOG27UG27UO5iQ$I[OG27UO#5YQWOG27UOOQO!$'Mm!$'MmO&+iQMhO1G2[O&,]QMhO1G2^O&-PQMhO1G1yOOQOLD,pLD,pO5iQ$I[OLD,pO&-vQMhO7+'gOOQO!$(![!$(![O&.mQMhO<<KfOLXQYO'#DrO&/dQbO'#ItOLXQYO'#DjO&/kQ$IfO'#ChO&0UQbO'#ChO&0fQYO,5:vO&2fQWO'#EWOLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO'#IPO&3pQWO,5<TO&5SQWO,5;ROLXQYO,5;fO!(^QWO'#DOO!(^QWO'#DOO!(^QWO'#DOOITQWO'#FjO&2fQWO'#FjO&3xQWO'#FjOITQWO'#FlO&2fQWO'#FlO&3xQWO'#FlOITQWO'#FzO&2fQWO'#FzO&3xQWO'#FzOLXQYO,5?mO&0fQYO1G0bO&5ZQ7^O'#ChOLXQYO1G1lOITQWO,5<pO&2fQWO,5<pO&3xQWO,5<pOITQWO,5<rO&2fQWO,5<rO&3xQWO,5<rOITQWO,5<_O&2fQWO,5<_O&3xQWO,5<_O&0fQYO1G1mOLXQYO7+&iOITQWO1G1{O&2fQWO1G1{O&3xQWO1G1{O&0fQYO7+'XO&0fQYO7+%|OITQWO7+'zO&2fQWO7+'zO&3xQWO7+'zO&5eQWO7+'pO&5eQWO<<K[O&5eQWOAN@vO&5jQWO'#E[O&5oQWO'#E[O&5wQWO'#EzO&5|QWO'#EgO&6RQWO'#JRO&6^QWO'#JPO&6iQWO,5:vO&6nQ#tO,5<QO&6uQWO'#FsO&6zQWO'#FsO&7PQWO'#FsO&7UQWO,5<RO&7^QWO,5:vO&7fQ7^O1G0}O&7mQWO,5<aO&7rQWO,5<aO&7wQWO,5<aO&7|QWO1G1mO&8RQWO1G0bO&8WQ#tO1G2`O&8_Q#tO1G2`O&8fQ#tO1G2`O&8mQWO1G2UO&8rQ`O7+'pO&8yQWO7+'pO&9OQ`O<<K[O4QQWO'#FhO5_QWO'#FgOBwQWO'#EZOLXQYO,5;cO!(mQWO'#FuO!(mQWO'#FuO!(mQWO'#FuOJdQWO,5<tOJdQWO,5<tOJdQWO,5<tO&9VQWO,5<jOITQWO1G2UO&9_QWO1G2UOITQWO7+'pO!&tQ&jO'#GOO!&tQ&jO,5<j",stateData:"&:]~O'YOS'ZOSTOSUOS~OPTOQTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OP[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOR!WO'U!XO'V!ZO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9WO'fQO'oYO'|aO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9XO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOP'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO']#pO'f#sO'a'cP~O!d$XO~O!]$ZO~O_$[O'W$[O~O']$`O~O!d$XO']$`O'^$bO'b$cO~Oc$iO!d$XO']$`O~O#c#TO~O]$rOu$nO!T$kO!d$mO%R$qO']$`O'^$bO^(UP~O!n$sO~Ox$tO!T$uO']$`O~Ox$tO!T$uO%Z$yO']$`O~O']$zO~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%TOc%SO!n%QO%P%RO%c%PO~P7uOb%WOcmO!T%VO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%ZO!{%^O%R%XO'^$bO~P8tO!d%_O!g%cO~O!d%dO~O!TSO~O_$[O'T%lO'W$[O~O_$[O'T%oO'W$[O~O_$[O'T%qO'W$[O~OR!WO'U!XO'V%uO~OP[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;aO!Q%wO!O&iX!O&nX!R&iX!R&nX~P'dO!R%yO!O'jX~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R%yO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>^O!O&OO~Ox&RO!W&]O!X&UO!Y&UO'^$bO~O]&SOk&SO!Q&VO'g&PO!S'kP!S'vP~P@aO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PAYO!{&^O!O'uX!R'uX~O!R&_O!O'tX~O!O&bO~O!{#eO~PAYOS&fO!T&cO!o&eO']$`O~Oc&kO!d$XO']$`O~Ou$nO!d$mO~O!S&lO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOP!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCcO!c&mO~O!]!wO!{&oO'p&nO!R'rX_'rX'W'rX~O!c'rX~PE{O!R&sO!c'qX~O!c&uO~Ox$tO!T$uO#V&vO']$`O~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9WO'fQO'oYO'|aO~O]#qOh$OOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO']&zO'f#sO~O#W&|O~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO']&zO'f#sO~O'a'mP~PJdO!Q'QO!c'nP~P){O'g'SO'oYO~OP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!T!bO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O']'bO'fQO'oYO'|:}O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'iO~PITO!]'kO!T'yX#w'yX#z'yX$R'yX~Ou'lO~P! POu'lO!T'yX#w'yX#z'yX$R'yX~O!T'nO#w'rO#z'mO$R'sO~O!Q'vO~PLXO#z#fO$R'yO~Ou$eXx$eX!b$eX'p$eX'w$eX'x$eX~OSfX!RfX!{fX'afX'a$eX~P!!iOk'{O~OR'|O'U'}O'V(PO~Ou(ROx(SO'p#[O'w(UO'x(WO~O'a(QO~P!#rO'a(ZO~O]#qOh$OOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO'f#sO~O!Q(_O']([O!c'}P~P!$aO#W(aO~O!Q(eO'](bO!O(OP~P!$aOj(sOx(kO!W(qO!X(jO!Y(jO!d(hO!x(rO$w(mO'^$bO'g(gO~O!S(pO~P!&XO!b!yOu'eXx'eX'p'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'QOS(vO!{(uO!R'dX'a'dX~O!R(wO'a'cX~O'](yO~O!d)OO~O']&zO~O!d(hO~Ox$tO!Q!rO!T$uO#U!uO#V!rO']$`O!c'qP~O!]!wO#W)SO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)cOS)[O!T&cO!o)ZO%Q)YO'b$cO~O']$zO'a'cP~O!])_O!T'`X_'`X!R'`X'W'`X~O!d$XO'b$cO~O!d$XO']$`O'b$cO~O!]!wO#W&|O~O])jO%R)kO'])gO!S(VP~O!R)lO^(UX~O'g'SO~OZ)pO~O^)qO~O!T$kO']$`O'^$bO^(UP~Ox$tO!Q)vO!R&_O!T$uO']$`O!O'tP~O]&YOk&YO!Q)wO'g'SO!S'vP~O!R)xO_(RX'W(RX~O!{)|O'b$cO~OS*PO!T#yO'b$cO~O!T*RO~Ou*TO!TSO~O!n*YO~Oc*_O~O'](yO!S(TP~Oc$iO~O%RtO']$zO~P8tOZ*eO^*dO~OPTOQTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9WO~P!1RO^*dO_$[O'W$[O~O_*iO#d*kO%T*kO%U*kO~P){O!d%_O~O%t*pO~O!T*rO~O&V*tO&X*uOP&SaQ&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*zO~On*}O~O!O&ia!R&ia~P!)cO!Q+RO!O&iX!R&iX~P){O!R%yO!O'ja~O!O'ja~P>^O!R&_O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+WO!{+VO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+YO!d$XO'b$cO!R!VX!S!VX~O]&QOk&QOx&RO'g(gO~OP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!T!bO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O'fQO'oYO'|:}O~O']9yO~P!;^O!R+^O!S'kX~O!S+`O~O!]+WO!{+VO!R#TX!S#TX~O!R+aO!S'vX~O!S+cO~O]&QOk&QOx&RO'^$bO'g(gO~O!X+dO!Y+dO~P!>[Ox$tO!Q+fO!T$uO']$`O!O&nX!R&nX~O_+jO!W+mO!X+iO!Y+iO!r+qO!s+oO!t+pO!u+nO!x+rO'^$bO'g(gO'o+gO~O!S+lO~P!?]OS+wO!T&cO!o+vO~O!{+}O!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@gO!R&sO!c'qa~Ox$tO!Q,QO!T$uO#U,SO#V,QO']$`O!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)cO#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!#rO#W'eXP'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'QO!R,]O'a'mX~P!#rO'a,_O~O!R,`O!c'nX~P!)cO!c,cO~O!O,dO~OP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!EtO#[#PO~P!EtOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!H`Oj#RO~P!H`OP#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!JzOZ#dO!a#TO#a#TO#b#TO#c#TO~P!JzOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!MrO'w!}O~P!MrOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P#!^O'x#OO~P#!^OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#$xOP[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#']OP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO#i9eO#j9fO'fQO'p#[O'w!}O'x#OO~O#m,fO~P#)gOP'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9jO#o9jO#c'iX#m'iX!S'iX~P#+bO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)cOP#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!#rO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)cO#z,hO~O#z,iO~O!]'kO!{,jO!T$OX#w$OX#z$OX$R$OX~O!Q,kO~O!T'nO#w,mO#z'mO$R,nO~O!R9gO!S'hX~P#)gO!S,oO~O$R,qO~OR'|O'U'}O'V,tO~O],wOk,wO!O,xO~O!RdX!]dX!cdX!c$eX'pdX~P!!iO!c-OO~P!#rO!R-PO!]!wO'p&nO!c'}X~O!c-UO~O!O$eX!R$eX!]$lX~P!!iO!R-WO!O(OX~P!#rO!]-YO~O!O-[O~O!Q(_O']$`O!c'}P~Oj-`O!]!wO!d$XO'b$cO'p&nO~O!])_O~O_$[O!R-eO'W$[O~O!S-gO~P!&XO!X-hO!Y-hO'^$bO'g(gO~Ox-jO'g(gO~O!x-kO~O']$zO!R&xX'a&xX~O!R(wO'a'ca~Ou-pOv-pOx-qO'pra'wra'xra!Rra!{ra~O'ara#mra~P#6qOu(ROx(SO'p$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#7gOu(ROx(SO'p$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#8YO]-rO~O#W-sO~O'a$na!R$na#m$na!{$na~P!#rO#W-vO~OS.PO!T&cO!o.OO%Q-}O~O'a.QO~O]#qOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO'f#sO~Oh.SO'].RO~P#:PO!])_O!T'`a_'`a!R'`a'W'`a~O#W.YO~OZ[X!RdX!SdX~O!R.ZO!S(VX~O!S.]O~OZ.^O~O].`O'])gO~O!T$kO']$`O^'QX!R'QX~O!R)lO^(Ua~O!c.cO~P!)cO].eO~OZ.fO~O^.gO~OS.PO!T&cO!o.OO%Q-}O'b$cO~O!R)xO_(Ra'W(Ra~O!{.mO~OS.pO!T#yO~O'g'SO!S(SP~OS.zO!T.vO!o.yO%Q.xO'b$cO~OZ/UO!R/SO!S(TX~O!S/VO~O^/XO_$[O'W$[O~O]/YO~O]/ZO'](yO~O#c/[O%r/]O~P0zO!{#eO#c/[O%r/]O~O_/^O~P){O_/`O~O%{/dOP%yiQ%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/jO!S/hO&Q/iO~P`O!TSO!d/lO~O&X*uOP&SiQ&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)cO!R%yO!O'ji~O!R&_O!O'ti~O!O/rO~O!R!Va!S!Va~P#)gO]&QOk&QO!Q/xO'g(gO!R&jX!S&jX~P@aO!R+^O!S'ka~O]&YOk&YO!Q)wO'g'SO!R&oX!S&oX~O!R+aO!S'va~O!O'ui!R'ui~P!)cO_$[O!]!wO!d$XO!j0SO!{0QO'W$[O'b$cO'p&nO~O!S0VO~P!?]O!X0WO!Y0WO'^$bO'g(gO'o+gO~O!W0XO~P#LVO!TSO!W0XO!u0ZO!x0[O~P#LVO!W0XO!s0^O!t0^O!u0ZO!x0[O~P#LVO!T&cO~O!T&cO~P!#rO!R'ri!c'ri_'ri'W'ri~P!)cO!{0gO!R'ri!c'ri_'ri'W'ri~O!R&sO!c'qi~Ox$tO!T$uO#V0iO']$`O~O#WraPraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra!cra!Ora!Tranra%Qra!]ra~P#6qO#W$^aP$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#7gO#W$`aP$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#8YO#W$naP$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!#rO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)cO!R&kX'a&kX~PJdO!R,]O'a'ma~O!Q0qO!R&lX!c&lX~P){O!R,`O!c'na~O!R,`O!c'na~P!)cO#m!fa!S!fa~PCcO#m!^a!R!^a!S!^a~P#)gO!T1UO#x^O$P1VO~O!S1ZO~On1[O~P!#rO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)cO!O1]O~O],wOk,wO~Ou(ROx(SO'x(WO'p$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$,vOu(ROx(SO'p$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$-iO#m1^O~P!#rO!Q1`O']$`O!R&tX!c&tX~O!R-PO!c'}a~O!R-PO!]!wO!c'}a~O!R-PO!]!wO'p&nO!c'}a~O'a$gi!R$gi#m$gi!{$gi~P!#rO!Q1gO'](bO!O&vX!R&vX~P!$aO!R-WO!O(Oa~O!R-WO!O(Oa~P!#rO!]!wO~O!]!wO#c1oO~Oj1rO!]!wO'p&nO~O!R'di'a'di~P!#rO!{1uO!R'di'a'di~P!#rO!c1xO~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)cO!R1|O!T(PX~P!#rO!T&cO%Q2PO~O!T&cO%Q2PO~P!#rO!T$eX$u[X_$eX!R$eX'W$eX~P!!iO$u2TOugXxgX!TgX'pgX'wgX'xgX_gX!RgX'WgX~O$u2TO~O]2ZO%R2[O'])gO!R'PX!S'PX~O!R.ZO!S(Va~OZ2`O~O^2aO~O]2dO~OS2fO!T&cO!o2eO%Q2PO~O_$[O'W$[O~P!#rO!T#yO~P!#rO!R2kO!{2mO!S(SX~O!S2nO~Ox;]O!W2wO!X2pO!Y2pO!r2vO!s2uO!t2uO!x2tO'^$bO'g(gO'o+gO~O!S2sO~P$6QOS3OO!T.vO!o2}O%Q2|O~OS3OO!T.vO!o2}O%Q2|O'b$cO~O'](yO!R'OX!S'OX~O!R/SO!S(Ta~O]3YO'g3XO~O]3ZO~O^3]O~O!c3`O~P){O_3bO~O_3bO~P){O#c3dO%r3eO~PE{O`/jO!S3iO&Q/iO~P`O!]3kO~O!R#Ti!S#Ti~P#)gO!{3mO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#)gO_$[O!{3tO'W$[O~O_$[O!]!wO!{3tO'W$[O~O!X3xO!Y3xO'^$bO'g(gO'o+gO~O_$[O!]!wO!d$XO!j3yO!{3tO'W$[O'b$cO'p&nO~O!W3zO~P$:oO!W3zO!u3}O!x4OO~P$:oO_$[O!]!wO!j3yO!{3tO'W$[O'p&nO~O!R'rq!c'rq_'rq'W'rq~P!)cO!R&sO!c'qq~O#W$xiP$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$,vO#W$ziP$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$-iO#W$giP$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!#rO!R&ka'a&ka~P!#rO!R&la!c&la~P!)cO!R,`O!c'ni~O#m#Oi!R#Oi!S#Oi~P#)gOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$DVO#[9[O~P$DVOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$F_Oj9^O~P$F_OP#^Oj9^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$HgOZ9iO!a9`O#a9`O#b9`O#c9`O~P$HgOP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$J{O'w!}O~P$J{OP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$MTO'x#OO~P$MTOP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO#i9eO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P% ]O_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)cOP#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi!R#Zi!S#Zi~P!#rO!b!yOu'eXx'eX'p'eX'w'eX'x'eX!S'eX~OP'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX!R'eX~P%%mO#m#ni!R#ni!S#ni~P#)gO!S4`O~O!R&sa!S&sa~P#)gO!]!wO'p&nO!R&ta!c&ta~O!R-PO!c'}i~O!R-PO!]!wO!c'}i~O!O&va!R&va~P!#rO!]4gO~O!R-WO!O(Oi~P!#rO!R-WO!O(Oi~O!O4kO~O!]!wO#c4pO~Oj4qO!]!wO'p&nO~O!O4sO~O'a$iq!R$iq#m$iq!{$iq~P!#rO_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)cO!R1|O!T(Pa~O!T&cO%Q4xO~O!T&cO%Q4xO~P!#rO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)cOZ4{O~O]4}O'])gO~O!R.ZO!S(Vi~O]5QO~O^5RO~O'g'SO!R&{X!S&{X~O!R2kO!S(Sa~O!S5`O~P$6QOx;^O'g(gO'o+gO~O!W5cO!X5bO!Y5bO!x0[O'^$bO'g(gO'o+gO~O!s5dO!t5dO~P%.RO!X5bO!Y5bO'^$bO'g(gO'o+gO~O!T.vO~O!T.vO%Q5fO~O!T.vO%Q5fO~P!#rOS5kO!T.vO!o5jO%Q5fO~OZ5pO!R'Oa!S'Oa~O!R/SO!S(Ti~O]5sO~O!c5tO~O!c5uO~O!c5vO~O!c5vO~P){O_5xO~O!]5{O~O!c5|O~O!R'ui!S'ui~P#)gO_$[O'W$[O~P!)cO_$[O!{6RO'W$[O~O_$[O!]!wO!{6RO'W$[O~O!X6WO!Y6WO'^$bO'g(gO'o+gO~O_$[O!]!wO!j6XO!{6RO'W$[O'p&nO~O!d$XO'b$cO~P%2mO!W6YO~P%2[O!R'ry!c'ry_'ry'W'ry~P!)cO#W$iqP$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!#rO!R&li!c&li~P!)cO#m#Oq!R#Oq!S#Oq~P#)gOu-pOv-pOx-qO'pra'wra'xra!Sra~OPraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra!Rra~P%6eOu(ROx(SO'p$^a'w$^a'x$^a!S$^a~OP$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a!R$^a~P%8fOu(ROx(SO'p$`a'w$`a'x$`a!S$`a~OP$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a!R$`a~P%:gOP$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na!R$na!S$na~P!#rO#m$Yq!R$Yq!S$Yq~P#)gO#m$Zq!R$Zq!S$Zq~P#)gO!S6dO~O'a$|y!R$|y#m$|y!{$|y~P!#rO!]!wO!R&ti!c&ti~O!]!wO'p&nO!R&ti!c&ti~O!R-PO!c'}q~O!O&vi!R&vi~P!#rO!R-WO!O(Oq~O!O6jO~P!#rO!O6jO~O!R'dy'a'dy~P!#rO!R&ya!T&ya~P!#rO!T$tq_$tq!R$tq'W$tq~P!#rOZ6qO~O!R.ZO!S(Vq~O]6tO~O!T&cO%Q6uO~O!T&cO%Q6uO~P!#rO!{6vO!R&{a!S&{a~O!R2kO!S(Si~P#)gO!X6|O!Y6|O'^$bO'g(gO'o+gO~O!W7OO!x4OO~P%BkO!T.vO%Q7RO~O!T.vO%Q7RO~P!#rO]7YO'g7XO~O!R/SO!S(Tq~O!c7[O~O!c7[O~P){O!c7^O~O!c7_O~O!R#Ty!S#Ty~P#)gO_$[O!{7eO'W$[O~O_$[O!]!wO!{7eO'W$[O~O!X7hO!Y7hO'^$bO'g(gO'o+gO~O_$[O!]!wO!j7iO!{7eO'W$[O'p&nO~O#W$|yP$|yZ$|y_$|yj$|yv$|y!R$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y'W$|y'f$|y!c$|y!O$|y!T$|y!{$|yn$|y%Q$|y!]$|y~P!#rO#m#ky!R#ky!S#ky~P#)gOP$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi!R$gi!S$gi~P!#rOu(ROx(SO'x(WO'p$xi'w$xi!S$xi~OP$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi!R$xi~P%JROu(ROx(SO'p$zi'w$zi'x$zi!S$zi~OP$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi!R$zi~P%LSO#m$Zy!R$Zy!S$Zy~P#)gO#m#Oy!R#Oy!S#Oy~P#)gO!]!wO!R&tq!c&tq~O!R-PO!c'}y~O!O&vq!R&vq~P!#rO!O7mO~P!#rO!R.ZO!S(Vy~O!R2kO!S(Sq~O!X7yO!Y7yO'^$bO'g(gO'o+gO~O!T.vO%Q7|O~O!T.vO%Q7|O~P!#rO!c8PO~O_$[O!{8UO'W$[O~O_$[O!]!wO!{8UO'W$[O~OP$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq!R$iq!S$iq~P!#rO!R&{q!S&{q~P#)gO_$[O!{8hO'W$[O~OP$|yZ$|yj$|yv$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y#m$|y'f$|y!R$|y!S$|y~P!#rO!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P!#rO!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%%mO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%6eO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%8fO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%:gO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P!#rO!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%JRO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%LSO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P!#rO!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P!#rO!S$|y!W$|y!X$|y!Y$|y!r$|y!s$|y!t$|y!x$|y'^$|y'g$|y'o$|y~P!#rOn'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;aOP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!TSO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O']'bO'fQO'oYO'|:}O~O]#qOh$OOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_;SO!d#vO#V9uO#t$TO$_9oO$a9rO$d$UO']&zO'f#sO~O!R9gO!S$]a~O]#qOh$OOj#rOk#qOl#qOq$POs9mOx#xO!T#yO!_;TO!d#vO#V9vO#t$TO$_9pO$a9sO$d$UO']&zO'f#sO~O#d'iO~P&3xO!S[X!SdX~P;aO!]9ZO~O#W9YO~O!]!wO#W9YO~O!{9jO~O#c9`O~O!{9wO!R'uX!S'uX~O!{9jO!R'sX!S'sX~O#W9xO~O'a9zO~P!#rO#W:RO~O#W:SO~O#W:TO~O!]!wO#W:UO~O!]!wO#W9xO~O#m:VO~P#)gO#W:WO~O#W:XO~O#W:YO~O#W:ZO~O#W:[O~O#m:]O~P!#rO#m:^O~P!#rO#m:_O~P!#rO!O:`O~O!O:aO~P!#rO!O:aO~O!O:bO~P!#rO!]!wO#c;YO~O!]!wO#c;[O~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Hc(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s5g5zP5zPPP5zP7t5zP5zP7xPP8OP8d<uPPPP<yPPPP<y?kPPP?qBSP<yPDgPPPPF`<yPPPPPHX<yPPKYLVPPPPLZMsPM{N|PLV<y<y!$^!'X!+z!+z!/ZPPP!/b!2W<yPPPPPPPPPP!4}P!6`PP<y!7mP<yP<y<y<y<yP<y!:[PP!=TP!?x!@Q!@U!@UP!=QP!@Y!@YP!B}P!CR<y<y!CX!E{5zP5zP5z5zP!GO5z5z!IU5z!Ki5z!Mi5z5z!NV#!]#!]#!a#!]#!iP#!]P5z##e5z#$y5z5z-zPPP#&cPP#&{#&{P#&{P#'b#&{PP#'hP#'_P#'_#'zMw#'_#(i#(o#(r([#(u([P#(|#(|#(|P([P([P([P([PP([P#)S#)VP#)V([P#)ZP#)^P([P([P([P([P([P([([#)d#)n#)t#)z#*Y#*`#*f#*p#*v#+V#+]#+k#+q#+w#,V#,l#.[#.j#.p#.v#.|#/S#/^#/d#/j#/t#0W#0^PPPPPPPP#0dPP#1W#4`PP#5v#5}#6VPP#;X#=l#Ch#Ck#Cn#Cy#C|PP#DP#DT#Dr#Ei#Em#FRPP#FV#F]#FaP#Fd#Fh#Fk#GZ#Gq#Gv#Gy#G|#HS#HV#HZ#H_mhOSj}!n$Z%b%e%f%h*m*r/d/gQ$hmQ$opQ%YyS&U!b+^Q&j!jS(j#y(oQ)e$iQ)r$qQ*^%SQ+d&]S+i&c+kQ+{&kQ-h(qQ/R*_Y0W+m+n+o+p+qS2p.v2rU3x0X0Z0^U5b2u2v2wS6W3z3}S6|5c5dQ7h6YR7y7O$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!j'd#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ(z$QQ)j$kQ*`%VQ*g%_Q,V9kQ.T)_Q.`)kQ/Z*eQ2Z.ZQ3V/SQ4X9mQ4}2[R8s9lpeOSjy}!n$Z%X%b%e%f%h*m*r/d/gR*b%Z&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%y&R&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;P;Q[!cRU!]!`%w&VQ$alQ$gmS$lp$qv$vrs!r!u$X$t&_&s&v)v)w)x*k+W+f,Q,S/l0iQ%OwQ&g!iQ&i!jS(^#v(hS)d$h$iQ)h$kQ)u$sQ*X%QQ*]%SS+z&j&kQ-T(_Q.X)eQ._)kQ.a)lQ.d)pQ.|*YS/Q*^*_Q0e+{Q1_-PQ2Y.ZQ2^.^Q2c.fQ3U/RQ4d1`Q4|2[Q5P2`Q6p4{R7p6q!Y$em!j$g$h$i&T&i&j&k(i)d)e+Z+h+z+{-a.X/}0T0Y0e1q3w3|6U7f8VQ)]$aQ)}${Q*Q$|Q*[%SQ.h)uQ.{*XU/P*]*^*_Q3P.|S3T/Q/RQ5]2oQ5o3US6z5^5aS7w6{6}Q8_7xR8n8`W#|a$c(w:}S${t%XQ$|uQ$}vR){$y$o#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+w,]-W-Y-s-}.P.m.p.x.z1^1g1o1u1|2P2T2f2|3O4g4p4x5f5k6u7R7|9Z9i9n9o9p9q9r9s9t9u9v9{9|9}:O:P:Q:R:S:T:W:X:Y:]:^:_:};U;V;W;Y;[T'}#s(OX({$Q9k9l9mU&Y!b$u+aQ'T!{Q)o$nQ.q*RQ1v-pR5X2k&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q$]#aZ!_!o$_%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,g,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pT!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ&W!bR/y+^Y&Q!b&U&]+^+dS(i#y(oS+h&c+kS-a(j(qQ-b(kQ-i(rQ.s*TU0T+i+m+nU0Y+o+p+qS0_+r2tQ1q-hQ1s-jQ1t-kS2o.v2rU3w0W0X0ZQ3{0[Q3|0^S5^2p2wS5a2u2vU6U3x3z3}Q6Z4OS6{5b5cQ6}5dS7f6W6YS7x6|7OQ8V7hQ8`7yQ;X;]R;Z;^lhOSj}!n$Z%b%e%f%h*m*r/d/gQ%j!QS&w!v9YQ)b$fQ*V%OQ*W%PQ+x&hS,Z&|9xS-u)S:UQ.V)cQ.u*UQ/k*tQ/m*uQ/u+XQ0]+oQ0c+yS1{-v:ZQ2U.WS2X.Y:[Q3n/wQ3q0OQ4Q0dQ4z2VQ6O3pQ6S3vQ6[4RQ7`5|Q7c6TQ8R7dQ8e8TR8q8g$W#`Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pW(t#z&{1S8jT)W$_,g$W#_Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pQ'e#`S)V$_,gR-w)W&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ%e{Q%f|Q%h!OQ%i!PR/c*pQ&d!iQ)X$aQ+u&gS-|)])uS0`+s+tW2O-y-z-{.hS4P0a0bU4w2Q2R2SU6n4v5T5UQ7o6oR8Z7rT+j&c+kS+h&c+kU0T+i+m+nU0Y+o+p+qS0_+r2tS2o.v2rU3w0W0X0ZQ3{0[Q3|0^S5^2p2wS5a2u2vU6U3x3z3}Q6Z4OS6{5b5cQ6}5dS7f6W6YS7x6|7OQ8V7hR8`7yS+j&c+kT2q.v2rS&q!q/aQ-S(^Q-_(iS0S+h2oQ1d-TS1l-`-iU3y0Y0_5aQ4c1_S4n1r1tU6X3{3|6}Q6f4dQ6m4qR7i6ZQ!xXS&p!q/aQ)T$YQ)`$dQ)f$jQ,O&qQ-R(^Q-^(iQ-c(lQ.U)aQ.}*ZS0R+h2oS1c-S-TS1k-_-iQ1n-bQ1p-dQ3R/OW3u0S0Y0_5aQ4b1_Q4f1dS4j1l1tQ4o1sQ5m3SW6V3y3{3|6}S6e4c4dS6i4k:`Q6k4nQ6x5[Q7V5nS7g6X6ZQ7k6fS7l6j:aQ7n6mQ7u6yQ8O7WQ8W7iS8Y7m:bQ8]7vQ8l8^Q8x8mQ9P8yQ:i:dQ:t:nQ:u:oQ:y;XR:{;Z$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hS!xn!k!j:c#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR:i;P$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hQ$Yb!Y$dm!j$g$h$i&T&i&j&k(i)d)e+Z+h+z+{-a.X/}0T0Y0e1q3w3|6U7f8VS$jn!kQ)a$eQ*Z%SW/O*[*]*^*_U3S/P/Q/RQ5[2oS5n3T3UU6y5]5^5aQ7W5oU7v6z6{6}S8^7w7xS8m8_8`Q8y8n!j:d#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ:n;OR:o;P$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hY!hRU!]!`%wv$vrs!r!u$X$t&_&s&v)v)w)x*k+W+f,Q,S/l0iQ*h%_!h:e#]#k'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR:h&VS&Z!b$uR/{+a$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!j'd#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR*g%_$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hQ'T!{!k:f#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q!h#VZ!_$_%v%|&x'P'^'_'`'a'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9U!R9b'c't+[,g/s/v0t0|0}1O1P1T1Y3o4W4]4^5Z5}6^6b6c7s:p!d#XZ!_$_%v%|&x'P'`'a'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9U}9d'c't+[,g/s/v0t1O1P1T1Y3o4W4]4^5Z5}6^6b6c7s:p!`#]Z!_$_%v%|&x'P'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9Un(Y#t&})R,}-V-l-m0n1y4a4r:j:v:w:xx;Q'c't+[,g/s/v0t1T1Y3o4W4]4^5Z5}6^6b6c7s:p!d;U&y'h(](c+t,Y,r-Z-x-{.l.n0b0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|Y;V8i8v8}9Q9SZ;W1R4[6_7j8X&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QS#l`#mR1V,j&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,j,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QS#g^#nT'm#i'qT#h^#nT'o#i'q&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,j,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QT#l`#mQ#o`R'x#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!k;O#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q#RdOSUj}!S!W!n!|#k$Z%Z%^%_%b%d%e%f%h%l&R&e'v)Z*i*m*r+v,k-q.O.y/[/]/^/`/d/g/i1U2e2}3b3d3e5j5xv#za!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;W#Q&{!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[Q)P$UQ,v(Rb1S9i9p9s9v9}:Q:T:Y:_c8j9Z9o9r9u9|:P:S:X:^v#wa!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;WS(l#y(oQ)Q$VQ-d(m#Q:k!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[b:l9Z9o9r9u9|:P:S:X:^b:m9i9p9s9v9}:Q:T:Y:_Q:q;RQ:r;SR:s;Tv#za!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;W#Q&{!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[b1S9i9p9s9v9}:Q:T:Y:_c8j9Z9o9r9u9|:P:S:X:^lfOSj}!n$Z%b%e%f%h*m*r/d/gQ(d#xQ*{%oQ*|%qR1f-W$n#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+w,]-W-Y-s-}.P.m.p.x.z1^1g1o1u1|2P2T2f2|3O4g4p4x5f5k6u7R7|9Z9i9n9o9p9q9r9s9t9u9v9{9|9}:O:P:Q:R:S:T:W:X:Y:]:^:_:};U;V;W;Y;[Q*O$|Q.o*QQ2i.nR5W2jT(n#y(oS(n#y(oT2q.v2rQ)`$dQ-c(lQ.U)aQ.}*ZQ3R/OQ5m3SQ6x5[Q7V5nQ7u6yQ8O7WQ8]7vQ8l8^Q8x8mR9P8yn(V#t&})R,}-V-l-m0n1y4a4r:j:v:w:x!d9{&y'h(](c+t,Y,r-Z-x-{.l.n0b0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|Y9|8i8v8}9Q9SZ9}1R4[6_7j8Xp(X#t&})R,{,}-V-l-m0n1y4a4r:j:v:w:x!f:O&y'h(](c+t,Y,r-Z-x-{.l.n0b0k0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|[:P8i8v8{8}9Q9S]:Q1R4[6_6`7j8XpeOSjy}!n$Z%X%b%e%f%h*m*r/d/gQ%UxR*i%_peOSjy}!n$Z%X%b%e%f%h*m*r/d/gR%UxQ*S$}R.k){qeOSjy}!n$Z%X%b%e%f%h*m*r/d/gQ.w*XS2{.{.|W5e2x2y2z3PU7Q5g5h5iU7z7P7S7TQ8a7{R8o8bQ%]yR*c%XR3Y/UR7Y5pS$lp$qR.a)lQ%bzR*m%cR*s%iT/e*r/gR*w%jQ*v%jR/n*wQjOQ!nST$^j!nQ(O#sR,s(OQ!YQR%t!YQ!^RU%z!^%{+SQ%{!_R+S%|Q+_&WR/z+_Q,^&}R0o,^Q,a'PS0r,a0sR0s,bQ+k&cR0U+kS!eR$tU&`!e&a+TQ&a!fR+T%}Q+b&ZR/|+bQ&t!sQ,P&rU,T&t,P0jR0j,UQ'q#iR,l'qQ#m`R'w#mQ#cZU'g#c+O9hQ+O9UR9h'tQ-Q(^W1a-Q1b4e6gU1b-R-S-TS4e1c1dR6g4f$Z(T#t&y&}'h(](c(|(})R+t,W,X,Y,r,{,|,}-V-Z-l-m-x-{.l.n0b0k0l0m0n1R1e1i1y2S2h2j2z4U4Y4Z4[4a4h4l4r4t4y5U5i6]6_6`6a6h6l7T7j8X8i8t8u8v8{8|8}9Q9S:j:v:w:x:z:|Q-X(cU1h-X1j4iQ1j-ZR4i1iQ(o#yR-f(oQ(x#}R-o(xQ1}-xR4u1}Q)y$wR.j)yQ2l.qS5Y2l6wR6w5ZQ*U%OR.t*UQ2r.vR5_2rQ/T*`S3W/T5qR5q3YQ.[)hW2].[2_5O6rQ2_._Q5O2^R6r5PQ)m$lR.b)mQ/g*rR3h/gWiOSj!nQ%g}Q)U$ZQ*l%bQ*n%eQ*o%fQ*q%hQ/b*mS/e*r/gR3g/dQ$]gQ%k!RQ%n!TQ%p!UQ%r!VQ)t$rQ)z$xQ*b%]Q*y%mQ-e(nS/W*c*fQ/o*xQ/p*{Q/q*|S0P+h2oQ2b.eQ2g.lQ3Q.}Q3[/YQ3f/cY3s0R0S0Y0_5aQ5S2dQ5V2hQ5l3RQ5r3Z[6P3r3u3y3{3|6}Q6s5QQ7U5mQ7Z5sW7a6Q6V6X6ZQ7q6tQ7t6xQ7}7VU8Q7b7g7iQ8[7uQ8c8OS8d8S8WQ8k8]Q8p8fQ8w8lQ8z8rQ9O8xR9R9PQ$fmQ&h!jU)c$g$h$iQ+X&TU+y&i&j&kQ-](iS.W)d)eQ/w+ZQ0O+hS0d+z+{Q1m-aQ2V.XQ3p/}S3v0T0YQ4R0eQ4m1qS6T3w3|Q7d6UQ8T7fR8g8VS#ua:}R)^$cU#}a$c:}R-n(wQ#taS&y!w)_Q&}!yQ'h#dQ(]#vQ(c#xQ(|$RQ(}$SQ)R$WQ+t&fQ,W9nQ,X9qQ,Y9tQ,r'|Q,{(VQ,|(XQ,}(YQ-V(aQ-Z(eQ-l(uQ-m(vd-x)Y-}.x2P2|4x5f6u7R7|Q-{)[Q.l)|Q.n*PQ0b+wQ0k9{Q0l:OQ0m:RQ0n,]Q1R9iQ1e-WQ1i-YQ1y-sQ2S.PQ2h.mQ2j.pQ2z.zQ4U:WQ4Y9pQ4Z9sQ4[9vQ4a1^Q4h1gQ4l1oQ4r1uQ4t1|Q4y2TQ5U2fQ5i3OQ6]:]Q6_:TQ6`9}Q6a:QQ6h4gQ6l4pQ7T5kQ7j:YQ8X:_Q8i9ZQ8t9oQ8u9rQ8v9uQ8{9|Q8|:PQ8}:SQ9Q:XQ9S:^Q:j:}Q:v;UQ:w;VQ:x;WQ:z;YR:|;[lgOSj}!n$Z%b%e%f%h*m*r/d/gS!pU%dQ%m!SQ%s!WQ'U!|Q'u#kS*f%Z%^Q*j%_Q*x%lQ+U&RQ+s&eQ,p'vQ-z)ZQ/_*iQ0a+vQ1X,kQ1w-qQ2R.OQ2y.yQ3^/[Q3_/]Q3a/^Q3c/`Q3j/iQ4_1UQ5T2eQ5h2}Q5w3bQ5y3dQ5z3eQ7S5jR7]5x!vZOSUj}!S!n!|$Z%Z%^%_%b%d%e%f%h%l&R&e)Z*i*m*r+v-q.O.y/[/]/^/`/d/g/i2e2}3b3d3e5j5xQ!_RQ!oTQ$_kS%v!]%yQ%|!`Q&x!vQ'P!zQ'V#PQ'W#QQ'X#RQ'Y#SQ'Z#TQ'[#UQ']#VQ'^#WQ'_#XQ'`#YQ'a#ZQ'c#]Q'f#bQ'j#eW't#k'v,k1UQ)n$mS+P%w+RS+[&V/xQ+e&^Q+|&oQ,[&|Q,b'QQ,e9TQ,g9VQ,u(QQ-t)SQ/s+VQ/v+YQ0f+}Q0p,`Q0t9YQ0u9[Q0v9]Q0w9^Q0x9_Q0y9`Q0z9aQ0{9bQ0|9cQ0}9dQ1O9eQ1P9fQ1Q,fQ1T9jQ1Y9gQ1z-vQ2W.YQ3o9wQ3r0QQ4S0gQ4V0qQ4W9xQ4]9zQ4^:UQ5Z2mQ5}3mQ6Q3tQ6^:VQ6b:ZQ6c:[Q7b6RQ7s6vQ8S7eQ8f8UQ8r8hQ9U!WR:p;QR!aRR&X!bS&T!b+^S+Z&U&]R/}+dR'O!yR'R!zT!tU$XS!sU$XU$wrs*kS&r!r!uQ,R&sQ,U&vQ.i)xS0h,Q,SR4T0i`!dR!]!`$t%w&_)v+fh!qUrs!r!u$X&s&v)x,Q,S0iQ/a*kQ/t+WQ3l/lT:g&V)wT!gR$tS!fR$tS%x!]&_S%}!`)vS+Q%w+fT+]&V)wT&[!b$uQ#i^R'z#nT'p#i'qR1W,jT(`#v(hR(f#xQ-y)YQ2Q-}Q2x.xQ4v2PQ5g2|Q6o4xQ7P5fQ7r6uQ7{7RR8b7|lhOSj}!n$Z%b%e%f%h*m*r/d/gQ%[yR*b%XV$xrs*kR.r*RR*a%VQ$ppR)s$qR)i$kT%`z%cT%az%cT/f*r/g",nodeNames:"⚠ ArithOp ArithOp InterpolationStart extends LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:gl,nodeProps:[["closedBy",3,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[xl],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T'u(rZ$UW]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j'u*{R$P&j$UW]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO$P&j]!R'm+zROr+Urs,Ts~+U'm,[U$P&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ$P&j$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR$UW]!RO!^%T!_#o%T#p~%T!Z0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x2k0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`2k1g]$UW'o2cOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']%k'g2bOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T6d5lU'x6[$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T'u6jZ$UW]!ROY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w'm8YV]!ROY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T'm8rROw8Twx8{x~8T'm9SU$P&j]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R9kU]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R:QPO~9f'u:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c'u:xZ$P&j$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z;rZ$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k%V=QR!d$}$UWO!^%T!_#o%T#p~%TZ=bR!cR$UWO!^%T!_#o%T#p~%T5s=tU'^2s#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T$u>rSj$m$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu6`$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%Ty@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%Ty@iR!Qq$UWO!^%T!_#o%T#p~%Ty@yZ$UWkqO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%TyAqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyBiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyCVV$UWkqO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Duy!0cd$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%Ty!1x_$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%Ty!3OR$UWkqO!^%T!_#o%T#p~%Ty!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%Ty!3}Y$UWkqO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%Ty!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%Ty!5`X$UWkqO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%Ty!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%Ty!6z]$UWkqO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T%w!7|R!]V$UW#m%hO!^%T!_#o%T#p~%T!P!8^R_w$UWO!^%T!_#o%T#p~%T6i!8rR'bd!a0`#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v%w!9kT!{%o$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%w!:gT'a!s#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T6i!<YV'p6a$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T)z!<vRv)r$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%TZ!={R!OR$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$P!>pR$UW'f#wO!^%T!_#o%T#p~%T~!?OO!T~6d!?VT'w6[$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T5g!?oR!S5]nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']%k'g2bOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']%k'g2bOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[vl,$l,yl,0,1,2,3,4,5,6,7,8,9,Ql],topRules:{Script:[0,7]},dialects:{jsx:11707,ts:11709},dynamicPrecedences:{149:1,176:1},specialized:[{term:289,get:(e,t)=>function(e,t){return"extends"==e&&t.dialectEnabled(1)?4:-1}(e,t)<<1},{term:289,get:e=>wl[e]||-1},{term:299,get:e=>bl[e]||-1},{term:63,get:e=>Sl[e]||-1}],tokenPrec:11730}),kl=[Br("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Br("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),Br("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Br("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"block",type:"keyword"}),Br("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),Br('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Br('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],_l=vt.define({parser:Tl.configure({props:[At.add({IfStatement:Mt({except:/^\s*({|else\b)/}),TryStatement:Mt({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,i=/^\s*\}/.test(t),n=/^\s*(case|default)\b/.test(t);return e.baseIndent+(i?0:n?1:2)*e.unit},Block:function({closing:e,align:t=!0,units:i=1}){return n=>Lt(n,t,i,e)}({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>-1,"Statement Property":Mt({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),Dt.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":function(e){let t=e.firstChild,i=e.lastChild;return t&&t.to<i.from?{from:t.to,to:i.type.isError?e.to:i.from}:null},BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Pl=_l.configure({dialect:"ts"}),Rl=_l.configure({dialect:"jsx"}),Wl=_l.configure({dialect:"jsx ts"});function Cl(e={}){let t=e.jsx?e.typescript?Wl:Rl:e.typescript?Pl:_l;return new Rt(t,[_l.data.of({autocomplete:nr(["LineComment","BlockComment","String"],ir(kl))}),e.jsx?Il:[]])}function Xl(e,t,i=e.length){if(!t)return"";let n=t.getChild("JSXIdentifier");return n?e.sliceString(n.from,Math.min(n.to,i)):""}const Zl="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Il=n.t.inputHandler.of(((e,t,i,n)=>{if((Zl?e.composing:e.compositionStarted)||e.state.readOnly||t!=i||">"!=n&&"/"!=n||!_l.isActiveAt(e.state,t,-1))return!1;let{state:s}=e,o=s.changeByRange((e=>{var t,i,o;let r,{head:a}=e,l=$t(s).resolveInner(a,-1);if("JSXStartTag"==l.name&&(l=l.parent),">"==n&&"JSXFragmentTag"==l.name)return{range:g.jT.cursor(a+1),changes:{from:a,insert:"><>"}};if(">"==n&&"JSXIdentifier"==l.name){if("JSXEndTag"!=(null===(i=null===(t=l.parent)||void 0===t?void 0:t.lastChild)||void 0===i?void 0:i.name)&&(r=Xl(s.doc,l.parent,a)))return{range:g.jT.cursor(a+1),changes:{from:a,insert:`></${r}>`}}}else if("/"==n&&"JSXFragmentTag"==l.name){let e=l.parent,t=null==e?void 0:e.parent;if(e.from==a-1&&"JSXEndTag"!=(null===(o=t.lastChild)||void 0===o?void 0:o.name)&&(r=Xl(s.doc,null==t?void 0:t.firstChild,a))){let e=`/${r}>`;return{range:g.jT.cursor(a+e.length),changes:{from:a,insert:e}}}}return{range:e}}));return!o.changes.empty&&(e.dispatch(o,{userEvent:"input.type",scrollIntoView:!0}),!0)}));function jl(e,t,i,n,s,o){this.indented=e,this.column=t,this.type=i,this.info=n,this.align=s,this.prev=o}function Al(e,t,i,n){let s=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=i&&(s=e.context.indented),e.context=new jl(s,t,i,n,null,e.context)}function Ul(e){let t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function El(e,t,i){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,i))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function zl(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function ql(e){let t={},i=e.split(" ");for(let e=0;e<i.length;++e)t[i[e]]=!0;return t}function Yl(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}function Ll(e,t){if(!t.startOfLine)return!1;for(var i,n=null;i=e.peek();){if("\\"==i&&e.match(/^.$/)){n=Ll;break}if("/"==i&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=n,"meta"}const Ml=ql("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),Gl=ql("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),Dl=ql("ifdef endif def"),Nl=[Br("${type} ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Br("for (int ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"})],Vl=ln.define(((e={})=>{let t,i,n=e.statementIndentUnit,s=e.dontAlignCalls,o=Ml,r=Gl,a=ql("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),l=ql("for while do if else struct switch case"),c=e.defKeywords||{},h=ql("true false null gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),d={"#":Ll},O=e.multiLineStrings,u=!1!==e.indentStatements,f=e.namespaceSeparator,p=e.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,m=e.numberStart||/[\d\.]/,g=e.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,Q=e.isOperatorChar||/[+\-*&%=<>!?|\/]/,v=e.isIdentifierChar||/[\w\$_\xa1-\uffff]/,$=e.isReservedIdentifier||!1;function y(e,n){let s=e.next();if(d[s]){var u=d[s](e,n);if(!1!==u)return u}if('"'==s||"'"==s)return n.tokenize=(y=s,function(e,t){let i,n=!1,s=!1;for(;null!=(i=e.next());){if(i==y&&!n){s=!0;break}n=!n&&"\\"==i}return(s||!n&&!O)&&(t.tokenize=null),"string"}),n.tokenize(e,n);var y;if(m.test(s)){if(e.backUp(1),e.match(g))return"number";e.next()}if(p.test(s))return t=s,null;if("/"==s){if(e.eat("*"))return n.tokenize=x,x(e,n);if(e.eat("/"))return e.skipToEnd(),"comment"}if(Q.test(s)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(Q););return"operator"}if(e.eatWhile(v),f)for(;e.match(f);)e.eatWhile(v);let w=e.current();return Yl(o,w)?(Yl(l,w)&&(t="newstatement"),Yl(c,w)&&(i=!0),"keyword"):Yl(r,w)?"type":Yl(a,w)||$&&$(w)?(Yl(l,w)&&(t="newstatement"),"builtin"):Yl(h,w)?"atom":"variable"}function x(e,t){let i,n=!1;for(;i=e.next();){if("/"==i&&n){t.tokenize=null;break}n="*"==i}return"comment"}function w(t,i){e.typeFirstDefinitions&&t.eol()&&zl(i.context)&&(i.typeAtEndOfLine=El(t,i,t.pos))}return{startState:function(e){return{tokenize:null,context:new jl(-e,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(n,s){var o=s.context;if(n.sol()&&(null==o.align&&(o.align=!1),s.indented=n.indentation(),s.startOfLine=!0),n.eatSpace())return w(n,s),null;t=i=null;var r=(s.tokenize||y)(n,s);if("comment"==r||"meta"==r)return r;if(null==o.align&&(o.align=!0),";"==t||":"==t||","==t&&n.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==s.context.type;)Ul(s);else if("{"==t)Al(s,n.column(),"}");else if("["==t)Al(s,n.column(),"]");else if("("==t)Al(s,n.column(),")");else if("}"==t){for(;"statement"==o.type;)o=Ul(s);for("}"==o.type&&(o=Ul(s));"statement"==o.type;)o=Ul(s)}else t==o.type?Ul(s):u&&(("}"==o.type||"top"==o.type)&&";"!=t||"statement"==o.type&&"newstatement"==t)&&Al(s,n.column(),"statement",n.current());if("variable"==r&&("def"==s.prevToken||e.typeFirstDefinitions&&El(n,s,n.start)&&zl(s.context)&&n.match(/^\s*\(/,!1))&&(r="def"),d.token){var a=d.token(n,s,r);void 0!==a&&(r=a)}return"def"==r&&!1===e.styleDefs&&(r="variable"),s.startOfLine=!1,s.prevToken=i?"def":r||t,w(n,s),r},indent:function(t,i,o){if(t.tokenize!=y&&null!=t.tokenize||t.typeAtEndOfLine)return null;var r=t.context,a=i&&i.charAt(0),l=a==r.type;if("statement"==r.type&&"}"==a&&(r=r.prev),e.dontIndentStatements)for(;"statement"==r.type&&e.dontIndentStatements.test(r.info);)r=r.prev;if(d.indent){var c=d.indent(t,r,i,o.unit);if("number"==typeof c)return c}var h=r.prev&&"switch"==r.prev.info;if(e.allmanIndentation&&/[{(]/.test(a)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==a?0:n||o.unit):!r.align||s&&")"==r.type?")"!=r.type||l?r.indented+(l?0:o.unit)+(l||!h||/^(?:case|default)\b/.test(i)?0:o.unit):r.indented+(n||o.unit):r.column+(l?0:1)},languageData:{indentOnInput:/^\s*[{}]$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}},autocomplete:Object.keys(o).concat(Object.keys(r)).concat(Object.keys(a)).concat(Object.keys(h))}}})()),Bl=new Rt(Vl,[Vl.data.of({autocomplete:nr(["LineComment","BlockComment","String"],ir(Nl))})]);var Hl=i(2275);const Fl={abs:{type:"buildin",desc:"return the absolute value of the parameter"},acos:{type:"buildin",desc:"return the arccosine of the parameter"},all:{type:"buildin",desc:"check whether all elements of a boolean vector are true"},sin:{type:"buildin",desc:"return the sine of the parameter"},gl_FragCoord:{type:"keyword",desc:"contains the window-relative coordinates of the current fragment"},gl_FragColor:{type:"keyword",desc:"contains the window-relative coordinates of the current fragment"}},Jl={keyword:"#6478ac",buildin:"#2790d2"},Kl=n.t.baseTheme({".cm-tooltip.cm-tooltip-hover":{borderRadius:"2px",borderBottom:"1px solid var(--graph_icon)",backgroundColor:"var(--graph_bg_thin)","& .cm-tooltip-section div":{fontSize:"14px"}}}),ec=[pe(((e,t,i)=>{let{from:n,to:s,text:o}=e.state.doc.lineAt(t),r=t,a=t;for(;r>n&&/\w/.test(o[r-n-1]);)r--;for(;a<s&&/\w/.test(o[a-n]);)a++;if(r===t&&i<0||a===t&&i>0)return null;const l=o.slice(r-n,a-n);return Ml[l]||Gl[l]||Dl[l]?null:{pos:r,end:a,above:!0,create(e){let t,i=document.createElement("div");return(t=Fl[l])?(i.innerHTML+=`<div style='margin: 7px 10px 7px 10px; display: flex;'>\n                                     <div style='color: ${Jl[t.type]};'>${t.type} macro</div>\n                                     <div style="margin-left: 5px; color: #6643bf">${l}</div>\n                                  </div>`,i.innerHTML+='<div style="height: 1px; border-top: 1px solid var(--graph_icon); text-align: center;"></div>',i.innerHTML+=`<div style="margin: 7px 10px 7px 10px; color: var(--text_mid_dark)">${t.desc}</div>`):i.innerHTML+=`<div style="margin: 5px 10px 5px 10px; color: #538035">ღ variable ${l}</div>`,{dom:i}}}})),Kl];let tc={};const ic=(e,t,i=null)=>(tc[e]||(tc[e]=new n.t({state:g.yy.create({doc:i||localStorage.getItem(e),extensions:[Da,n.t.lineWrapping,Bl,Hl.Y,ec,s.lg.fromClass(class{constructor(t){localStorage.setItem(e,t.state.doc)}update(t){t.docChanged&&localStorage.setItem(e,t.state.doc)}destroy(){delete tc[e]}})]}),parent:t})),tc[e]),nc=document.querySelector("sl-editor").shadowRoot.getElementById("sl-editor__workflow"),sc=(nc.clientHeight-53)/2,oc=nc.clientWidth/2;let rc={drawflow:{Home:{data:{1:{id:1,name:"vertex",data:{},class:"vertex",html:'\n                        <div>\n                            <div class="title-box">\n                                <img src="/img/editor/shader.svg" alt="">\n                                Vertex shader\n                            </div>\n                        </div>\n                    ',typenode:!1,inputs:{input_1:{connections:[]}},outputs:{output_1:{connections:[{node:"2",output:"input_1"}]}},pos_x:oc-18-160,pos_y:sc},2:{id:2,name:"fragment",data:{},class:"fragment",html:'\n                        <div>\n                            <div class="title-box">\n                                <img src="/img/editor/shader.svg" alt="">\n                                Fragment shader\n                            </div>\n                        </div>\n                    ',typenode:!1,inputs:{input_1:{connections:[{node:"1",input:"output_1"}]}},outputs:{},pos_x:oc+18,pos_y:sc}}}}};const ac=document.querySelector("sl-editor").shadowRoot,lc=ac.querySelector(".sl-editor__pipeline .flow-holder"),cc=ac.querySelector("#sl-editor__workflow .workflow-lock .lock"),hc=ac.querySelector("#sl-editor__workflow .workflow-lock .unlock"),dc=ac.querySelector("#sl-editor__workflow .workflow-zoom .minus"),Oc=ac.querySelector("#sl-editor__workflow .workflow-zoom .fit"),uc=ac.querySelector("#sl-editor__workflow .workflow-zoom .plus");let fc="",pc=null;const mc=(e,t,i)=>{if("fixed"==_c.editor_mode)return!1;switch(t=t*(_c.precanvas.clientWidth/(_c.precanvas.clientWidth*_c.zoom))-_c.precanvas.getBoundingClientRect().x*(_c.precanvas.clientWidth/(_c.precanvas.clientWidth*_c.zoom)),i=i*(_c.precanvas.clientHeight/(_c.precanvas.clientHeight*_c.zoom))-_c.precanvas.getBoundingClientRect().y*(_c.precanvas.clientHeight/(_c.precanvas.clientHeight*_c.zoom)),e){case"vertex":_c.addNode("vertex",1,1,t,i,"vertex",{},'\n    <div>\n        <div class="title-box">\n            <img src="/img/editor/shader.svg" alt="">\n            Vertex Shader\n        </div>\n    </div>\n');break;case"fragment":_c.addNode("fragment",1,0,t,i,"fragment",{},'\n    <div>\n        <div class="title-box">\n            <img src="/img/editor/shader.svg" alt="">\n            Fragment Shader\n        </div>\n    </div>\n');break;case"image":_c.addNode("image",0,1,t,i,"image",{},'\n    <div>\n        <div class="title-box">\n            <img src="/img/editor/image.svg" alt="">\n            Image\n        </div>\n        <div class="box">\n            <input class="image" type="file" value="Select image">\n        </div>\n    </div>\n');break;case"mesh":_c.addNode("mesh",0,1,t,i,"mesh",{},'\n    <div>\n        <div class="title-box">\n            <img src="/img/editor/grid.svg" alt="">\n            Mesh\n        </div>\n    </div>\n');break;case"buffer":_c.addNode("buffer",0,1,t,i,"buffer",{name:e},'\n    <div>\n        <div class="title-box">\n            <img src="/img/editor/buffer.svg" alt="">\n            RT handle\n        </div>\n        <div class="box">\n            <p>RT name</p>\n            <div class="buffer-container">\n                <input class="buffer" type="text" df-name placeholder="buffer name">\n            </div>\n        </div>\n    </div>\n');break;default:Tc[e]&&_c.addNode(e,0,1,t,i,"custom",{name:e},'\n    <div>\n        <div class="title-box">\n            <img src="/img/editor/code.svg" alt="">\n            <input class="custom" type="text" df-name placeholder="node name">\n        </div>\n    </div>\n')}},gc=e=>{"lock"==e?(cc.style.display="none",hc.style.display="block"):(cc.style.display="block",hc.style.display="none")},Qc=e=>{"touchstart"==e.type?fc=e.target.closest(".flow-drag").getAttribute("data-node"):e.dataTransfer.setData("node",e.target.getAttribute("data-node"))},vc=e=>{if("touchend"==e.type){null!=ac.elementFromPoint(pc.touches[0].clientX,pc.touches[0].clientY).closest("#sl-editor__workflow")&&mc(fc,pc.touches[0].clientX,pc.touches[0].clientY),fc=""}else{e.preventDefault();let t=e.dataTransfer.getData("node");mc(t,e.clientX,e.clientY)}},$c=e=>{pc=e},yc=e=>{e.addEventListener("dragstart",Qc),e.addEventListener("touchstart",Qc,!1),e.addEventListener("touchend",vc,!1),e.addEventListener("touchmove",$c,!1),lc.append(e)},xc=document.querySelector("sl-editor").shadowRoot,wc=xc.getElementById("sl-editor__workflow"),bc=xc.querySelector(".sl-editor__pipeline .flow-create"),Sc=xc.querySelector(".sl-editor__code #panel");let Tc={},kc=-1;const _c=new class{constructor(e,t=null,i=null){this.events={},this.container=e,this.precanvas=null,this.nodeId=1,this.ele_selected=null,this.node_selected=null,this.drag=!1,this.reroute=!1,this.reroute_fix_curvature=!1,this.curvature=.5,this.reroute_curvature_start_end=.5,this.reroute_curvature=.5,this.reroute_width=6,this.drag_point=!1,this.editor_selected=!1,this.connection=!1,this.connection_ele=null,this.connection_selected=null,this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_x_start=0,this.pos_y=0,this.pos_y_start=0,this.mouse_x=0,this.mouse_y=0,this.line_path=5,this.first_click=null,this.force_first_input=!1,this.draggable_inputs=!0,this.useuuid=!1,this.parent=i,this.noderegister={},this.render=t,this.drawflow={drawflow:{Home:{data:{}}}},this.module="Home",this.editor_mode="edit",this.zoom=1,this.zoom_max=1.6,this.zoom_min=.5,this.zoom_value=.1,this.zoom_last_value=1,this.evCache=new Array,this.prevDiff=-1}start(){this.container.classList.add("parent-drawflow"),this.container.tabIndex=0,this.precanvas=document.createElement("div"),this.precanvas.classList.add("drawflow"),this.container.appendChild(this.precanvas),this.container.addEventListener("mouseup",this.dragEnd.bind(this)),this.container.addEventListener("mousemove",this.position.bind(this)),this.container.addEventListener("mousedown",this.click.bind(this)),this.container.addEventListener("touchend",this.dragEnd.bind(this)),this.container.addEventListener("touchmove",this.position.bind(this)),this.container.addEventListener("touchstart",this.click.bind(this)),this.container.addEventListener("contextmenu",this.contextmenu.bind(this)),this.container.addEventListener("keydown",this.key.bind(this)),this.container.addEventListener("wheel",this.zoom_enter.bind(this)),this.container.addEventListener("input",this.updateNodeValue.bind(this)),this.container.addEventListener("dblclick",this.dblclick.bind(this)),this.container.onpointerdown=this.pointerdown_handler.bind(this),this.container.onpointermove=this.pointermove_handler.bind(this),this.container.onpointerup=this.pointerup_handler.bind(this),this.container.onpointercancel=this.pointerup_handler.bind(this),this.container.onpointerout=this.pointerup_handler.bind(this),this.container.onpointerleave=this.pointerup_handler.bind(this),this.load()}pointerdown_handler(e){this.evCache.push(e)}pointermove_handler(e){for(var t=0;t<this.evCache.length;t++)if(e.pointerId==this.evCache[t].pointerId){this.evCache[t]=e;break}if(2==this.evCache.length){var i=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);this.prevDiff>100&&(i>this.prevDiff&&this.zoom_in(),i<this.prevDiff&&this.zoom_out()),this.prevDiff=i}}pointerup_handler(e){this.remove_event(e),this.evCache.length<2&&(this.prevDiff=-1)}remove_event(e){for(var t=0;t<this.evCache.length;t++)if(this.evCache[t].pointerId==e.pointerId){this.evCache.splice(t,1);break}}load(){for(var e in this.drawflow.drawflow[this.module].data)this.addNodeImport(this.drawflow.drawflow[this.module].data[e],this.precanvas);if(this.reroute)for(var e in this.drawflow.drawflow[this.module].data)this.addRerouteImport(this.drawflow.drawflow[this.module].data[e]);for(var e in this.drawflow.drawflow[this.module].data)this.updateConnectionNodes("node-"+e);const t=this.drawflow.drawflow;let i=1;Object.keys(t).map((function(e,n){Object.keys(t[e].data).map((function(e,t){parseInt(e)>=i&&(i=parseInt(e)+1)}))})),this.nodeId=i}removeReouteConnectionSelected(){this.dispatch("connectionUnselected",!0),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach(((e,t)=>{e.classList.remove("selected")}))}click(e){if(this.dispatch("click",e),"fixed"===this.editor_mode){if(e.preventDefault(),"parent-drawflow"!==e.target.classList[0]&&"drawflow"!==e.target.classList[0])return!1;this.ele_selected=e.target.closest(".parent-drawflow")}else"view"===this.editor_mode?(null!=e.target.closest(".drawflow")||e.target.matches(".parent-drawflow"))&&(this.ele_selected=e.target.closest(".parent-drawflow"),e.preventDefault()):(this.first_click=e.target,this.ele_selected=e.target,0===e.button&&this.contextmenuDel(),null!=e.target.closest(".drawflow_content_node")&&(this.ele_selected=e.target.closest(".drawflow_content_node").parentElement));switch(this.ele_selected.classList[0]){case"drawflow-node":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected!=this.ele_selected&&this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.node_selected!=this.ele_selected&&this.dispatch("nodeSelected",this.ele_selected.id.slice(5)),this.node_selected=this.ele_selected,this.node_selected.classList.add("selected"),this.draggable_inputs?"SELECT"!==e.target.tagName&&(this.drag=!0):"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&"SELECT"!==e.target.tagName&&!0!==e.target.hasAttribute("contenteditable")&&(this.drag=!0);break;case"output":this.connection=!0,null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.drawConnection(e.target);break;case"parent-drawflow":case"drawflow":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.editor_selected=!0;break;case"main-path":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.connection_selected=this.ele_selected,this.connection_selected.classList.add("selected");const t=this.connection_selected.parentElement.classList;t.length>1&&(this.dispatch("connectionSelected",{output_id:t[2].slice(14),input_id:t[1].slice(13),output_class:t[3],input_class:t[4]}),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach(((e,t)=>{e.classList.add("selected")})));break;case"point":this.drag_point=!0,this.ele_selected.classList.add("selected");break;case"drawflow-delete":this.node_selected&&this.removeNodeId(this.node_selected.id),this.connection_selected&&this.removeConnection(),null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null)}"touchstart"===e.type?(this.pos_x=e.touches[0].clientX,this.pos_x_start=e.touches[0].clientX,this.pos_y=e.touches[0].clientY,this.pos_y_start=e.touches[0].clientY):(this.pos_x=e.clientX,this.pos_x_start=e.clientX,this.pos_y=e.clientY,this.pos_y_start=e.clientY),["input","output","main-path"].includes(this.ele_selected.classList[0])&&e.preventDefault(),this.dispatch("clickEnd",e)}position(e){if("touchmove"===e.type)var t=e.touches[0].clientX,i=e.touches[0].clientY;else t=e.clientX,i=e.clientY;if(this.connection&&this.updateConnection(t,i),this.editor_selected&&(n=this.canvas_x+-(this.pos_x-t),s=this.canvas_y+-(this.pos_y-i),this.dispatch("translate",{x:n,y:s}),this.precanvas.style.transform="translate("+n+"px, "+s+"px) scale("+this.zoom+")"),this.drag){e.preventDefault();var n=(this.pos_x-t)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),s=(this.pos_y-i)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom);this.pos_x=t,this.pos_y=i,this.ele_selected.style.top=this.ele_selected.offsetTop-s+"px",this.ele_selected.style.left=this.ele_selected.offsetLeft-n+"px",this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_x=this.ele_selected.offsetLeft-n,this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_y=this.ele_selected.offsetTop-s,this.updateConnectionNodes(this.ele_selected.id)}if(this.drag_point){n=(this.pos_x-t)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),s=(this.pos_y-i)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom);this.pos_x=t,this.pos_y=i;var o=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),r=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));this.ele_selected.setAttributeNS(null,"cx",o),this.ele_selected.setAttributeNS(null,"cy",r);const e=this.ele_selected.parentElement.classList[2].slice(9),a=this.ele_selected.parentElement.classList[1].slice(13),l=this.ele_selected.parentElement.classList[3],c=this.ele_selected.parentElement.classList[4];let h=Array.from(this.ele_selected.parentElement.children).indexOf(this.ele_selected)-1;if(this.reroute_fix_curvature){h-=this.ele_selected.parentElement.querySelectorAll(".main-path").length-1,h<0&&(h=0)}const d=e.slice(5),O=this.drawflow.drawflow[this.module].data[d].outputs[l].connections.findIndex((function(e,t){return e.node===a&&e.output===c}));this.drawflow.drawflow[this.module].data[d].outputs[l].connections[O].points[h]={pos_x:o,pos_y:r};const u=this.ele_selected.parentElement.classList[2].slice(9);this.updateConnectionNodes(u)}"touchmove"===e.type&&(this.mouse_x=t,this.mouse_y=i),this.dispatch("mouseMove",{x:t,y:i})}dragEnd(e){if("touchend"===e.type)var t=this.mouse_x,i=this.mouse_y,n=document.elementFromPoint(t,i);else t=e.clientX,i=e.clientY,n=e.target;if(this.drag&&(this.pos_x_start==t&&this.pos_y_start==i||this.dispatch("nodeMoved",this.ele_selected.id.slice(5))),this.drag_point&&(this.ele_selected.classList.remove("selected"),this.pos_x_start==t&&this.pos_y_start==i||this.dispatch("rerouteMoved",this.ele_selected.parentElement.classList[2].slice(14))),this.editor_selected&&(this.canvas_x=this.canvas_x+-(this.pos_x-t),this.canvas_y=this.canvas_y+-(this.pos_y-i),this.editor_selected=!1),!0===this.connection)if("input"===n.classList[0]||this.force_first_input&&(null!=n.closest(".drawflow_content_node")||"drawflow-node"===n.classList[0])){if(!this.force_first_input||null==n.closest(".drawflow_content_node")&&"drawflow-node"!==n.classList[0])s=n.parentElement.parentElement.id,o=n.classList[1];else{if(null!=n.closest(".drawflow_content_node"))var s=n.closest(".drawflow_content_node").parentElement.id;else var s=n.id;if(0===Object.keys(this.getNodeFromId(s.slice(5)).inputs).length)var o=!1;else var o="input_1"}var r=this.ele_selected.parentElement.parentElement.id,a=this.ele_selected.classList[1];if(r!==s&&!1!==o){if(0===this.container.querySelectorAll(".connection.node_in_"+s+".node_out_"+r+"."+a+"."+o).length){this.connection_ele.classList.add("node_in_"+s),this.connection_ele.classList.add("node_out_"+r),this.connection_ele.classList.add(a),this.connection_ele.classList.add(o);var l=s.slice(5),c=r.slice(5);this.drawflow.drawflow[this.module].data[c].outputs[a].connections.push({node:l,output:o}),this.drawflow.drawflow[this.module].data[l].inputs[o].connections.push({node:c,input:a}),this.updateConnectionNodes("node-"+c),this.updateConnectionNodes("node-"+l),this.dispatch("connectionCreated",{output_id:c,input_id:l,output_class:a,input_class:o})}else this.dispatch("connectionCancel",!0),this.connection_ele.remove();this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null;this.drag=!1,this.drag_point=!1,this.connection=!1,this.ele_selected=null,this.editor_selected=!1,this.dispatch("mouseUp",e)}contextmenu(e){if(this.dispatch("contextmenu",e),e.preventDefault(),"fixed"===this.editor_mode||"view"===this.editor_mode)return!1;if(this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove(),this.node_selected||this.connection_selected){var t=document.createElement("div");t.classList.add("drawflow-delete"),t.innerHTML="x",this.node_selected&&this.node_selected.appendChild(t),this.connection_selected&&this.connection_selected.parentElement.classList.length>1&&(t.style.top=e.clientY*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))+"px",t.style.left=e.clientX*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))+"px",this.precanvas.appendChild(t))}}contextmenuDel(){this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove()}key(e){if(this.dispatch("keydown",e),"fixed"===this.editor_mode||"view"===this.editor_mode)return!1;("Delete"===e.key||"Backspace"===e.key&&e.metaKey)&&(null!=this.node_selected&&"INPUT"!==this.first_click.tagName&&"TEXTAREA"!==this.first_click.tagName&&!0!==this.first_click.hasAttribute("contenteditable")&&this.removeNodeId(this.node_selected.id),null!=this.connection_selected&&this.removeConnection())}zoom_enter(e,t){e.ctrlKey&&(e.preventDefault(),e.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.dispatch("zoom",this.zoom),this.canvas_x=this.canvas_x/this.zoom_last_value*this.zoom,this.canvas_y=this.canvas_y/this.zoom_last_value*this.zoom,this.zoom_last_value=this.zoom,this.precanvas.style.transform="translate("+this.canvas_x+"px, "+this.canvas_y+"px) scale("+this.zoom+")"}zoom_in(){this.zoom<this.zoom_max&&(this.zoom+=this.zoom_value,this.zoom_refresh())}zoom_out(){this.zoom>this.zoom_min&&(this.zoom-=this.zoom_value,this.zoom_refresh())}zoom_reset(e=1){this.zoom!=e&&(this.zoom=e,this.zoom_refresh())}createCurvature(e,t,i,n,s,o){var r=e,a=t,l=i,c=n,h=s;switch(o){case"open":if(e>=i)var d=r+Math.abs(l-r)*h,O=l-Math.abs(l-r)*(-1*h);else d=r+Math.abs(l-r)*h,O=l-Math.abs(l-r)*h;return" M "+r+" "+a+" C "+d+" "+a+" "+O+" "+c+" "+l+"  "+c;case"close":if(e>=i)d=r+Math.abs(l-r)*(-1*h),O=l-Math.abs(l-r)*h;else d=r+Math.abs(l-r)*h,O=l-Math.abs(l-r)*h;return" M "+r+" "+a+" C "+d+" "+a+" "+O+" "+c+" "+l+"  "+c;case"other":if(e>=i)d=r+Math.abs(l-r)*(-1*h),O=l-Math.abs(l-r)*(-1*h);else d=r+Math.abs(l-r)*h,O=l-Math.abs(l-r)*h;return" M "+r+" "+a+" C "+d+" "+a+" "+O+" "+c+" "+l+"  "+c;default:return" M "+r+" "+a+" C "+(d=r+Math.abs(l-r)*h)+" "+a+" "+(O=l-Math.abs(l-r)*h)+" "+c+" "+l+"  "+c}}drawConnection(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this.connection_ele=t;var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.classList.add("main-path"),i.setAttributeNS(null,"d",""),t.classList.add("connection"),t.appendChild(i),this.precanvas.appendChild(t);var n=e.parentElement.parentElement.id.slice(5),s=e.classList[1];this.dispatch("connectionStart",{output_id:n,output_class:s})}updateConnection(e,t){const i=this.precanvas,n=this.zoom;let s=i.clientWidth/(i.clientWidth*n);s=s||0;let o=i.clientHeight/(i.clientHeight*n);o=o||0;var r=this.connection_ele.children[0],a=this.ele_selected.offsetWidth/2+(this.ele_selected.getBoundingClientRect().x-i.getBoundingClientRect().x)*s,l=this.ele_selected.offsetHeight/2+(this.ele_selected.getBoundingClientRect().y-i.getBoundingClientRect().y)*o,c=e*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),h=t*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom)),d=this.curvature,O=this.createCurvature(a,l,c,h,d,"openclose");r.setAttributeNS(null,"d",O)}addConnection(e,t,i,n){var s=this.getModuleFromNodeId(e);if(s===this.getModuleFromNodeId(t)){var o=this.getNodeFromId(e),r=!1;for(var a in o.outputs[i].connections){var l=o.outputs[i].connections[a];l.node==t&&l.output==n&&(r=!0)}if(!1===r){if(this.drawflow.drawflow[s].data[e].outputs[i].connections.push({node:t.toString(),output:n}),this.drawflow.drawflow[s].data[t].inputs[n].connections.push({node:e.toString(),input:i}),this.module===s){var c=document.createElementNS("http://www.w3.org/2000/svg","svg"),h=document.createElementNS("http://www.w3.org/2000/svg","path");h.classList.add("main-path"),h.setAttributeNS(null,"d",""),c.classList.add("connection"),c.classList.add("node_in_node-"+t),c.classList.add("node_out_node-"+e),c.classList.add(i),c.classList.add(n),c.appendChild(h),this.precanvas.appendChild(c),this.updateConnectionNodes("node-"+e),this.updateConnectionNodes("node-"+t)}this.dispatch("connectionCreated",{output_id:e,input_id:t,output_class:i,input_class:n})}}}updateConnectionNodes(e){const t="node_in_"+e,i="node_out_"+e;this.line_path;const n=this.container,s=this.precanvas,o=this.curvature,r=this.createCurvature,a=this.reroute_curvature,l=this.reroute_curvature_start_end,c=this.reroute_fix_curvature,h=this.reroute_width,d=this.zoom;let O=s.clientWidth/(s.clientWidth*d);O=O||0;let u=s.clientHeight/(s.clientHeight*d);u=u||0;const f=n.querySelectorAll(`.${i}`);Object.keys(f).map((function(t,i){if(null===f[t].querySelector(".point")){var p=n.querySelector(`#${e}`),m=f[t].classList[1].replace("node_in_",""),g=n.querySelector(`#${m}`).querySelectorAll("."+f[t].classList[4])[0],Q=g.offsetWidth/2+(g.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,v=g.offsetHeight/2+(g.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,$=p.querySelectorAll("."+f[t].classList[3])[0],y=$.offsetWidth/2+($.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,x=$.offsetHeight/2+($.getBoundingClientRect().y-s.getBoundingClientRect().y)*u;const i=r(y,x,Q,v,o,"openclose");f[t].children[0].setAttributeNS(null,"d",i)}else{const i=f[t].querySelectorAll(".point");let o="";const p=[];i.forEach(((t,c)=>{if(0===c&&i.length-1==0){var f=n.querySelector(`#${e}`),m=((x=t).getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,g=(x.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,Q=(w=f.querySelectorAll("."+t.parentElement.classList[3])[0]).offsetWidth/2+(w.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,v=w.offsetHeight/2+(w.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,$=r(Q,v,m,g,l,"open");o+=$,p.push($);f=t;var y=t.parentElement.classList[1].replace("node_in_",""),x=(b=n.querySelector(`#${y}`)).querySelectorAll("."+t.parentElement.classList[4])[0];m=(S=b.querySelectorAll("."+t.parentElement.classList[4])[0]).offsetWidth/2+(S.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,g=S.offsetHeight/2+(S.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,Q=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,v=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,$=r(Q,v,m,g,l,"close");o+=$,p.push($)}else if(0===c){var w;f=n.querySelector(`#${e}`),m=((x=t).getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,g=(x.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,Q=(w=f.querySelectorAll("."+t.parentElement.classList[3])[0]).offsetWidth/2+(w.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,v=w.offsetHeight/2+(w.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,$=r(Q,v,m,g,l,"open");o+=$,p.push($);f=t,m=((x=i[c+1]).getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,g=(x.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,Q=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,v=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,$=r(Q,v,m,g,a,"other");o+=$,p.push($)}else if(c===i.length-1){var b,S;f=t,y=t.parentElement.classList[1].replace("node_in_",""),x=(b=n.querySelector(`#${y}`)).querySelectorAll("."+t.parentElement.classList[4])[0],m=(S=b.querySelectorAll("."+t.parentElement.classList[4])[0]).offsetWidth/2+(S.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,g=S.offsetHeight/2+(S.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,Q=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*(s.clientWidth/(s.clientWidth*d))+h,v=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*(s.clientHeight/(s.clientHeight*d))+h,$=r(Q,v,m,g,l,"close");o+=$,p.push($)}else{f=t,m=((x=i[c+1]).getBoundingClientRect().x-s.getBoundingClientRect().x)*(s.clientWidth/(s.clientWidth*d))+h,g=(x.getBoundingClientRect().y-s.getBoundingClientRect().y)*(s.clientHeight/(s.clientHeight*d))+h,Q=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*(s.clientWidth/(s.clientWidth*d))+h,v=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*(s.clientHeight/(s.clientHeight*d))+h,$=r(Q,v,m,g,a,"other");o+=$,p.push($)}})),c?p.forEach(((e,i)=>{f[t].children[i].setAttributeNS(null,"d",e)})):f[t].children[0].setAttributeNS(null,"d",o)}}));const p=n.querySelectorAll(`.${t}`);Object.keys(p).map((function(t,i){if(null===p[t].querySelector(".point")){var d=n.querySelector(`#${e}`),f=p[t].classList[2].replace("node_out_",""),m=n.querySelector(`#${f}`).querySelectorAll("."+p[t].classList[3])[0],g=m.offsetWidth/2+(m.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,Q=m.offsetHeight/2+(m.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,v=(d=d.querySelectorAll("."+p[t].classList[4])[0]).offsetWidth/2+(d.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,$=d.offsetHeight/2+(d.getBoundingClientRect().y-s.getBoundingClientRect().y)*u;const i=r(g,Q,v,$,o,"openclose");p[t].children[0].setAttributeNS(null,"d",i)}else{const i=p[t].querySelectorAll(".point");let o="";const d=[];i.forEach(((t,c)=>{if(0===c&&i.length-1==0){var f=n.querySelector(`#${e}`),p=((y=t).getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,m=(y.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,g=(b=f.querySelectorAll("."+t.parentElement.classList[4])[0]).offsetWidth/2+(b.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,Q=b.offsetHeight/2+(b.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,v=r(p,m,g,Q,l,"close");o+=v,d.push(v);f=t;var $=t.parentElement.classList[2].replace("node_out_",""),y=(w=n.querySelector(`#${$}`)).querySelectorAll("."+t.parentElement.classList[3])[0];p=(x=w.querySelectorAll("."+t.parentElement.classList[3])[0]).offsetWidth/2+(x.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,m=x.offsetHeight/2+(x.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,g=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,Q=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,v=r(p,m,g,Q,l,"open");o+=v,d.push(v)}else if(0===c){var x;f=t,$=t.parentElement.classList[2].replace("node_out_",""),y=(w=n.querySelector(`#${$}`)).querySelectorAll("."+t.parentElement.classList[3])[0],p=(x=w.querySelectorAll("."+t.parentElement.classList[3])[0]).offsetWidth/2+(x.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,m=x.offsetHeight/2+(x.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,g=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,Q=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,v=r(p,m,g,Q,l,"open");o+=v,d.push(v);f=t,g=((y=i[c+1]).getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,Q=(y.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,p=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,m=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,v=r(p,m,g,Q,a,"other");o+=v,d.push(v)}else if(c===i.length-1){var w,b;f=t,$=t.parentElement.classList[1].replace("node_in_",""),y=(w=n.querySelector(`#${$}`)).querySelectorAll("."+t.parentElement.classList[4])[0],g=(b=w.querySelectorAll("."+t.parentElement.classList[4])[0]).offsetWidth/2+(b.getBoundingClientRect().x-s.getBoundingClientRect().x)*O,Q=b.offsetHeight/2+(b.getBoundingClientRect().y-s.getBoundingClientRect().y)*u,p=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,m=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,v=r(p,m,g,Q,l,"close");o+=v,d.push(v)}else{f=t,g=((y=i[c+1]).getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,Q=(y.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,p=(f.getBoundingClientRect().x-s.getBoundingClientRect().x)*O+h,m=(f.getBoundingClientRect().y-s.getBoundingClientRect().y)*u+h,v=r(p,m,g,Q,a,"other");o+=v,d.push(v)}})),c?d.forEach(((e,i)=>{p[t].children[i].setAttributeNS(null,"d",e)})):p[t].children[0].setAttributeNS(null,"d",o)}}))}dblclick(e){null!=this.connection_selected&&this.reroute&&this.createReroutePoint(this.connection_selected),"point"===e.target.classList[0]&&this.removeReroutePoint(e.target)}createReroutePoint(e){this.connection_selected.classList.remove("selected");const t=this.connection_selected.parentElement.classList[2].slice(9),i=this.connection_selected.parentElement.classList[1].slice(13),n=this.connection_selected.parentElement.classList[3],s=this.connection_selected.parentElement.classList[4];this.connection_selected=null;const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.classList.add("point");var r=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),a=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));o.setAttributeNS(null,"cx",r),o.setAttributeNS(null,"cy",a),o.setAttributeNS(null,"r",this.reroute_width);let l=0;if(this.reroute_fix_curvature){const t=e.parentElement.querySelectorAll(".main-path").length;var c=document.createElementNS("http://www.w3.org/2000/svg","path");if(c.classList.add("main-path"),c.setAttributeNS(null,"d",""),e.parentElement.insertBefore(c,e.parentElement.children[t]),1===t)e.parentElement.appendChild(o);else{const i=Array.from(e.parentElement.children).indexOf(e);l=i,e.parentElement.insertBefore(o,e.parentElement.children[i+t+1])}}else e.parentElement.appendChild(o);const h=t.slice(5),d=this.drawflow.drawflow[this.module].data[h].outputs[n].connections.findIndex((function(e,t){return e.node===i&&e.output===s}));void 0===this.drawflow.drawflow[this.module].data[h].outputs[n].connections[d].points&&(this.drawflow.drawflow[this.module].data[h].outputs[n].connections[d].points=[]),this.reroute_fix_curvature?(l>0||this.drawflow.drawflow[this.module].data[h].outputs[n].connections[d].points!==[]?this.drawflow.drawflow[this.module].data[h].outputs[n].connections[d].points.splice(l,0,{pos_x:r,pos_y:a}):this.drawflow.drawflow[this.module].data[h].outputs[n].connections[d].points.push({pos_x:r,pos_y:a}),e.parentElement.querySelectorAll(".main-path").forEach(((e,t)=>{e.classList.remove("selected")}))):this.drawflow.drawflow[this.module].data[h].outputs[n].connections[d].points.push({pos_x:r,pos_y:a}),this.dispatch("addReroute",h),this.updateConnectionNodes(t)}removeReroutePoint(e){const t=e.parentElement.classList[2].slice(9),i=e.parentElement.classList[1].slice(13),n=e.parentElement.classList[3],s=e.parentElement.classList[4];let o=Array.from(e.parentElement.children).indexOf(e);const r=t.slice(5),a=this.drawflow.drawflow[this.module].data[r].outputs[n].connections.findIndex((function(e,t){return e.node===i&&e.output===s}));if(this.reroute_fix_curvature){const t=e.parentElement.querySelectorAll(".main-path").length;e.parentElement.children[t-1].remove(),o-=t,o<0&&(o=0)}else o--;this.drawflow.drawflow[this.module].data[r].outputs[n].connections[a].points.splice(o,1),e.remove(),this.dispatch("removeReroute",r),this.updateConnectionNodes(t)}registerNode(e,t,i=null,n=null){this.noderegister[e]={html:t,props:i,options:n}}getNodeFromId(e){var t=this.getModuleFromNodeId(e);return JSON.parse(JSON.stringify(this.drawflow.drawflow[t].data[e]))}getNodesFromName(e){var t=[];const i=this.drawflow.drawflow;return Object.keys(i).map((function(n,s){for(var o in i[n].data)i[n].data[o].name==e&&t.push(i[n].data[o].id)})),t}addNode(e,t,i,n,s,o,r,a,l=!1){if(this.useuuid)var c=this.getUuid();else c=this.nodeId;const h=document.createElement("div");h.classList.add("parent-node");const d=document.createElement("div");d.innerHTML="",d.setAttribute("id","node-"+c),d.classList.add("drawflow-node"),""!=o&&d.classList.add(...o.split(" "));const O=document.createElement("div");O.classList.add("inputs");const u=document.createElement("div");u.classList.add("outputs");const f={};for(var p=0;p<t;p++){const e=document.createElement("div");e.classList.add("input"),e.classList.add("input_"+(p+1)),f["input_"+(p+1)]={connections:[]},O.appendChild(e)}const m={};for(p=0;p<i;p++){const e=document.createElement("div");e.classList.add("output"),e.classList.add("output_"+(p+1)),m["output_"+(p+1)]={connections:[]},u.appendChild(e)}const g=document.createElement("div");if(g.classList.add("drawflow_content_node"),!1===l)g.innerHTML=a;else if(!0===l)g.appendChild(this.noderegister[a].html.cloneNode(!0));else if(3===parseInt(this.render.version)){let e=this.render.h(this.noderegister[a].html,this.noderegister[a].props,this.noderegister[a].options);e.appContext=this.parent,this.render.render(e,g)}else{let e=new this.render({parent:this.parent,render:e=>e(this.noderegister[a].html,{props:this.noderegister[a].props}),...this.noderegister[a].options}).$mount();g.appendChild(e.$el)}function Q(e,t,i){if(null===e)e=r[t];else e=e[t];null!==e&&Object.entries(e).forEach((function(t,n){if("object"==typeof t[1])Q(e,t[0],i+"-"+t[0]);else for(var s=g.querySelectorAll("[df-"+i+"-"+t[0]+"]"),o=0;o<s.length;o++)s[o].value=t[1],s[o].isContentEditable&&(s[o].innerText=t[1])}))}Object.entries(r).forEach((function(e,t){if("object"==typeof e[1])Q(null,e[0],e[0]);else for(var i=g.querySelectorAll("[df-"+e[0]+"]"),n=0;n<i.length;n++)i[n].value=e[1],i[n].isContentEditable&&(i[n].innerText=e[1])})),d.appendChild(O),d.appendChild(g),d.appendChild(u),d.style.top=s+"px",d.style.left=n+"px",h.appendChild(d),this.precanvas.appendChild(h);var v={id:c,name:e,data:r,class:o,html:a,typenode:l,inputs:f,outputs:m,pos_x:n,pos_y:s};return this.drawflow.drawflow[this.module].data[c]=v,this.dispatch("nodeCreated",c),this.useuuid||this.nodeId++,c}addNodeImport(e,t){const i=document.createElement("div");i.classList.add("parent-node");const n=document.createElement("div");n.innerHTML="",n.setAttribute("id","node-"+e.id),n.classList.add("drawflow-node"),""!=e.class&&n.classList.add(...e.class.split(" "));const s=document.createElement("div");s.classList.add("inputs");const o=document.createElement("div");o.classList.add("outputs"),Object.keys(e.inputs).map((function(i,n){const o=document.createElement("div");o.classList.add("input"),o.classList.add(i),s.appendChild(o),Object.keys(e.inputs[i].connections).map((function(n,s){var o=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","path");r.classList.add("main-path"),r.setAttributeNS(null,"d",""),o.classList.add("connection"),o.classList.add("node_in_node-"+e.id),o.classList.add("node_out_node-"+e.inputs[i].connections[n].node),o.classList.add(e.inputs[i].connections[n].input),o.classList.add(i),o.appendChild(r),t.appendChild(o)}))}));for(var r=0;r<Object.keys(e.outputs).length;r++){const e=document.createElement("div");e.classList.add("output"),e.classList.add("output_"+(r+1)),o.appendChild(e)}const a=document.createElement("div");if(a.classList.add("drawflow_content_node"),!1===e.typenode)a.innerHTML=e.html;else if(!0===e.typenode)a.appendChild(this.noderegister[e.html].html.cloneNode(!0));else if(3===parseInt(this.render.version)){let t=this.render.h(this.noderegister[e.html].html,this.noderegister[e.html].props,this.noderegister[e.html].options);t.appContext=this.parent,this.render.render(t,a)}else{let t=new this.render({parent:this.parent,render:t=>t(this.noderegister[e.html].html,{props:this.noderegister[e.html].props}),...this.noderegister[e.html].options}).$mount();a.appendChild(t.$el)}function l(t,i,n){if(null===t)t=e.data[i];else t=t[i];null!==t&&Object.entries(t).forEach((function(e,i){if("object"==typeof e[1])l(t,e[0],n+"-"+e[0]);else for(var s=a.querySelectorAll("[df-"+n+"-"+e[0]+"]"),o=0;o<s.length;o++)s[o].value=e[1],s[o].isContentEditable&&(s[o].innerText=e[1])}))}Object.entries(e.data).forEach((function(e,t){if("object"==typeof e[1])l(null,e[0],e[0]);else for(var i=a.querySelectorAll("[df-"+e[0]+"]"),n=0;n<i.length;n++)i[n].value=e[1],i[n].isContentEditable&&(i[n].innerText=e[1])})),n.appendChild(s),n.appendChild(a),n.appendChild(o),n.style.top=e.pos_y+"px",n.style.left=e.pos_x+"px",i.appendChild(n),this.precanvas.appendChild(i)}addRerouteImport(e){const t=this.reroute_width,i=this.reroute_fix_curvature,n=this.container;Object.keys(e.outputs).map((function(s,o){Object.keys(e.outputs[s].connections).map((function(o,r){const a=e.outputs[s].connections[o].points;void 0!==a&&a.forEach(((r,l)=>{const c=e.outputs[s].connections[o].node,h=e.outputs[s].connections[o].output,d=n.querySelector(".connection.node_in_node-"+c+".node_out_node-"+e.id+"."+s+"."+h);if(i&&0===l)for(var O=0;O<a.length;O++){var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.classList.add("main-path"),u.setAttributeNS(null,"d",""),d.appendChild(u)}const f=document.createElementNS("http://www.w3.org/2000/svg","circle");f.classList.add("point");var p=r.pos_x,m=r.pos_y;f.setAttributeNS(null,"cx",p),f.setAttributeNS(null,"cy",m),f.setAttributeNS(null,"r",t),d.appendChild(f)}))}))}))}updateNodeValue(e){for(var t=e.target.attributes,i=0;i<t.length;i++)if(t[i].nodeName.startsWith("df-")){for(var n=t[i].nodeName.slice(3).split("-"),s=this.drawflow.drawflow[this.module].data[e.target.closest(".drawflow_content_node").parentElement.id.slice(5)].data,o=0;o<n.length-1;o+=1)null==s[n[o]]&&(s[n[o]]={}),s=s[n[o]];s[n[n.length-1]]=e.target.value,e.target.isContentEditable&&(s[n[n.length-1]]=e.target.innerText),this.dispatch("nodeDataChanged",e.target.closest(".drawflow_content_node").parentElement.id.slice(5))}}updateNodeDataFromId(e,t){var i=this.getModuleFromNodeId(e);if(this.drawflow.drawflow[i].data[e].data=t,this.module===i){const n=this.container.querySelector("#node-"+e);function s(e,i,o){if(null===e)e=t[i];else e=e[i];null!==e&&Object.entries(e).forEach((function(t,i){if("object"==typeof t[1])s(e,t[0],o+"-"+t[0]);else for(var r=n.querySelectorAll("[df-"+o+"-"+t[0]+"]"),a=0;a<r.length;a++)r[a].value=t[1],r[a].isContentEditable&&(r[a].innerText=t[1])}))}Object.entries(t).forEach((function(e,t){if("object"==typeof e[1])s(null,e[0],e[0]);else for(var i=n.querySelectorAll("[df-"+e[0]+"]"),o=0;o<i.length;o++)i[o].value=e[1],i[o].isContentEditable&&(i[o].innerText=e[1])}))}}addNodeInput(e){var t=this.getModuleFromNodeId(e);const i=this.getNodeFromId(e),n=Object.keys(i.inputs).length;if(this.module===t){const t=document.createElement("div");t.classList.add("input"),t.classList.add("input_"+(n+1));this.container.querySelector("#node-"+e+" .inputs").appendChild(t),this.updateConnectionNodes("node-"+e)}this.drawflow.drawflow[t].data[e].inputs["input_"+(n+1)]={connections:[]}}addNodeOutput(e){var t=this.getModuleFromNodeId(e);const i=this.getNodeFromId(e),n=Object.keys(i.outputs).length;if(this.module===t){const t=document.createElement("div");t.classList.add("output"),t.classList.add("output_"+(n+1));this.container.querySelector("#node-"+e+" .outputs").appendChild(t),this.updateConnectionNodes("node-"+e)}this.drawflow.drawflow[t].data[e].outputs["output_"+(n+1)]={connections:[]}}removeNodeInput(e,t){var i=this.getModuleFromNodeId(e);const n=this.getNodeFromId(e);this.module===i&&this.container.querySelector("#node-"+e+" .inputs .input."+t).remove();const s=[];Object.keys(n.inputs[t].connections).map((function(i,o){const r=n.inputs[t].connections[o].node,a=n.inputs[t].connections[o].input;s.push({id_output:r,id:e,output_class:a,input_class:t})})),s.forEach(((e,t)=>{this.removeSingleConnection(e.id_output,e.id,e.output_class,e.input_class)})),delete this.drawflow.drawflow[i].data[e].inputs[t];const o=[],r=this.drawflow.drawflow[i].data[e].inputs;Object.keys(r).map((function(e,t){o.push(r[e])})),this.drawflow.drawflow[i].data[e].inputs={};const a=t.slice(6);let l=[];if(o.forEach(((t,n)=>{t.connections.forEach(((e,t)=>{l.push(e)})),this.drawflow.drawflow[i].data[e].inputs["input_"+(n+1)]=t})),l=new Set(l.map((e=>JSON.stringify(e)))),l=Array.from(l).map((e=>JSON.parse(e))),this.module===i){this.container.querySelectorAll("#node-"+e+" .inputs .input").forEach(((e,t)=>{const i=e.classList[1].slice(6);parseInt(a)<parseInt(i)&&(e.classList.remove("input_"+i),e.classList.add("input_"+(i-1)))}))}l.forEach(((t,n)=>{this.drawflow.drawflow[i].data[t.node].outputs[t.input].connections.forEach(((n,s)=>{if(n.node==e){const o=n.output.slice(6);if(parseInt(a)<parseInt(o)){if(this.module===i){const i=this.container.querySelector(".connection.node_in_node-"+e+".node_out_node-"+t.node+"."+t.input+".input_"+o);i.classList.remove("input_"+o),i.classList.add("input_"+(o-1))}n.points?this.drawflow.drawflow[i].data[t.node].outputs[t.input].connections[s]={node:n.node,output:"input_"+(o-1),points:n.points}:this.drawflow.drawflow[i].data[t.node].outputs[t.input].connections[s]={node:n.node,output:"input_"+(o-1)}}}}))})),this.updateConnectionNodes("node-"+e)}removeNodeOutput(e,t){var i=this.getModuleFromNodeId(e);const n=this.getNodeFromId(e);this.module===i&&this.container.querySelector("#node-"+e+" .outputs .output."+t).remove();const s=[];Object.keys(n.outputs[t].connections).map((function(i,o){const r=n.outputs[t].connections[o].node,a=n.outputs[t].connections[o].output;s.push({id:e,id_input:r,output_class:t,input_class:a})})),s.forEach(((e,t)=>{this.removeSingleConnection(e.id,e.id_input,e.output_class,e.input_class)})),delete this.drawflow.drawflow[i].data[e].outputs[t];const o=[],r=this.drawflow.drawflow[i].data[e].outputs;Object.keys(r).map((function(e,t){o.push(r[e])})),this.drawflow.drawflow[i].data[e].outputs={};const a=t.slice(7);let l=[];if(o.forEach(((t,n)=>{t.connections.forEach(((e,t)=>{l.push({node:e.node,output:e.output})})),this.drawflow.drawflow[i].data[e].outputs["output_"+(n+1)]=t})),l=new Set(l.map((e=>JSON.stringify(e)))),l=Array.from(l).map((e=>JSON.parse(e))),this.module===i){this.container.querySelectorAll("#node-"+e+" .outputs .output").forEach(((e,t)=>{const i=e.classList[1].slice(7);parseInt(a)<parseInt(i)&&(e.classList.remove("output_"+i),e.classList.add("output_"+(i-1)))}))}l.forEach(((t,n)=>{this.drawflow.drawflow[i].data[t.node].inputs[t.output].connections.forEach(((n,s)=>{if(n.node==e){const o=n.input.slice(7);if(parseInt(a)<parseInt(o)){if(this.module===i){const i=this.container.querySelector(".connection.node_in_node-"+t.node+".node_out_node-"+e+".output_"+o+"."+t.output);i.classList.remove("output_"+o),i.classList.remove(t.output),i.classList.add("output_"+(o-1)),i.classList.add(t.output)}n.points?this.drawflow.drawflow[i].data[t.node].inputs[t.output].connections[s]={node:n.node,input:"output_"+(o-1),points:n.points}:this.drawflow.drawflow[i].data[t.node].inputs[t.output].connections[s]={node:n.node,input:"output_"+(o-1)}}}}))})),this.updateConnectionNodes("node-"+e)}removeNodeId(e){this.removeConnectionNodeId(e);var t=this.getModuleFromNodeId(e.slice(5));this.module===t&&this.container.querySelector(`#${e}`).remove(),delete this.drawflow.drawflow[t].data[e.slice(5)],this.dispatch("nodeRemoved",e.slice(5))}removeConnection(){if(null!=this.connection_selected){var e=this.connection_selected.parentElement.classList;this.connection_selected.parentElement.remove();var t=this.drawflow.drawflow[this.module].data[e[2].slice(14)].outputs[e[3]].connections.findIndex((function(t,i){return t.node===e[1].slice(13)&&t.output===e[4]}));this.drawflow.drawflow[this.module].data[e[2].slice(14)].outputs[e[3]].connections.splice(t,1);var i=this.drawflow.drawflow[this.module].data[e[1].slice(13)].inputs[e[4]].connections.findIndex((function(t,i){return t.node===e[2].slice(14)&&t.input===e[3]}));this.drawflow.drawflow[this.module].data[e[1].slice(13)].inputs[e[4]].connections.splice(i,1),this.dispatch("connectionRemoved",{output_id:e[2].slice(14),input_id:e[1].slice(13),output_class:e[3],input_class:e[4]}),this.connection_selected=null}}removeSingleConnection(e,t,i,n){var s=this.getModuleFromNodeId(e);if(s===this.getModuleFromNodeId(t)){if(this.drawflow.drawflow[s].data[e].outputs[i].connections.findIndex((function(e,i){return e.node==t&&e.output===n}))>-1){this.module===s&&this.container.querySelector(".connection.node_in_node-"+t+".node_out_node-"+e+"."+i+"."+n).remove();var o=this.drawflow.drawflow[s].data[e].outputs[i].connections.findIndex((function(e,i){return e.node==t&&e.output===n}));this.drawflow.drawflow[s].data[e].outputs[i].connections.splice(o,1);var r=this.drawflow.drawflow[s].data[t].inputs[n].connections.findIndex((function(t,n){return t.node==e&&t.input===i}));return this.drawflow.drawflow[s].data[t].inputs[n].connections.splice(r,1),this.dispatch("connectionRemoved",{output_id:e,input_id:t,output_class:i,input_class:n}),!0}return!1}return!1}removeConnectionNodeId(e){const t="node_in_"+e,i="node_out_"+e,n=this.container.querySelectorAll(`.${i}`);for(var s=n.length-1;s>=0;s--){var o=n[s].classList,r=this.drawflow.drawflow[this.module].data[o[1].slice(13)].inputs[o[4]].connections.findIndex((function(e,t){return e.node===o[2].slice(14)&&e.input===o[3]}));this.drawflow.drawflow[this.module].data[o[1].slice(13)].inputs[o[4]].connections.splice(r,1);var a=this.drawflow.drawflow[this.module].data[o[2].slice(14)].outputs[o[3]].connections.findIndex((function(e,t){return e.node===o[1].slice(13)&&e.output===o[4]}));this.drawflow.drawflow[this.module].data[o[2].slice(14)].outputs[o[3]].connections.splice(a,1),n[s].remove(),this.dispatch("connectionRemoved",{output_id:o[2].slice(14),input_id:o[1].slice(13),output_class:o[3],input_class:o[4]})}const l=this.container.querySelectorAll(`.${t}`);for(s=l.length-1;s>=0;s--){o=l[s].classList,a=this.drawflow.drawflow[this.module].data[o[2].slice(14)].outputs[o[3]].connections.findIndex((function(e,t){return e.node===o[1].slice(13)&&e.output===o[4]}));this.drawflow.drawflow[this.module].data[o[2].slice(14)].outputs[o[3]].connections.splice(a,1);r=this.drawflow.drawflow[this.module].data[o[1].slice(13)].inputs[o[4]].connections.findIndex((function(e,t){return e.node===o[2].slice(14)&&e.input===o[3]}));this.drawflow.drawflow[this.module].data[o[1].slice(13)].inputs[o[4]].connections.splice(r,1),l[s].remove(),this.dispatch("connectionRemoved",{output_id:o[2].slice(14),input_id:o[1].slice(13),output_class:o[3],input_class:o[4]})}}getModuleFromNodeId(e){var t;const i=this.drawflow.drawflow;return Object.keys(i).map((function(n,s){Object.keys(i[n].data).map((function(i,s){i==e&&(t=n)}))})),t}addModule(e){this.drawflow.drawflow[e]={data:{}},this.dispatch("moduleCreated",e)}changeModule(e){this.dispatch("moduleChanged",e),this.module=e,this.precanvas.innerHTML="",this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_y=0,this.mouse_x=0,this.mouse_y=0,this.zoom=1,this.zoom_last_value=1,this.precanvas.style.transform="",this.import(this.drawflow,!1)}removeModule(e){this.module===e&&this.changeModule("Home"),delete this.drawflow.drawflow[e],this.dispatch("moduleRemoved",e)}clearModuleSelected(){this.precanvas.innerHTML="",this.drawflow.drawflow[this.module]={data:{}}}clear(){this.precanvas.innerHTML="",this.drawflow={drawflow:{Home:{data:{}}}}}export(){const e=JSON.parse(JSON.stringify(this.drawflow));return this.dispatch("export",e),e}import(e,t=!0){this.clear(),this.drawflow=JSON.parse(JSON.stringify(e)),this.load(),t&&this.dispatch("import","import")}on(e,t){return"function"!=typeof t?(console.error("The listener callback must be a function, the given type is "+typeof t),!1):"string"!=typeof e?(console.error("The event name must be a string, the given type is "+typeof e),!1):(void 0===this.events[e]&&(this.events[e]={listeners:[]}),void this.events[e].listeners.push(t))}removeListener(e,t){if(!this.events[e])return!1;const i=this.events[e].listeners,n=i.indexOf(t);n>-1&&i.splice(n,1)}dispatch(e,t){if(void 0===this.events[e])return!1;this.events[e].listeners.forEach((e=>{e(t)}))}getUuid(){for(var e=[],t="0123456789abcdef",i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}}(wc);_c.start(),_c.import(rc);const Pc=(e,t)=>{let i=document.createElement("div");return i.setAttribute("class","flow-drag"),i.setAttribute("draggable",!0),i.setAttribute("data-node",e),i.innerHTML=t,i},Rc=e=>{kc>0&&(xc.getElementById(`code_${kc}`).style.display="none");let t=document.createElement("div");switch(t.id=`code_${e}`,Sc.append(t),rc.drawflow.Home.data[e]=_c.getNodeFromId(e).name,console.log("Node Create ",kc,e,_c.getNodeFromId(e),rc.drawflow.Home.data),rc.drawflow.Home.data[e]){case"vertex":ic(`code_${e}`,t,"precision highp float;\nattribute vec3 position;\nattribute vec2 uv;\nuniform mat4 worldViewProjection;\nvarying vec2 vUV;\nvoid main(void) {\n  gl_Position = worldViewProjection * vec4(position, 1.0);\n  vUV = uv;\n}");break;case"fragment":ic(`code_${e}`,t,"precision highp float;\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\nvoid main(void) {\n  gl_FragColor = texture2D(textureSampler, vUV);\n}");break;default:_c.getNodeFromId(e).name.includes("custom")&&((e,t,i=null)=>{tc[e]||(tc[e]=new n.t({state:g.yy.create({doc:i||localStorage.getItem(e),extensions:[Da,n.t.lineWrapping,Cl(),Hl.Y,s.lg.fromClass(class{constructor(t){localStorage.setItem(e,t.state.doc)}update(t){t.docChanged&&localStorage.setItem(e,t.state.doc)}destroy(){delete tc[e]}})]}),parent:t})),tc[e]})(`code_${e}`,t,'function hello(who = "world") {\n  console.log(`Hello, ${who}!`)\n}')}kc=e},Wc=()=>{_c.zoom_reset(.8),cc.addEventListener("click",(()=>{_c.editor_mode="fixed",gc("lock")})),hc.addEventListener("click",(()=>{_c.editor_mode="edit",gc("unlock")})),dc.addEventListener("click",(()=>_c.zoom_out())),Oc.addEventListener("click",(()=>_c.zoom_reset())),uc.addEventListener("click",(()=>_c.zoom_in())),_c.on("nodeCreated",Rc),_c.on("nodeSelected",(function(e){if(console.log("select",kc,e,_c.getNodeFromId(e)),kc==e)return;let t=xc.getElementById(`code_${e}`);t?(kc>0&&(xc.getElementById(`code_${kc}`).style.display="none"),t.style.display="block",kc=e):(kc>0&&(xc.getElementById(`code_${kc}`).style.display="none"),t=document.createElement("div"),t.id=`code_${e}`,Sc.append(t),kc=e)})),_c.on("nodeRemoved",(function(e){delete rc.drawflow.Home.data[e],localStorage.removeItem(`code_${e}`),tc[`code_${e}`].destroy(),xc.getElementById(`code_${kc}`).remove(),kc=-1})),Rc(1),Rc(2),wc.addEventListener("drop",vc),wc.addEventListener("dragover",(e=>e.preventDefault())),Tc.vertex=Pc("vertex",'<img src="/img/editor/shader.svg" alt=""><span>VS</span>'),yc(Tc.vertex),Tc.fragment=Pc("fragment",'<img src="/img/editor/shader.svg" alt=""><span>FS</span>'),yc(Tc.fragment),Tc.image=Pc("image",'<img src="/img/editor/image.svg" alt=""><span>Image</span>'),yc(Tc.image),Tc.mesh=Pc("mesh",'<img src="/img/editor/grid.svg" alt=""><span>Mesh</span>'),yc(Tc.mesh),Tc.buffer=Pc("buffer",'<img src="/img/editor/buffer.svg" alt=""><span>Buffer</span>'),yc(Tc.buffer),bc.addEventListener("click",(()=>{const e=Object.keys(Tc).length-4,t="custom"+e;Tc[t]=Pc(t,`<img src="/img/editor/code.svg" alt=""><span>Node ${e}</span>`),yc(Tc[t]),console.log(Tc)}))}}}]);