"use strict";(self.webpackChunkshaderlab=self.webpackChunkshaderlab||[]).push([[511],{511:(e,t,r)=>{r.r(t),r.d(t,{uploadFeature:()=>s});var a=r(854);const o=document.querySelector(".sl-editor .post-input"),s=()=>{document.querySelector(".sl-nav .upload-entry").addEventListener("click",(()=>{Object.assign(a.structure,a.editor.export());for(let e in a.structure.drawflow.Home.data)a.structure[`code_${e}`]=localStorage.getItem(`code_${e}`);console.log(o.value,JSON.stringify(a.structure));let e=new FormData;e.append("topic",""),e.append("name",o.value),e.append("content",JSON.stringify(a.structure)),fetch("/api/post",{method:"POST",headers:new Headers({Authorization:"Bearer "+localStorage.getItem("token")}),body:e}).then((e=>e.json())).then((e=>{e.status,alert(e.msg)}))}))}}}]);